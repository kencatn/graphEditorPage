(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jr(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ZS(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e}function KS(e){return e!=null&&typeof e.GetEnumerator=="function"}function qS(e){return e!=null&&typeof e.CompareTo=="function"}function QS(e){return e!=null&&typeof e.Equals=="function"}function bv(e){return e!=null&&typeof e.GetHashCode=="function"}function JS(e){return e!=null&&typeof e.Dispose=="function"}function Ue(e){JS(e)&&e.Dispose()}function yn(){return null}function f0(e,t){var n,r;return((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(t))==null?void 0:r.constructor)}class XS{constructor(t){this.iter=t,this.current=yn()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Xe(e){return KS(e)?e.GetEnumerator():new XS(e[Symbol.iterator]())}function bu(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class on{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function It(e,t){return e.toString(10).padStart(t,"0")}function K1(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function io(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}function H$(e,t){return e=e<0&&t!=null&&t!==10?0xffffffffffffffffn+e+1n:e,e.toString(t)}class ri{static id(t){return ri.idMap.has(t)||ri.idMap.set(t,++ri.count),ri.idMap.get(t)}}ri.idMap=new WeakMap;ri.count=0;function Pc(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function ec(e){return e*2654435761|0}function Uv(e){return Pc(e.toString(32))}function Uu(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function YS(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return ec(e);case"bigint":return Uv(e);case"string":return Pc(e);default:return ec(ri.id(e))}}function ek(e){return bv(e)?e.GetHashCode():YS(e)}function tk(e){return e.getTime()}function jv(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=kn(e[r]);return Uu(n)}function kn(e){var t;if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return ec(e);case"bigint":return Uv(e);case"string":return Pc(e);default:{if(bv(e))return e.GetHashCode();if(Jr(e))return jv(e);if(e instanceof Date)return tk(e);if(((t=Object.getPrototypeOf(e))==null?void 0:t.constructor)===Object){const n=Object.values(e).map(r=>kn(r));return Uu(n)}else return ec(ri.id(e))}}}function Ki(e){return ek(e)}function q1(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function tc(e,t){return q1(e,t,ee)}function nk(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!ee(e[n[s]],t[r[s]]))return!1;return!0}function ee(e,t){var n;return e===t?!0:e==null?t==null:t==null?!1:QS(e)?e.Equals(t):Jr(e)?Jr(t)&&tc(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&Hv(e,t)===0:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object&&nk(e,t)}function Hv(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+K1(e),r=t.getTime()+K1(t)),n===r?0:n<r?-1:1}function cn(e,t){return e===t?0:e<t?-1:1}function rk(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function Wr(e,t){return rk(e,t,Te)}function sk(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,i=0;s<n.length;s++){const o=n[s];if(o!==r[s])return o<r[s]?-1:1;if(i=Te(e[o],t[o]),i!==0)return i}return 0}function Te(e,t){var n;return e===t?0:e==null?t==null?0:-1:t==null?1:qS(e)?e.CompareTo(t):Jr(e)?Jr(t)?Wr(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?Hv(e,t):-1:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object?sk(e,t):-1}function Qe(e){const t={};for(const n of e)t[n[0]]=n[1];return t}function d0(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),i=r-s,o=1e-8,l=i>.5-o&&i<.5+o?s%2===0?s:s+1:Math.round(r);return t?l/n:l}function ik(e){return e>0?1:e<0?-1:0}const Wv=new WeakMap;function gu(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return Wv.set(t,e),t}function Qp(e){return Wv.get(e)??(t=>n=>e(t,n))}function Jp(e){let t=0,n="[";for(const r of e){if(t===0)n+=Ae(r);else if(t===100){n+="; ...";break}else n+="; "+Ae(r);t++}return n+"]"}function Ae(e,t=0){var n;if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return Jp(e);{const r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor;return r===Object&&t<10?"{ "+Object.entries(e).map(([s,i])=>s+" = "+Ae(i,t+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(e)}function ok(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=Ae(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>Ae(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class fe{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return ok(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>kn(n));return t.splice(0,0,ec(this.tag)),Uu(t)}Equals(t){return this===t?!0:f0(this,t)&&this.tag===t.tag?tc(this.fields,t.fields):!1}CompareTo(t){return this===t?0:f0(this,t)?this.tag===t.tag?Wr(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function lk(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function uk(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+Ae(n)).join(`
  `)+" }"}function ak(e){const t=Object.values(e).map(n=>kn(n));return Uu(t)}function ck(e,t){if(e===t)return!0;if(f0(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!ee(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function fk(e,t){if(e===t)return 0;if(f0(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=Te(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class ue{toJSON(){return lk(this)}toString(){return uk(this)}GetHashCode(){return ak(this)}Equals(t){return ck(this,t)}CompareTo(t){return fk(this,t)}}class di{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}var vt={},dk=28,hk=1,Yo=1e6,W$=1e6,pk=-29,wk=29,$k=!1,Dc="[big.js] ",hl=Dc+"Invalid ",fd=hl+"decimal places",gk=hl+"rounding mode",Zv=Dc+"Division by zero",zs=void 0,yk=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Kv(){function e(t){var n=this;if(!(n instanceof e))return t===zs?Kv():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice(),vk(n);else{if(typeof t!="string"){if(e.strict===!0)throw TypeError(hl+"number");t=t===0&&1/t<0?"-0":String(t)}mk(n,t)}n.constructor=e}return e.prototype=vt,e.DP=dk,e.RM=hk,e.NE=pk,e.PE=wk,e.strict=$k,e}function vk(e){if(e.c.length>1&&!e.c[0]){let t=e.c.findIndex(n=>n);e.c=e.c.slice(t),e.e=e.e-t}}function mk(e,t){var n,r,s;if(!yk.test(t))throw Error(hl+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<n&&r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<s;)e.c[n++]=+t.charAt(r++);return e=fo(e,On.DP+1,On.RM),e}function fo(e,t,n,r){var s=e.c;if(n===zs&&(n=On.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(gk);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==zs))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){const i=s.findIndex((o,l)=>l>=t&&o>0)<0;if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==zs||s[t-1]&1))||n===3&&(r||!i),s.length=t--,r)for(;++s[t]>9;)s[t]=0,t--||(++e.e,s.unshift(1));for(t=s.length;!s[--t];)s.pop()}return e}function ju(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}vt.abs=function(){var e=new this.constructor(this);return e.s=1,e};vt.cmp=function(s){var t,n=this.constructor,r=new n(this),s=new n(s),i=r.c,o=s.c,l=r.s,u=s.s,a=r.e,c=s.e;if(!i[0]||!o[0])return i[0]?l:o[0]?-u:0;if(l!=u)return l;if(t=l<0,a!=c)return a>c^t?1:-1;for(u=Math.max(i.length,o.length),l=0;l<u;l++)if(a=l<i.length?i[l]:0,c=l<o.length?o[l]:0,a!=c)return a>c^t?1:-1;return 0};vt.div=function(r){var t=this.constructor,n=new t(this),r=new t(r),s=n.c,i=r.c,o=n.s==r.s?1:-1,l=t.DP;if(l!==~~l||l<0||l>Yo)throw Error(fd);if(!i[0])throw Error(Zv);if(!s[0])return r.s=o,r.c=[r.e=0],r;var u,a,c,f,d,g=i.slice(),w=u=i.length,v=s.length,_=s.slice(0,u),p=_.length,h=r,$=h.c=[],C=0,k=l+(h.e=n.e-r.e)+1;for(h.s=o,o=k<0?0:k,g.unshift(0);p++<u;)_.push(0);do{for(c=0;c<10;c++){if(u!=(p=_.length))f=u>p?1:-1;else for(d=-1,f=0;++d<u;)if(i[d]!=_[d]){f=i[d]>_[d]?1:-1;break}if(f<0){for(a=p==u?i:g;p;){if(_[--p]<a[p]){for(d=p;d&&!_[--d];)_[d]=9;--_[d],_[p]+=10}_[p]-=a[p]}for(;!_[0];)_.shift()}else break}$[C++]=f?c:++c,_[0]&&f?_[p]=s[w]||0:_=[s[w]]}while((w++<v||_[0]!==zs)&&o--);return!$[0]&&C!=1&&($.shift(),h.e--,k--),C>k&&fo(h,k,t.RM,_[0]!==zs),h};vt.eq=function(e){return this.cmp(e)===0};vt.gt=function(e){return this.cmp(e)>0};vt.gte=function(e){return this.cmp(e)>-1};vt.lt=function(e){return this.cmp(e)<0};vt.lte=function(e){return this.cmp(e)<1};vt.minus=vt.sub=function(l){var t,n,r,s,i=this.constructor,o=new i(this),l=new i(l),u=o.s,a=l.s;if(u!=a)return l.s=-a,o.plus(l);var c=o.c.slice(),f=o.e,d=l.c,g=l.e;if(!c[0]||!d[0])return d[0]?l.s=-a:c[0]?l=new i(o):l.s=1,l;if(u=f-g){for((s=u<0)?(u=-u,r=c):(g=f,r=d),r.reverse(),a=u;a--;)r.push(0);r.reverse()}else for(n=((s=c.length<d.length)?c:d).length,u=a=0;a<n;a++)if(c[a]!=d[a]){s=c[a]<d[a];break}if(s&&(r=c,c=d,d=r,l.s=-l.s),(a=(n=d.length)-(t=c.length))>0)for(;a--;)c[t++]=0;for(a=t;n>u;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;)c.shift(),--g;return c[0]||(l.s=1,c=[g=0]),l.c=c,l.e=g,l};vt.mod=function(s){var t,n=this.constructor,r=new n(this),s=new n(s),i=r.s,o=s.s;if(!s.c[0])throw Error(Zv);return r.s=s.s=1,t=s.cmp(r)==1,r.s=i,s.s=o,t?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(s),n.DP=i,n.RM=o,this.minus(r.times(s)))};vt.plus=vt.add=function(o){var t,n,r,s=this.constructor,i=new s(this),o=new s(o);if(i.s!=o.s)return o.s=-o.s,i.minus(o);var l=i.e,u=i.c,a=o.e,c=o.c;if(!u[0]||!c[0])return c[0]||(u[0]?o=new s(i):o.s=i.s),o;if(u=u.slice(),t=l-a){for(t>0?(a=l,r=c):(t=-t,r=u),r.reverse();t--;)r.push(0);r.reverse()}for(u.length-c.length<0&&(r=c,c=u,u=r),t=c.length,n=0;t;u[t]%=10)n=(u[--t]=u[t]+c[t]+n)/10|0;for(n&&(u.unshift(n),++a),t=u.length;u[--t]===0;)u.pop();return o.c=u,o.e=a,o};vt.pow=function(e){var t=this.constructor,n=new t(this),r=new t("1"),s=new t("1"),i=e<0;if(e!==~~e||e<-W$||e>W$)throw Error(hl+"exponent");for(i&&(e=-e);e&1&&(r=r.times(n)),e>>=1,!!e;)n=n.times(n);return i?s.div(r):r};vt.prec=function(e,t){if(e!==~~e||e<1||e>Yo)throw Error(hl+"precision");return fo(new this.constructor(this),e,t)};vt.round=function(e,t){if(e===zs)e=0;else if(e!==~~e||e<-Yo||e>Yo)throw Error(fd);return fo(new this.constructor(this),e+this.e+1,t)};vt.sqrt=function(){var e,t,n,r=this.constructor,s=new r(this),i=s.s,o=s.e,l=new r("0.5");if(!s.c[0])return new r(s);if(i<0)throw Error(Dc+"No square root");i=Math.sqrt(s+""),i===0||i===1/0?(t=s.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new r((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new r(i+""),o=e.e+(r.DP+=4);do n=e,e=l.times(n.plus(s.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return fo(e,(r.DP-=4)+e.e+1,r.RM)};vt.times=vt.mul=function(s){var t,n=this.constructor,r=new n(this),s=new n(s),i=r.c,o=s.c,l=i.length,u=o.length,a=r.e,c=s.e;if(s.s=r.s==s.s?1:-1,!i[0]||!o[0])return s.c=[s.e=0],s;for(s.e=a+c,l<u&&(t=i,i=o,o=t,c=l,l=u,u=c),t=new Array(c=l+u);c--;)t[c]=0;for(a=u;a--;){for(u=0,c=l+a;c>a;)u=t[c]+o[a]*i[c-a-1]+u,t[c--]=u%10,u=u/10|0;t[c]=u}for(u?++s.e:t.shift(),a=t.length;!t[--a];)t.pop();return s.c=t,s};vt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==zs){if(e!==~~e||e<0||e>Yo)throw Error(fd);for(n=fo(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return ju(n,!0,!!r)};vt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==zs){if(e!==~~e||e<0||e>Yo)throw Error(fd);for(n=fo(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return ju(n,!1,!!r)};vt.toJSON=vt.toString=function(){var e=this,t=e.constructor;return ju(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};vt.toNumber=function(){var e=Number(ju(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Dc+"Imprecise conversion");return e};vt.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==zs){if(e!==~~e||e<1||e>Yo)throw Error(hl+"precision");for(n=fo(new r(n),e,t);n.c.length<e;)n.c.push(0)}return ju(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};vt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Dc+"valueOf disallowed");return ju(e,e.e<=t.NE||e.e>=t.PE,!0)};var On=Kv();const pl=Symbol("numeric");function qv(e){return typeof e=="number"||typeof e=="bigint"||(e==null?void 0:e[pl])}function _k(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Q1(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[pl]().multiply(t)}function Vf(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[pl]().toFixed(t)}function h0(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[pl]().toPrecision(t)}function p0(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[pl]().toExponential(t)}function w0(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[pl]().toHex()}On.prototype.GetHashCode=function(){return Uu([this.s,this.e].concat(this.c))};On.prototype.Equals=function(e){return!this.cmp(e)};On.prototype.CompareTo=function(e){return this.cmp(e)};On.prototype[pl]=function(){const e=this;return{multiply:t=>e.mul(t),toPrecision:t=>e.toPrecision(t),toExponential:t=>e.toExponential(t),toFixed:t=>e.toFixed(t),toHex:()=>(Number(e)>>>0).toString(16)}};new On(0);new On(1);new On(-1);new On("79228162514264337593543950335");new On("-79228162514264337593543950335");function Ck(e){return e.toString()}function Sk(e,t){const n=new Uint8Array(t*301/1e3+1|0);let r=1;for(let s=e.length-1;s>=0;s--){let i=e[s];for(let o=0;o<r;o++){const l=n[o]*16+i|0;n[o]=l%10|0,i=l/10|0}for(;i>0;)n[r++]=i%10|0,i=i/10|0}return n.slice(0,r)}function Jd(e,t,n){for(let r=0;r<8;r++)e[n+r]=t>>r*4&15}function kk(e,t,n,r,s){const o=new Uint8Array(24);Jd(o,e,0),Jd(o,t,8),Jd(o,n,16);const l=Sk(o,96);s=s&127;const u=new On(0);return u.c=Array.from(l.reverse()),u.e=l.length-s-1,u.s=r?-1:1,new On(u)}class Ek{constructor(t,n,r,s){this.declaringType=t,this.tag=n,this.name=r,this.fields=s}}let ur=class{constructor(t,n,r,s,i,o,l){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=i,this.cases=o,this.enumCases=l}toString(){return nn(this)}GetHashCode(){return Qv(this)}Equals(t){return $0(this,t)}};function or(e){return e.generics!=null?e.generics:[]}function Qv(e){const t=Pc(e.fullname),n=or(e).map(Qv);return Uu([t,...n])}function $0(e,t){return e.fullname===""?t.fullname===""&&q1(g0(e),g0(t),([n,r],[s,i])=>n===s&&$0(r,i)):e.fullname===t.fullname&&q1(or(e),or(t),$0)}function Zo(e,t,n,r){return new ur(e,t,n,r)}function ar(e,t,n,r){return new ur(e,t,n,void 0,r)}function Tr(e,t,n,r){const s=new ur(e,t,n,void 0,void 0,()=>{const i=n.prototype.cases();return r().map((o,l)=>new Ek(s,l,i[l],o))});return s}function Pt(...e){return new ur("System.Tuple`"+e.length,e)}function Br(e){return new ur("Microsoft.FSharp.Core.FSharpOption`1",[e])}function J1(e){return new ur("Microsoft.FSharp.Collections.FSharpList`1",[e])}const Of=new ur("Microsoft.FSharp.Core.Unit"),nc=new ur("System.String"),ai=new ur("System.Boolean"),qe=new ur("System.Int32"),tt=new ur("System.Double");function un(e){if(Array.isArray(e))return e[0];if(e instanceof ur){const t=dd(e);if(t!=null)return un(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function nn(e){const t=dd(e);return t!=null?nn(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>nn(n)).join(",")+"]"}function xk(e){return dd(e)!=null}function dd(e){var t;return e.fullname==="[]"&&((t=e.generics)==null?void 0:t.length)===1?e.generics[0]:void 0}function Mk(e){return e.enumCases!=null&&e.enumCases.length>0}function Tk(e){var t;return(t=e.generics)==null?void 0:t[0]}function Jv(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function g0(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Ik(e){if(Xv(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function Pk(e){if(Xp(e)&&e.generics!=null){const t=e.generics;return[t[0],t[1]]}else throw new Error(`${e.fullname} is not an F# function type`)}function Dk(e){return e instanceof ur?e.cases!=null:e instanceof fe}function Nk(e){return e instanceof ur?e.fields!=null:e instanceof ue}function Xv(e){return e.fullname.startsWith("System.Tuple")}function Xp(e){return e.fullname==="Microsoft.FSharp.Core.FSharpFunc`2"}function Vk(e,t){const r=Jv(t)[e.tag];if(r==null)throw new Error(`Cannot find case ${e.name} in union type`);return[r,e.fields]}function Ok(e){return e.fields==null?[]:e.fields}function Rk(e,t){return e[t[0]]}function ks(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function Fk(e,t){const n=g0(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,i],o)=>(r[s]=t[o],r),{})}BigInt.prototype.toJSON=function(){return`${this.toString()}`};const zk=0n;function Lk(e){return BigInt(e)}function Xd(e){return BigInt(Math.trunc(e))}function Ak(e){return BigInt(e)}function Fl(e){return BigInt.asIntN(64,e)}function Z$(e){return BigInt.asUintN(64,e)}function Gk(e){return Number(e)}function K$(e){const t=Number(BigInt.asUintN(32,e)),n=Number(BigInt.asUintN(32,e>>32n)),r=Number(BigInt.asUintN(32,e>>64n)),s=e<zk;return kk(t,n,r,s,0)}function Bk(e){return e.toString()}function bk(e){return BigInt(e)}const Uk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jk=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Hk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Wk=["January","February","March","April","May","June","July","August","September","October","November","December"];function $r(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function q$(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function Zk(e,t){let n=t;const r=e[t];let s="",i=!1;for(;t<e.length;){t++;const o=e[t];if(o===r){i=!0;break}else if(o==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=o}if(!i)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function Yp(e,t,n){let r=0,s=0,i="";const o=n?hd(e.getTime(),1):e;for(;r<t.length;){const l=t[r];switch(l){case"d":switch(s=$r(t,r,"d"),r+=s,s){case 1:i+=o.getDate();break;case 2:i+=It(o.getDate(),2);break;case 3:i+=Uk[Y$(o)];break;case 4:i+=jk[Y$(o)];break}break;case"f":if(s=$r(t,r,"f"),r+=s,s<=3){const _=10**(3-s);i+=It(Math.floor(Xc(o)/_),s)}else s<=7&&(i+=(""+Xc(o)).padEnd(s,"0"));break;case"F":if(s=$r(t,r,"F"),r+=s,s<=3){const _=10**(3-s),p=Math.floor(Xc(o)/_);p!=0&&(i+=It(p,s))}else if(s<=7){const _=Xc(o);_!=0&&(i+=It(_,3))}break;case"g":s=$r(t,r,"g"),r+=s,s<=2&&(i+="A.D.");break;case"h":switch(s=$r(t,r,"h"),r+=s,s){case 1:i+=Jc(o)%12;break;case 2:i+=It(Jc(o)%12,2);break}break;case"H":switch(s=$r(t,r,"H"),r+=s,s){case 1:i+=Jc(o);break;case 2:i+=It(Jc(o),2);break}break;case"K":switch(s=$r(t,r,"K"),r+=s,s){case 1:switch(Q$(o)){case 1:i+="Z";break;case 2:i+=tu(o.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=$r(t,r,"m"),r+=s,s){case 1:i+=J$(o);break;case 2:i+=It(J$(o),2);break}break;case"M":switch(s=$r(t,r,"M"),r+=s,s){case 1:i+=Yc(o);break;case 2:i+=It(Yc(o),2);break;case 3:i+=Hk[Yc(o)-1];break;case 4:i+=Wk[Yc(o)-1];break}break;case"s":switch(s=$r(t,r,"s"),r+=s,s){case 1:i+=X$(o);break;case 2:i+=It(X$(o),2);break}break;case"t":switch(s=$r(t,r,"t"),r+=s,s){case 1:i+=o.getHours()<12?"A":"P";break;case 2:i+=o.getHours()<12?"AM":"PM";break}break;case"y":switch(s=$r(t,r,"y"),r+=s,s){case 1:i+=o.getFullYear()%100;break;case 2:i+=It(o.getFullYear()%100,2);break;case 3:i+=It(o.getFullYear(),3);break;case 4:i+=It(o.getFullYear(),4);break;case 5:i+=It(o.getFullYear(),5);break}break;case"z":s=$r(t,r,"z"),r+=s;let u="";switch(Q$(o)){case 1:u="+00:00";break;case 2:u=tu(o.getTimezoneOffset()*-6e4);break;case 0:u=tu(nE(o).getTimezoneOffset()*-6e4);break}const a=u[0]==="-"?"-":"+",c=parseInt(u.substring(1,3),10),f=parseInt(u.substring(4,6),10);switch(s){case 1:i+=`${a}${c}`;break;case 2:i+=`${a}${It(c,2)}`;break;default:i+=`${a}${It(c,2)}:${It(f,2)}`;break}break;case":":i+=":",r++;break;case"/":i+="/",r++;break;case"'":case'"':const[d,g]=Zk(t,r);i+=d,r+=g;break;case"%":const w=q$(t,r);if(w>=0&&w!==37)r+=2,i+=Yp(o,String.fromCharCode(w),n);else throw new Error("Invalid format string");break;case"\\":const v=q$(t,r);if(v>=0)r+=2,i+=String.fromCharCode(v);else throw new Error("Invalid format string");break;default:r++,i+=l;break}}return i}function Q$(e){return e.kind||0}function Kk(e,t){return Fl((BigInt(e)+62135596800000n+BigInt(t))*10000n)}function qk(e){return Number(BigInt(e)/10000n-62135596800000n)}function tu(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+It(n,2)+":"+It(r,2)}function y0(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Qk(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return It(e.getFullYear(),4)+"-"+It(e.getMonth()+1,2)+"-"+It(e.getDate(),2)+"T"+It(e.getHours(),2)+":"+It(e.getMinutes(),2)+":"+It(e.getSeconds(),2)+"."+It(e.getMilliseconds(),3)+(n?tu(e.getTimezoneOffset()*-6e4):"")}}function Jk(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+tu(t)}function Xk(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+tu(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return y0(n,"first");case"T":case"t":return y0(n,"second");case"O":case"o":return Jk(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return Yp(n,t,!0)}function Yk(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?y0(e,"first"):e.toLocaleDateString();case"T":case"t":return n?y0(e,"second"):e.toLocaleTimeString();case"O":case"o":return Qk(e,n);default:throw new Error("Unrecognized Date print format")}else return Yp(e,t,n)}function yu(e,t,n){return e.offset!=null?Xk(e,t):Yk(e,t)}function hd(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function eE(e){return Kk(e.getTime(),K1(e))}function Yv(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let i,o=0;if(s[2]!=null){const l=s[2].split(":"),u=parseInt(l[0],10);o=u*3600+parseInt(l[1]||"0",10)*60+parseFloat(l[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&u<12&&(o+=720)}if(s[4]!=null){if(s[1]!=null)i=new Date(s[1]+" UTC");else{const l=new Date;i=new Date(l.getUTCFullYear()+"/"+(l.getUTCMonth()+1)+"/"+l.getUTCDate())}if(s[4]==="Z")r="Z";else{let l=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(l*=-1),r=l,o-=l*60}}else if(s[1]!=null)i=new Date(s[1]);else{const l=new Date;i=new Date(l.getFullYear()+"/"+(l.getMonth()+1)+"/"+l.getDate())}n=new Date(i.getTime()+o*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-i.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function tE(e,t=!1){const[n,r]=Yv(e),s=r!=null?t&&r==="Z"?1:2:0;return hd(n.getTime(),s)}function nE(e){return e.kind===2?e:hd(e.getTime(),2)}function Jc(e){return e.kind===1?e.getUTCHours():e.getHours()}function Xc(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function J$(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Yc(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function X$(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Y$(e){return e.kind===1?e.getUTCDay():e.getDay()}function ew(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const da=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,rE=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function em(e,t){return _k(e,t)<0}function F(e){return{input:e,cont:iE(e)}}function tw(e,t){return typeof t=="string"?e(t):t.cont(e)}function Me(e){return tw(t=>console.log(t),e)}function Ne(e){return tw(t=>t,e)}function et(e){return tw(t=>{throw new Error(t)},e)}function sE(e,t,n,r,s){let i="";if(t=t||"",s=s||"",qv(e))switch(s.toLowerCase()!=="x"&&(em(e,0)?(e=Q1(e,-1),i="-"):t.indexOf(" ")>=0?i=" ":t.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Vf(e,r);break;case"g":case"G":e=r!=null?h0(e,r):h0(e);break;case"e":case"E":e=r!=null?p0(e,r):p0(e);break;case"x":e=w0(e);break;case"X":e=w0(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=yu(e):e=Ae(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=i+e;else{const o=t.indexOf("0")>=0,l=t.indexOf("-")>=0,u=l||!o?" ":"0";u==="0"?(e=rc(e,n-i.length,u,l),e=i+e):e=rc(i+e,n,u,l)}return e}function tm(e,t,n,r="",s=-1){return(...i)=>{let o=r;const l=t.slice(),u=n.slice();for(const a of i){const[,,c,f,d,g]=u[0];let w=f;if(s>=0)w=s,s=-1;else if(w==="*"){if(a<0)throw new Error("Non-negative number required");s=a;continue}o+=l[0],o+=sE(a,c,w,d,g),l.splice(0,1),u.splice(0,1)}return u.length===0?(o+=l[0],e(o)):tm(e,l,u,o,s)}}function iE(e){return t=>{da.lastIndex=0;const n=[],r=[];let s=0,i=da.exec(e);for(;i;){const o=i.index+(i[1]||"").length;n.push(e.substring(s,o).replace(/%%/g,"%")),r.push(i),s=da.lastIndex,da.lastIndex-=1,i=da.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),tm(t,n,r))}}function nm(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(rE,(r,s,i,o,l,u)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let a=t[s];if(qv(a))switch(l=l==null?null:parseInt(l,10),o){case"f":case"F":l=l??2,a=Vf(a,l);break;case"g":case"G":a=l!=null?h0(a,l):h0(a);break;case"e":case"E":a=l!=null?p0(a,l):p0(a);break;case"p":case"P":l=l??2,a=Vf(Q1(a,100),l)+" %";break;case"d":case"D":a=l!=null?Yd(String(a),l,"0"):String(a);break;case"x":case"X":a=l!=null?Yd(w0(a),l,"0"):w0(a),o==="X"&&(a=a.toUpperCase());break;default:if(u){let c="";a=u.replace(/([0#,]+)(\.[0#]+)?/,(f,d,g)=>{em(a,0)&&(a=Q1(a,-1),c="-"),g=g==null?"":g.substring(1),a=Vf(a,Math.max(g.length,0));let[w,v]=a.split(".");v||(v="");const _=d.replace(/,/g,"").replace(/^#+/,"").length;w=Yd(w,_,"0");const p=g.replace(/#+$/,"").length;if(p>v.length?v=cE(v,p,"0"):p<v.length&&(v=v.substring(0,p)+v.substring(p).replace(/0+$/,"")),d.indexOf(",")>0){const h=w.length%3,$=Math.floor(w.length/3);let C=h>0?w.substr(0,h)+($>0?",":""):"";for(let k=0;k<$;k++)C+=w.substr(h+k*3,3)+(k<$-1?",":"");w=C}return v.length>0?w+"."+v:w}),a=c+a}}else a instanceof Date?a=yu(a,u||o):a=Ae(a);return i=parseInt((i||" ").substring(1),10),isNaN(i)||(a=rc(String(a),Math.abs(i)," ",i<0)),a})}function X1(e,t){const n=e.lastIndexOf(t);return n>=0&&n===e.length-t.length}function oE(e,t){if(e<0)throw new Error("String length must be non-negative");const n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n.join("")}function lE(e){return typeof e!="string"||e.length===0}function Se(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function uE(e){throw new Error("The environment doesn't support '"+e+"', please use a polyfill.")}function aE(e){const t=typeof atob=="function"?atob(e):uE("atob"),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function rc(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Yd(e,t,n){return rc(e,t,n)}function cE(e,t,n){return rc(e,t,n,!0)}function ef(e,t,n){return e.replace(new RegExp(ew(t),"g"),n)}function eg(e,t){return oE(e,()=>t)}function ci(e,t,n,r){if(n=typeof n=="number"?n:void 0,r=typeof r=="number"?r:0,n&&n<0)throw new Error("Count cannot be less than zero");if(n===0)return[];const s=(r&1)===1,i=(r&2)===2;t=t||[],t=t.filter(c=>c).map(ew),t=t.length>0?t:["\\s"];const o=[],l=new RegExp(t.join("|"),"g");let u=!0,a=0;do{const c=l.exec(e);if(c===null){const f=i?e.substring(a).trim():e.substring(a);(!s||f.length>0)&&o.push(f),u=!1}else{const f=i?e.substring(a,c.index).trim():e.substring(a,c.index);(!s||f.length>0)&&(n!=null&&o.length+1===n?(o.push(i?e.substring(a).trim():e.substring(a)),u=!1):o.push(f)),a=l.lastIndex}}while(u);return o}function fE(e,...t){if(t.length===0)return e.trim();const n="["+ew(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function dE(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return n!=null?e.substr(t,n):e.substr(t)}class vu{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return kn(this.value)}Equals(t){return t==null?!1:ee(this.value,t instanceof vu?t.value:t)}CompareTo(t){return t==null?1:Te(this.value,t instanceof vu?t.value:t)}}function b(e){if(e==null)throw new Error("Option has no value");return e instanceof vu?e.value:e}function ut(e){return e==null||e instanceof vu?new vu(e):e}function La(e){return e==null?[]:[b(e)]}function nw(e,t){return e!=null?b(e):t}function le(e,t){return t!=null?ut(e(b(t))):void 0}function hE(e,t){return t!=null?e(b(t)):void 0}const pE="The index was outside the range of elements in the collection.",pd="Collection was empty.";function mu(e,t){return typeof e=="function"?new e(t):new Array(t)}function wE(e,t){if(e!=null&&/\S/.test(e)){const n=+e.replace("_","");if(!Number.isNaN(n))return t.contents=n,!0}return!1}function v0(e){const t=new di(0);if(wE(e,t))return t.contents;throw new Error(`The input string ${e} was not in a correct format.`)}function sc(e,t){return e>t?e:t}function rm(e,t){return e<t?e:t}function $E(){throw new Error("An index satisfying the predicate was not found in the collection.")}function gE(){throw new Error("Arrays had different lengths")}function Ls(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function Y1(e,t,n){const r=t.length|0,s=mu(n,r);for(let i=0;i<=r-1;i++)lt(s,i,e(i,J(i,t)));return s}function Vt(e,t,n){const r=t.length|0,s=mu(n,r);for(let i=0;i<=r-1;i++)lt(s,i,e(J(i,t)));return s}function yE(e,t,n,r){if(t.length!==n.length)throw new Error("Arrays had different lengths");const s=mu(r,t.length);for(let i=0;i<=t.length-1;i++)lt(s,i,e(J(i,t),J(i,n)));return s}function vE(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(n.length|0){case 0:return mu(t,0);case 1:return J(0,n);default:{let s=0,i=0;for(let l=0;l<=n.length-1;l++){const u=J(l,n);i=i+u.length|0}const o=mu(t,i);for(let l=0;l<=n.length-1;l++){const u=J(l,n);for(let a=0;a<=u.length-1;a++)lt(o,s,J(a,u)),s=s+1|0}return o}}}function mE(e,t){const n=mu(t,1);return lt(n,0,e),n}function _E(e){return e.slice().reverse()}function CE(e,t){const n=t.find(e);return n==null?$E():b(n)}function Ml(e,t){return t.find(e)}function sm(e,t,n){const r=e;return n.reduce(r,t)}function e1(e,t){e.length!==t.length&&gE();const n=new Array(e.length);for(let r=0;r<=e.length-1;r++)lt(n,r,[J(r,e),J(r,t)]);return n}function SE(e,t,n){if(t==null)return n==null?0:-1;if(n==null)return 1;{const r=t.length|0,s=n.length|0;if(r>s)return 1;if(r<s)return-1;{let i=0,o=0;for(;o===0&&i<r;)o=e(J(i,t),J(i,n))|0,i=i+1|0;return o|0}}}function Rf(e,t,n){if(t==null)return n==null;if(n==null)return!1;{let r=0,s=!0;const i=t.length|0,o=n.length|0;if(i>o)return!1;if(i<o)return!1;for(;r<i&&s;)s=e(J(r,t),J(r,n)),r=r+1|0;return s}}function kE(e){if(e.length!==0)return ut(J(0,e))}function J(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function lt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function im(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class dn extends ue{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+Se("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,i)=>{e:for(;;){const o=s,l=i,u=o.tail,a=l.tail;if(u!=null)if(a!=null){const c=b(u),f=b(a);if(ee(o.head,l.head)){s=c,i=f;continue e}else return!1}else return!1;else return a==null}})(n,t)}GetHashCode(){return((r,s,i)=>{e:for(;;){const o=r,l=s,u=i,a=u.tail;if(a!=null){const c=b(a);if(o>18)return l|0;r=o+1,s=(l<<1)+kn(u.head)+631*o,i=c;continue e}else return l|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,i)=>{e:for(;;){const o=s,l=i,u=o.tail,a=l.tail;if(u!=null)if(a!=null){const c=b(u),f=b(a),d=Te(o.head,l.head)|0;if(d===0){s=c,i=f;continue e}else return d|0}else return 1;else return a!=null?-1:0}})(this,t)|0}GetEnumerator(){return xE(this)}[Symbol.iterator](){return bu(Xe(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Xe(this)}}class EE{constructor(t){this.xs=t,this.it=this.xs,this.current=yn()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=b(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=yn()}Dispose(){}}function xE(e){return new EE(e)}function Ut(){return new dn(yn(),void 0)}function Nc(e,t){return new dn(e,t)}function Xr(e){return e.tail==null}function om(e){return((n,r)=>{e:for(;;){const s=n,o=r.tail;if(o!=null){n=s+1,r=b(o);continue e}else return s|0}})(0,e)|0}function hi(e){if(e.tail!=null)return e.head;throw new Error(pd+"\\nParameter name: list")}function mn(e){const t=e.tail;if(t!=null)return b(t);throw new Error(pd+"\\nParameter name: list")}function ME(e,t){return((r,s)=>{e:for(;;){const i=r,o=s,l=o.tail;if(l!=null){if(i===t)return o.head;r=i+1,s=b(l);continue e}else throw new Error(pE+"\\nParameter name: index")}})(0,e)}function z(){return Ut()}function Ee(e,t){return Nc(e,t)}function P(e){return Nc(e,Ut())}function Y(e){return Xr(e)}function Zr(e){return om(e)}function H(e){return hi(e)}function rw(e){if(!Xr(e))return ut(hi(e))}function L(e){return mn(e)}function sw(e){e:for(;;){const t=e;if(Xr(t))return;{const n=mn(t);if(Xr(n))return ut(hi(t));e=n;continue e}}}function m0(e){const t=sw(e);if(t==null)throw new Error(pd);return b(t)}function br(e){const t=om(e)|0,n=Ls(new Array(t),0,t,null);return((s,i)=>{e:for(;;){const o=s,l=i;if(!Xr(l)){lt(n,o,hi(l)),s=o+1,i=mn(l);continue e}break}})(0,e),n}function Qt(e,t,n){let r=t,s=n;for(;!Xr(s);)r=e(r,H(s)),s=mn(s);return r}function lr(e){return Qt((t,n)=>Nc(n,t),Ut(),e)}function Lr(e,t,n){return im(e,br(t),n)}function TE(e,t,n){return((s,i,o)=>{e:for(;;){const l=s,u=i,a=o;if(Xr(a))return u;s=l+1,i=e(l,u,hi(a)),o=mn(a);continue e}})(0,t,n)}function IE(e,t,n,r){let s=t,i=n,o=r;for(;!Xr(i)&&!Xr(o);)s=e(s,hi(i),hi(o)),i=mn(i),o=mn(o);return s}function ic(e,t){Qt((n,r)=>{e(r)},void 0,t)}function Ct(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Nc(J(r,e),n);return n}function X(e){return Ct(e,Ut())}function PE(e){let t,n;if(Jr(e))return X(e);if(e instanceof dn)return e;{const r=Ut();let s=r;const i=Xe(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const u=i["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new dn(u,void 0),t.tail=n,n)}}finally{Ue(i)}const o=s,l=Ut();return o.tail=l,mn(r)}}function el(e){const t=Ut();let n=t;const r=o=>{n=Qt((l,u)=>{const a=new dn(u,void 0);return l.tail=a,a},n,o)};if(Jr(e))e.forEach(r);else if(e instanceof dn)ic(r,e);else{const o=Xe(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();)r(o["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{Ue(o)}}const s=n,i=Ut();return s.tail=i,mn(t)}function _u(e,t){return Qt((n,r)=>Nc(r,n),t,lr(e))}function DE(e,t){const n=Ut(),r=TE((i,o,l)=>{const u=new dn(e(i,l),void 0);return o.tail=u,u},n,t),s=Ut();return r.tail=s,mn(n)}function he(e,t){const n=Ut(),r=Qt((i,o)=>{const l=new dn(e(o),void 0);return i.tail=l,l},n,t),s=Ut();return r.tail=s,mn(n)}function _0(e){return DE((t,n)=>[t,n],e)}function wd(e,t,n){const r=Ut(),s=IE((o,l,u)=>{const a=new dn(e(l,u),void 0);return o.tail=a,a},r,t,n),i=Ut();return s.tail=i,mn(r)}function NE(e,t){return(r=>{e:for(;;){const s=r;if(Xr(s))return;{const i=e(hi(s));if(i==null){r=mn(s);continue e}else return i}}})(t)}function C0(e,t){return NE(n=>e(n)?ut(n):void 0,t)}function lm(e,t){return((r,s)=>{e:for(;;){const i=r,o=s;if(Xr(o))return;if(e(hi(o)))return i;r=i+1,s=mn(o);continue e}})(0,t)}function eh(e,t){return ME(t,e)}function Ri(e,t){const n=Ut(),r=Qt((i,o)=>{if(e(o)){const l=new dn(o,void 0);return i.tail=l,l}else return i},n,t),s=Ut();return r.tail=s,mn(n)}function VE(e,t){const n=Ut(),r=Ut(),s=n,i=Qt((u,a)=>{let c,f;const d=u[0],g=u[1];return e(a)?[(c=new dn(a,void 0),d.tail=c,c),g]:[d,(f=new dn(a,void 0),g.tail=f,f)]},[s,r],t),o=Ut();i[0].tail=o;const l=Ut();return i[1].tail=l,[mn(s),mn(r)]}function pi(e,t){const n=Ut(),r=Qt((i,o)=>{const l=e(o);if(l==null)return i;{const u=new dn(b(l),void 0);return i.tail=u,u}},n,t),s=Ut();return r.tail=s,mn(n)}function OE(e,t,n){return lm(r=>n.Equals(e,r),t)!=null}function RE(e,t){if(Xr(t))throw new Error(pd);return Qt(e,H(t),L(t))}function FE(e,t){return lm(e,t)!=null}function um(e,t){return wd((n,r)=>[n,r],e,t)}function zE(e,t){const n=br(t);return n.sort(e),X(n)}function iw(e,t,n){return zE((r,s)=>n.Compare(e(r),e(s)),t)}function LE(e,t){return Qt((n,r)=>t.Add(n,r),t.GetZero(),e)}function AE(e){throw new Error(e)}const GE="Enumeration already finished.",BE="Enumeration has not started. Call MoveNext.",ow="The input sequence was empty.",lw="The input sequence has an insufficient number of elements.",bE="Reset is not supported on this enumerator.";function UE(){throw new Error(bE)}function uw(){throw new Error(BE)}function th(){throw new Error(GE)}class jE{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=Xe(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+Ae(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{Ue(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return bu(Xe(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function HE(e){return new jE(e)}class WE{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){UE()}Dispose(){this.dispose()}}function $d(e,t,n){return new WE(e,t,n)}function ZE(e){let t,n,r=!1,s=!1,i;const o=()=>{if(s=!0,n!=null){const l=b(n);try{Ue(l)}finally{n=void 0}}if(t!=null){const l=b(t);try{Ue(l)}finally{t=void 0}}};return $d(()=>(r?s&&th():uw(),i!=null?b(i):th()),()=>{let l;if(r||(r=!0),s)return!1;{let u;for(;u==null;){const a=t,c=n;if(a!=null)if(c!=null){const f=b(c);if(f["System.Collections.IEnumerator.MoveNext"]())i=ut(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),u=!0;else try{Ue(f)}finally{n=void 0}}else{const f=b(a);f["System.Collections.IEnumerator.MoveNext"]()?n=(l=f["System.Collections.Generic.IEnumerator`1.get_Current"](),Xe(l)):(o(),u=!1)}else t=Xe(e)}return b(u)}},()=>{s||o()})}function KE(e,t){return $d(()=>t["System.Collections.Generic.IEnumerator`1.get_Current"](),()=>t["System.Collections.IEnumerator.MoveNext"](),()=>{try{Ue(t)}finally{e()}})}function am(e,t,n){let r=!1,s,i=ut(e());const o=()=>{if(i!=null){const u=b(i);try{n(u)}finally{i=void 0}}},l=()=>{try{o()}finally{s=void 0}};return $d(()=>(r||uw(),s!=null?b(s):th()),()=>{if(r||(r=!0),i!=null){const u=b(i);let a;try{a=t(u)}catch(c){throw l(),c}return a!=null?(s=a,!0):(l(),!1)}else return!1},o)}function qE(e,t){let n,r=t;return $d(()=>{if(n!=null){const s=b(n)[0];return b(n)[1],s}else return uw()},()=>(n=e(r),n!=null?(b(n)[0],r=b(n)[1],!0):!1),()=>{})}function QE(e,t){t==null&&AE(e)}function Hu(e){return HE(e)}function Un(e){return QE("source",e),Xe(e)}function y(e){return Hu(()=>Xe(e()))}function ws(e){return Hu(()=>ZE(e))}function cm(e,t){return Hu(()=>qE(e,t))}function Oe(){return y(()=>new Array(0))}function S(e){return y(()=>mE(e))}function Hs(e){return e instanceof dn?br(e):Array.from(e)}function A(e){return Jr(e)?X(e):e instanceof dn?e:PE(e)}function fm(e,t,n){return Hu(()=>am(e,t,n))}function dm(e,t,n){return Hu(()=>{let r=-1;return am(e,s=>(r=r+1|0,t(r,s)),n)})}function E(e,t){return ws([e,t])}function Cu(e,t){return fm(()=>Un(t),n=>{let r;for(;r==null&&n["System.Collections.IEnumerator.MoveNext"]();)r=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return r},n=>{Ue(n)})}function JE(e,t,n){const r=Un(t);try{const s=Un(n);try{let i=0,o=r["System.Collections.IEnumerator.MoveNext"](),l=s["System.Collections.IEnumerator.MoveNext"]();for(;i===0&&o&&l;)i=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,i===0&&(o=r["System.Collections.IEnumerator.MoveNext"](),l=s["System.Collections.IEnumerator.MoveNext"]());return(i!==0?i:o?1:l?-1:0)|0}finally{Ue(s)}}finally{Ue(r)}}function XE(e,t,n){const r=Un(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Ue(r)}}function ps(e,t){return Cu(n=>{if(e(n))return ut(n)},t)}function YE(e,t){const n=Un(t);try{let r=!1;for(;!r&&n["System.Collections.IEnumerator.MoveNext"]();)r=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return r}finally{Ue(n)}}function ex(e,t){const n=Un(t);try{let r;for(;r==null&&n["System.Collections.IEnumerator.MoveNext"]();){const s=n["System.Collections.Generic.IEnumerator`1.get_Current"]();e(s)&&(r=ut(s))}return r}finally{Ue(n)}}function Vc(e,t,n){const r=Un(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Ue(r)}}function As(e,t,n){return im(e,Hs(t),n)}function hm(e,t){return!YE(n=>!e(n),t)}function pm(e){if(Jr(e))return kE(e);if(e instanceof dn)return rw(e);{const t=Un(e);try{return t["System.Collections.IEnumerator.MoveNext"]()?ut(t["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0}finally{Ue(t)}}}function tg(e){const t=pm(e);if(t==null)throw new Error(ow+"\\nParameter name: source");return b(t)}function nh(e){if(Jr(e))return e.length===0;if(e instanceof dn)return Y(e);{const t=Un(e);try{return!t["System.Collections.IEnumerator.MoveNext"]()}finally{Ue(t)}}}function gd(e,t){Vc((n,r)=>{e(r)},void 0,t)}function wm(e,t){Vc((n,r)=>(e(n,r),n+1|0),0,t)}function tx(e){const t=Un(e);try{const n=r=>{e:for(;;){const s=r;if(t["System.Collections.IEnumerator.MoveNext"]()){r=t["System.Collections.Generic.IEnumerator`1.get_Current"]();continue e}else return s;break}};return t["System.Collections.IEnumerator.MoveNext"]()?ut(n(t["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0}finally{Ue(t)}}function nx(e){const t=tx(e);if(t==null)throw new Error(lw+"\\nParameter name: source");return b(t)}function oe(e,t){return fm(()=>Un(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?ut(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{Ue(n)})}function rx(e,t){return dm(()=>Un(t),(n,r)=>r["System.Collections.IEnumerator.MoveNext"]()?ut(e(n,r["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{Ue(n)})}function oc(e){return rx((t,n)=>[t,n],e)}function aw(e,t){const n=Un(t);try{const r=s=>{e:for(;;){const i=s;if(n["System.Collections.IEnumerator.MoveNext"]()){s=e(i,n["System.Collections.Generic.IEnumerator`1.get_Current"]());continue e}else return i;break}};if(n["System.Collections.IEnumerator.MoveNext"]())return r(n["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error(ow)}finally{Ue(n)}}function $m(e){return y(()=>_E(Hs(e)))}function gm(e,t){return Hu(()=>{const n=Un(t);try{for(let r=1;r<=e;r++)if(!n["System.Collections.IEnumerator.MoveNext"]())throw new Error(lw+"\\nParameter name: source");return KE(()=>{},n)}catch(r){throw Ue(n),r}})}function sx(e){return gm(1,e)}function ix(e,t){return dm(()=>Un(t),(n,r)=>{if(n<e){if(r["System.Collections.IEnumerator.MoveNext"]())return ut(r["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error(lw+"\\nParameter name: source")}else return},n=>{Ue(n)})}function dt(e,t){return y(()=>ws(oe(e,t)))}function ng(e,t){return Vc((n,r)=>t.Add(n,r),t.GetZero(),e)}function ox(e,t){return aw((n,r)=>t.Compare(r,n)>0?r:n,e)}function lx(e,t,n){return aw((r,s)=>n.Compare(e(s),e(r))>0?r:s,t)}function ux(e,t){return aw((n,r)=>t.Compare(r,n)>0?n:r,e)}function ha(e,t){let n=0;const r=Vc((s,i)=>(n=n+1|0,t.Add(s,i)),t.GetZero(),e);if(n===0)throw new Error(ow+"\\nParameter name: source");return t.DivideByInt(r,n)}class M extends ue{constructor(t,n){super(),this.x=t,this.y=n}}function kt(e){return ar("Vector.Vector2`1",[e],M,()=>[["x",e],["y",e]])}function ax(e){return e.y}function rg(e,t){return new M(e(t.x),e(t.y))}function Ro(e,t,n){return new M(e(t.x,n.x),e(t.y,n.y))}function yd(e){return X([e.x,e.y])}function oo(e){const t=e.x*e.x+e.y*e.y;return Math.sqrt(t)}function cw(e,t){let n,r;return oo((n=e,r=t,new M(n.x-r.x,n.y-r.y)))}function wl(e){if(oo(e)!==0){const t=e,n=oo(e);return new M(t.x/n,t.y/n)}else return e}function sg(e){let t,n;const r=oo(e);if(r!==0)return t=e,n=r,new M(t.x/n,t.y/n)}function fw(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function cx(e,t){return t.has(e)?!1:(t.add(e),!0)}function ig(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function tl(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}class t1{constructor(t,n){const r=new di(yn());this.comparer=n,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const s=Xe(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();n1(r.contents,i)}}finally{Ue(s)}}get[Symbol.toStringTag](){return"HashSet"}toJSON(){const t=this;return Array.from(t)}"System.Collections.IEnumerable.GetEnumerator"(){return Xe(this)}GetEnumerator(){return Xe(ws(this.hashMap.values()))}[Symbol.iterator](){return bu(Xe(this))}"System.Collections.Generic.ICollection`1.Add2B595"(t){n1(this,t)}"System.Collections.Generic.ICollection`1.Clear"(){og(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return ug(this,t)}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){wm((s,i)=>{lt(t,n+s,i)},this)}"System.Collections.Generic.ICollection`1.get_Count"(){return lg(this)|0}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){return ag(this,t)}get size(){return lg(this)|0}add(t){const n=this;return n1(n,t),n}clear(){og(this)}delete(t){return ag(this,t)}has(t){return ug(this,t)}keys(){return oe(n=>n,this)}values(){return oe(n=>n,this)}entries(){return oe(n=>[n,n],this)}forEach(t,n){const r=this;gd(s=>{t(s,s,r)},r)}}function dw(e,t){const n=e.comparer.GetHashCode(t)|0;let r,s=yn();return r=[fw(e.hashMap,n,new di(()=>s,i=>{s=i})),s],r[0]?[!0,n,r[1].findIndex(i=>e.comparer.Equals(t,i))]:[!1,n,-1]}function og(e){e.hashMap.clear()}function lg(e){let t=0,n=Xe(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=t+r.length|0}}finally{Ue(n)}return t|0}function n1(e,t){const n=dw(e,t);return n[0]?n[2]>-1?!1:(tl(e.hashMap,n[1]).push(t),!0):(e.hashMap.set(n[1],[t]),!0)}function ug(e,t){const n=dw(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return!0;default:return!1}}function ag(e,t){const n=dw(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return tl(e.hashMap,n[1]).splice(n[2],1),!0;default:return!1}}class ym{constructor(t){this.k=t}}function gr(e){return new ym(e)}function pe(e){return e.k}class Ge extends ym{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function yr(e,t,n,r){return new Ge(e,t,n,r)}function Fe(e){return e.left}function Ve(e){return e.right}function jr(e){return e.h}function vm(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=b(n);if(s instanceof Ge){const i=s;e=Fe(i),t=vm(Ve(i),r+1);continue e}else return r+1|0}else return r|0}}function fx(e){return vm(e,0)}function Qn(e,t,n){let r,s,i;const o=e;if(o!=null){const c=b(o);i=c instanceof Ge?(r=c,jr(r)):1}else i=0;let l;const u=n;if(u!=null){const c=b(u);l=c instanceof Ge?(s=c,jr(s)):1}else l=0;const a=(i<l?l:i)|0;return a===0?gr(t):yr(t,e,n,a+1)}function Su(e,t,n){let r,s,i,o,l,u,a,c,f;const d=e;if(d!=null){const v=b(d);f=v instanceof Ge?(r=v,jr(r)):1}else f=0;let g;const w=n;if(w!=null){const v=b(w);g=v instanceof Ge?(s=v,jr(s)):1}else g=0;if(g>f+2){const v=b(n);if(v instanceof Ge){const _=v;if(i=Fe(_),(i!=null?(o=b(i),o instanceof Ge?(l=o,jr(l)):1):0)>f+1){const p=b(Fe(_));if(p instanceof Ge){const h=p;return Qn(Qn(e,t,Fe(h)),pe(h),Qn(Ve(h),pe(_),Ve(_)))}else throw new Error("internal error: Set.rebalance")}else return Qn(Qn(e,t,Fe(_)),pe(_),Ve(_))}else throw new Error("internal error: Set.rebalance")}else if(f>g+2){const v=b(e);if(v instanceof Ge){const _=v;if(u=Ve(_),(u!=null?(a=b(u),a instanceof Ge?(c=a,jr(c)):1):0)>g+1){const p=b(Ve(_));if(p instanceof Ge){const h=p;return Qn(Qn(Fe(_),pe(_),Fe(h)),pe(h),Qn(Ve(h),t,n))}else throw new Error("internal error: Set.rebalance")}else return Qn(Fe(_),pe(_),Qn(Ve(_),t,n))}else throw new Error("internal error: Set.rebalance")}else return Qn(e,t,n)}function En(e,t,n){if(n!=null){const r=b(n),s=e.Compare(t,pe(r))|0;if(r instanceof Ge){const i=r;return s<0?Su(En(e,t,Fe(i)),pe(i),Ve(i)):s===0?n:Su(Fe(i),pe(i),En(e,t,Ve(i)))}else{const i=e.Compare(t,pe(r))|0;return i<0?yr(t,void 0,n,2):i===0?n:yr(t,n,void 0,2)}}else return gr(t)}function ku(e,t,n,r){if(t!=null){const s=b(t);if(r!=null){const i=b(r);if(s instanceof Ge){const o=s;if(i instanceof Ge){const l=i;return jr(o)+2<jr(l)?Su(ku(e,t,n,Fe(l)),pe(l),Ve(l)):jr(l)+2<jr(o)?Su(Fe(o),pe(o),ku(e,Ve(o),n,r)):Qn(t,n,r)}else return En(e,n,En(e,pe(i),t))}else return En(e,n,En(e,pe(s),r))}else return En(e,n,t)}else return En(e,n,r)}function S0(e,t,n){if(n!=null){const r=b(n);if(r instanceof Ge){const s=r,i=e.Compare(t,pe(s))|0;if(i<0){const o=S0(e,t,Fe(s));return[o[0],o[1],ku(e,o[2],pe(s),Ve(s))]}else{if(i===0)return[Fe(s),!0,Ve(s)];{const o=S0(e,t,Ve(s));return[ku(e,Fe(s),pe(s),o[0]),o[1],o[2]]}}}else{const s=e.Compare(pe(r),t)|0;return s<0?[n,!1,void 0]:s===0?[void 0,!0,void 0]:[void 0,!1,n]}}else return[void 0,!1,void 0]}function mm(e){if(e!=null){const t=b(e);if(t instanceof Ge){const n=t;if(Fe(n)==null)return[pe(n),Ve(n)];{const r=mm(Fe(n));return[r[0],Qn(r[1],pe(n),Ve(n))]}}else return[pe(t),void 0]}else throw new Error("internal error: Set.spliceOutSuccessor")}function rh(e,t,n){if(n!=null){const r=b(n),s=e.Compare(t,pe(r))|0;if(r instanceof Ge){const i=r;if(s<0)return Su(rh(e,t,Fe(i)),pe(i),Ve(i));if(s===0){if(Fe(i)==null)return Ve(i);if(Ve(i)==null)return Fe(i);{const o=mm(Ve(i));return Qn(Fe(i),o[0],o[1])}}else return Su(Fe(i),pe(i),rh(e,t,Ve(i)))}else return s===0?void 0:n}else return n}function _m(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=b(i),l=r.Compare(s,pe(o))|0;if(o instanceof Ge){const u=o;if(l<0){e=r,t=s,n=Fe(u);continue e}else{if(l===0)return!0;e=r,t=s,n=Ve(u);continue e}}else return l===0}else return!1}}function Cm(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=b(r);if(s instanceof Ge){const i=s;Cm(n,Fe(i)),n(pe(i)),e=n,t=Ve(i);continue e}else n(pe(s))}break}}function Sm(e,t,n){e:for(;;){const r=e,s=t,i=n;if(s!=null){const o=b(s);if(o instanceof Ge){const l=o;e=r,t=Fe(l),n=r(pe(l),Sm(r,Ve(l),i));continue e}else return r(pe(o),i)}else return i}}function dx(e,t,n){return Sm(e,t,n)}function km(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=b(i);if(o instanceof Ge){const l=o;e=r,t=r(km(r,s,Fe(l)),pe(l)),n=Ve(l);continue e}else return r(s,pe(o))}else return s}}function hx(e,t,n){return km(e,t,n)}function Em(e,t,n,r){e:for(;;){const s=e,i=t,o=n,l=r;if(o!=null){const u=b(o);if(u instanceof Ge){const a=u,c=i(pe(a))?En(s,pe(a),l):l;e=s,t=i,n=Fe(a),r=Em(s,i,Ve(a),c);continue e}else return i(pe(u))?En(s,pe(u),l):l}else return l}}function px(e,t,n){return Em(e,t,n,void 0)}function Ma(e,t,n){if(t!=null){const r=b(t);if(n!=null){const s=b(n);if(r instanceof Ge){const i=r;if(s instanceof Ge){const o=s;if(jr(i)>jr(o)){const l=S0(e,pe(i),n);return ku(e,Ma(e,Fe(i),l[0]),pe(i),Ma(e,Ve(i),l[2]))}else{const l=S0(e,pe(o),t);return ku(e,Ma(e,Fe(o),l[0]),pe(o),Ma(e,Ve(o),l[2]))}}else return En(e,pe(s),t)}else return En(e,pe(r),n)}else return t}else return n}class wx extends ue{constructor(t,n){super(),this.stack=t,this.started=n}}function xm(e){e:for(;;){const t=e;if(Y(t))return z();{const n=H(t),r=L(t);if(n!=null){const s=b(n);if(s instanceof Ge){const i=s;e=Ct([Fe(i),gr(pe(i)),Ve(i)],r);continue e}else return t}else{e=r;continue e}}}}function cg(e){return new wx(xm(P(e)),!1)}function $x(){throw new Error("Enumeration not started")}function gx(){throw new Error("Enumeration already started")}function fg(e){if(e.started){const t=e.stack;if(Y(t))return gx();if(H(t)!=null){const n=b(H(t));return pe(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return $x()}function yx(e){if(e.started){const t=e.stack;if(Y(t))return!1;if(H(t)!=null){if(b(H(t))instanceof Ge)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=xm(L(t)),!Y(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!Y(e.stack)}function dg(e){let t=cg(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return fg(t)},"System.Collections.IEnumerator.get_Current"(){return fg(t)},"System.Collections.IEnumerator.MoveNext"(){return yx(t)},"System.Collections.IEnumerator.Reset"(){t=cg(e)},Dispose(){}}}function vx(e,t,n){e:for(;;){const r=e,s=t,i=n;if(Y(s))return Y(i)?0:-1;if(Y(i))return 1;if(H(i)!=null)if(H(s)!=null){const o=b(H(s)),l=b(H(i));if(o instanceof Ge){const u=o;if(Fe(u)==null)if(l instanceof Ge){const a=l;if(Fe(a)==null){const c=r.Compare(pe(u),pe(a))|0;if(c!==0)return c|0;e=r,t=Ee(Ve(u),L(s)),n=Ee(Ve(a),L(i));continue e}else{let c,f,d,g,w;switch(Y(s)?Y(i)?c=2:H(i)!=null?(c=1,g=L(i),w=b(H(i))):c=2:H(s)!=null?(c=0,f=L(s),d=b(H(s))):Y(i)?c=2:H(i)!=null?(c=1,g=L(i),w=b(H(i))):c=2,c){case 0:if(d instanceof Ge){const v=d;e=r,t=Ct([Fe(v),yr(pe(v),void 0,Ve(v),0)],f),n=i;continue e}else{e=r,t=Ct([void 0,gr(pe(d))],f),n=i;continue e}case 1:if(w instanceof Ge){const v=w;e=r,t=s,n=Ct([Fe(v),yr(pe(v),void 0,Ve(v),0)],g);continue e}else{e=r,t=s,n=Ct([void 0,gr(pe(w))],g);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const a=r.Compare(pe(u),pe(l))|0;if(a!==0)return a|0;e=r,t=Ee(Ve(u),L(s)),n=Ee(void 0,L(i));continue e}else{let a,c,f,d,g;switch(Y(s)?Y(i)?a=2:H(i)!=null?(a=1,d=L(i),g=b(H(i))):a=2:H(s)!=null?(a=0,c=L(s),f=b(H(s))):Y(i)?a=2:H(i)!=null?(a=1,d=L(i),g=b(H(i))):a=2,a){case 0:if(f instanceof Ge){const w=f;e=r,t=Ct([Fe(w),yr(pe(w),void 0,Ve(w),0)],c),n=i;continue e}else{e=r,t=Ct([void 0,gr(pe(f))],c),n=i;continue e}case 1:if(g instanceof Ge){const w=g;e=r,t=s,n=Ct([Fe(w),yr(pe(w),void 0,Ve(w),0)],d);continue e}else{e=r,t=s,n=Ct([void 0,gr(pe(g))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(l instanceof Ge){const u=l;if(Fe(u)==null){const a=r.Compare(pe(o),pe(u))|0;if(a!==0)return a|0;e=r,t=Ee(void 0,L(s)),n=Ee(Ve(u),L(i));continue e}else{let a,c,f,d,g;switch(Y(s)?Y(i)?a=2:H(i)!=null?(a=1,d=L(i),g=b(H(i))):a=2:H(s)!=null?(a=0,c=L(s),f=b(H(s))):Y(i)?a=2:H(i)!=null?(a=1,d=L(i),g=b(H(i))):a=2,a){case 0:if(f instanceof Ge){const w=f;e=r,t=Ct([Fe(w),yr(pe(w),void 0,Ve(w),0)],c),n=i;continue e}else{e=r,t=Ct([void 0,gr(pe(f))],c),n=i;continue e}case 1:if(g instanceof Ge){const w=g;e=r,t=s,n=Ct([Fe(w),yr(pe(w),void 0,Ve(w),0)],d);continue e}else{e=r,t=s,n=Ct([void 0,gr(pe(g))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const u=r.Compare(pe(o),pe(l))|0;if(u!==0)return u|0;e=r,t=L(s),n=L(i);continue e}}else{b(H(i));let o,l,u,a,c;switch(Y(s)?Y(i)?o=2:H(i)!=null?(o=1,a=L(i),c=b(H(i))):o=2:H(s)!=null?(o=0,l=L(s),u=b(H(s))):Y(i)?o=2:H(i)!=null?(o=1,a=L(i),c=b(H(i))):o=2,o){case 0:if(u instanceof Ge){const f=u;e=r,t=Ct([Fe(f),yr(pe(f),void 0,Ve(f),0)],l),n=i;continue e}else{e=r,t=Ct([void 0,gr(pe(u))],l),n=i;continue e}case 1:if(c instanceof Ge){const f=c;e=r,t=s,n=Ct([Fe(f),yr(pe(f),void 0,Ve(f),0)],a);continue e}else{e=r,t=s,n=Ct([void 0,gr(pe(c))],a);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(H(s)!=null){b(H(s));let o,l,u,a,c;switch(Y(s)?Y(i)?o=2:H(i)!=null?(o=1,a=L(i),c=b(H(i))):o=2:H(s)!=null?(o=0,l=L(s),u=b(H(s))):Y(i)?o=2:H(i)!=null?(o=1,a=L(i),c=b(H(i))):o=2,o){case 0:if(u instanceof Ge){const f=u;e=r,t=Ct([Fe(f),yr(pe(f),void 0,Ve(f),0)],l),n=i;continue e}else{e=r,t=Ct([void 0,gr(pe(u))],l),n=i;continue e}case 1:if(c instanceof Ge){const f=c;e=r,t=s,n=Ct([Fe(f),yr(pe(f),void 0,Ve(f),0)],a);continue e}else{e=r,t=s,n=Ct([void 0,gr(pe(c))],a);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=L(s),n=L(i);continue e}}}function hg(e,t,n){return t==null?n==null?0:-1:n==null?1:vx(e,P(t),P(n))|0}function mx(e){const t=(n,r)=>{e:for(;;){const s=n,i=r;if(s!=null){const o=b(s);if(o instanceof Ge){const l=o;n=Fe(l),r=Ee(pe(l),t(Ve(l),i));continue e}else return Ee(pe(o),i)}else return i}};return t(e,z())}function _x(e,t,n){let r=n;Cm(s=>{lt(t,r,s),r=r+1|0},e)}function Cx(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i["System.Collections.IEnumerator.MoveNext"]()){e=r,t=En(r,i["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=i;continue e}else return s}}function Sx(e,t){return sm((n,r)=>En(e,r,n),void 0,t)}function kx(e,t){return Qt((n,r)=>En(e,r,n),void 0,t)}function Mm(e,t){if(Jr(t))return Sx(e,t);if(t instanceof dn)return kx(e,t);{const n=Xe(t);try{return Cx(e,void 0,n)}finally{Ue(n)}}}class hw{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return Nx(this)|0}Equals(t){let n;const r=this;return t instanceof hw&&(n=t,hg(Kr(r),Wt(r),Wt(n))===0)}toString(){return"set ["+Se("; ",oe(n=>Ae(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return hg(Kr(n),Wt(n),Wt(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return _m(Kr(n),t,Wt(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){_x(Wt(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return r1(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return r1(this)|0}GetEnumerator(){return dg(Wt(this))}[Symbol.iterator](){return bu(Xe(this))}"System.Collections.IEnumerable.GetEnumerator"(){return dg(Wt(this))}get size(){return r1(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return Tm(this,t)}keys(){return oe(n=>n,this)}values(){return oe(n=>n,this)}entries(){return oe(n=>[n,n],this)}forEach(t,n){const r=this;gd(s=>{t(s,s,r)},r)}}function ho(e,t){return new hw(e,t)}function Kr(e){return e.comparer}function Wt(e){return e.tree}function Ex(e){return ho(e,void 0)}function xx(e,t){return ho(Kr(e),En(Kr(e),t,Wt(e)))}function Mx(e,t){return ho(Kr(e),rh(Kr(e),t,Wt(e)))}function r1(e){return fx(Wt(e))}function Tm(e,t){return _m(Kr(e),t,Wt(e))}function Tx(e,t){return Wt(e)==null?e:ho(Kr(e),px(Kr(e),t,Wt(e)))}function Ix(e,t,n){return ho(n,hx((r,s)=>En(n,t(s),r),void 0,Wt(e)))}function Px(e,t){return Wt(t)==null?e:Wt(e)==null?t:ho(Kr(e),Ma(Kr(e),Wt(e),Wt(t)))}function Dx(e){return mx(Wt(e))}function Nx(e){let t=0;const n=Xe(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+kn(r)+631|0}}finally{Ue(n)}return Math.abs(t)|0}function qr(e,t){return Tm(t,e)}function Wu(e,t){return xx(t,e)}function Li(e,t){return Mx(t,e)}function Im(e,t){return Px(e,t)}function po(e){return Ex(e)}function Vx(e,t){return Tx(t,e)}function pg(e,t,n){return dx(e,Wt(t),n)}function lc(e,t,n){return Ix(t,e,n)}function wi(e,t){return ho(t,Mm(t,e))}function sh(e){return Dx(e)}function uc(e,t){return ho(t,Mm(t,e))}class Pm{constructor(t,n){this.k=t,this.v=n}}function nl(e,t){return new Pm(e,t)}function Ze(e){return e.k}function ot(e){return e.v}class Et extends Pm{constructor(t,n,r,s,i){super(t,n),this.left=r,this.right=s,this.h=i|0}}function qi(e,t,n,r,s){return new Et(e,t,n,r,s)}function nt(e){return e.left}function rt(e){return e.right}function si(e){return e.h}function Dm(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=b(r);if(s instanceof Et){const i=s;e=Dm(n+1,nt(i)),t=rt(i);continue e}else return n+1|0}else return n|0}}function Nm(e){return Dm(0,e)}function Jn(e,t,n,r){let s,i,o;const l=e;if(l!=null){const f=b(l);o=f instanceof Et?(s=f,si(s)):1}else o=0;let u;const a=r;if(a!=null){const f=b(a);u=f instanceof Et?(i=f,si(i)):1}else u=0;const c=(o<u?u:o)|0;return c===0?nl(t,n):qi(t,n,e,r,c+1)}function Eu(e,t,n,r){let s,i,o,l,u,a,c,f,d;const g=e;if(g!=null){const _=b(g);d=_ instanceof Et?(s=_,si(s)):1}else d=0;let w;const v=r;if(v!=null){const _=b(v);w=_ instanceof Et?(i=_,si(i)):1}else w=0;if(w>d+2){const _=b(r);if(_ instanceof Et){const p=_;if(o=nt(p),(o!=null?(l=b(o),l instanceof Et?(u=l,si(u)):1):0)>d+1){const h=b(nt(p));if(h instanceof Et){const $=h;return Jn(Jn(e,t,n,nt($)),Ze($),ot($),Jn(rt($),Ze(p),ot(p),rt(p)))}else throw new Error("internal error: Map.rebalance")}else return Jn(Jn(e,t,n,nt(p)),Ze(p),ot(p),rt(p))}else throw new Error("internal error: Map.rebalance")}else if(d>w+2){const _=b(e);if(_ instanceof Et){const p=_;if(a=rt(p),(a!=null?(c=b(a),c instanceof Et?(f=c,si(f)):1):0)>w+1){const h=b(rt(p));if(h instanceof Et){const $=h;return Jn(Jn(nt(p),Ze(p),ot(p),nt($)),Ze($),ot($),Jn(rt($),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Jn(nt(p),Ze(p),ot(p),Jn(rt(p),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Jn(e,t,n,r)}function rl(e,t,n,r){if(r!=null){const s=b(r),i=e.Compare(t,Ze(s))|0;if(s instanceof Et){const o=s;return i<0?Eu(rl(e,t,n,nt(o)),Ze(o),ot(o),rt(o)):i===0?qi(t,n,nt(o),rt(o),si(o)):Eu(nt(o),Ze(o),ot(o),rl(e,t,n,rt(o)))}else return i<0?qi(t,n,void 0,r,2):i===0?nl(t,n):qi(t,n,r,void 0,2)}else return nl(t,n)}function Vm(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=b(i),l=r.Compare(s,Ze(o))|0;if(l===0)return ut(ot(o));if(o instanceof Et){const u=o;e=r,t=s,n=l<0?nt(u):rt(u);continue e}else return}else return}}function Ox(e,t,n){const r=Vm(e,t,n);if(r==null)throw new Error;return b(r)}function wg(e,t,n,r,s){return t(n,r)?rl(e,n,r,s):s}function Om(e,t,n,r){e:for(;;){const s=e,i=t,o=n,l=r;if(o!=null){const u=b(o);if(u instanceof Et){const a=u,c=Om(s,i,nt(a),l),f=wg(s,i,Ze(a),ot(a),c);e=s,t=i,n=rt(a),r=f;continue e}else return wg(s,i,Ze(u),ot(u),l)}else return l}}function Rx(e,t,n){return Om(e,t,n,void 0)}function pw(e){if(e!=null){const t=b(e);if(t instanceof Et){const n=t;if(nt(n)==null)return[Ze(n),ot(n),rt(n)];{const r=pw(nt(n));return[r[0],r[1],Jn(r[2],Ze(n),ot(n),rt(n))]}}else return[Ze(t),ot(t),void 0]}else throw new Error("internal error: Map.spliceOutSuccessor")}function ih(e,t,n){if(n!=null){const r=b(n),s=e.Compare(t,Ze(r))|0;if(r instanceof Et){const i=r;if(s<0)return Eu(ih(e,t,nt(i)),Ze(i),ot(i),rt(i));if(s===0){if(nt(i)==null)return rt(i);if(rt(i)==null)return nt(i);{const o=pw(rt(i));return Jn(nt(i),o[0],o[1],o[2])}}else return Eu(nt(i),Ze(i),ot(i),ih(e,t,rt(i)))}else return s===0?void 0:n}else return void 0}function oh(e,t,n,r){if(r!=null){const s=b(r);if(s instanceof Et){const i=s,o=e.Compare(t,Ze(i))|0;if(o<0)return Eu(oh(e,t,n,nt(i)),Ze(i),ot(i),rt(i));if(o===0){const l=n(ut(ot(i)));if(l!=null)return qi(t,b(l),nt(i),rt(i),si(i));if(nt(i)==null)return rt(i);if(rt(i)==null)return nt(i);{const u=pw(rt(i));return Jn(nt(i),u[0],u[1],u[2])}}else return Eu(nt(i),Ze(i),ot(i),oh(e,t,n,rt(i)))}else{const i=e.Compare(t,Ze(s))|0;if(i<0){const o=n(void 0);return o!=null?qi(t,b(o),void 0,r,2):r}else if(i===0){const o=n(ut(ot(s)));return o!=null?nl(t,b(o)):void 0}else{const o=n(void 0);return o!=null?qi(t,b(o),r,void 0,2):r}}}else{const s=n(void 0);return s!=null?nl(t,b(s)):r}}function Fx(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=b(i),l=r.Compare(s,Ze(o))|0;if(o instanceof Et){const u=o;if(l<0){e=r,t=s,n=nt(u);continue e}else{if(l===0)return!0;e=r,t=s,n=rt(u);continue e}}else return l===0}else return!1}}function Rm(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=b(r);if(s instanceof Et){const i=s;Rm(n,nt(i)),n(Ze(i),ot(i)),e=n,t=rt(i);continue e}else n(Ze(s),ot(s))}break}}function zx(e,t){Rm(e,t)}function lh(e,t){if(t!=null){const n=b(t);if(n instanceof Et){const r=n,s=lh(e,nt(r)),i=e(Ze(r),ot(r)),o=lh(e,rt(r));return qi(Ze(r),i,s,o,si(r))}else return nl(Ze(n),e(Ze(n),ot(n)))}else return void 0}function Lx(e,t){return lh(e,t)}function Fm(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=b(i);if(o instanceof Et){const l=o;e=r,t=r(Fm(r,s,nt(l)),Ze(l),ot(l)),n=rt(l);continue e}else return r(s,Ze(o),ot(o))}else return s}}function Ax(e,t,n){return Fm(e,t,n)}function Gx(e){const t=(n,r)=>{e:for(;;){const s=n,i=r;if(s!=null){const o=b(s);if(o instanceof Et){const l=o;n=nt(l),r=Ee([Ze(l),ot(l)],t(rt(l),i));continue e}else return Ee([Ze(o),ot(o)],i)}else return i}};return t(e,z())}function zm(e,t,n){let r=n;zx((s,i)=>{lt(t,r,[s,i]),r=r+1|0},e)}function Bx(e){const t=Nm(e)|0,n=Ls(new Array(t),0,t,[null,null]);return zm(e,n,0),n}function bx(e,t){return Qt((n,r)=>rl(e,r[0],r[1],n),void 0,t)}function Ux(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i["System.Collections.IEnumerator.MoveNext"]()){const o=i["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=rl(r,o[0],o[1],s),n=i;continue e}else return s}}function jx(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=J(r,t);n=rl(e,s[0],s[1],n)}return n}function Lm(e,t){if(Jr(t))return jx(e,t);if(t instanceof dn)return bx(e,t);{const n=Xe(t);try{return Ux(e,void 0,n)}finally{Ue(n)}}}class Hx extends ue{constructor(t,n){super(),this.stack=t,this.started=n}}function Am(e){e:for(;;){const t=e;if(Y(t))return z();{const n=L(t),r=H(t);if(r!=null){const s=b(r);if(s instanceof Et){const i=s;e=Ct([nt(i),nl(Ze(i),ot(i)),rt(i)],n);continue e}else return t}else{e=n;continue e}}}}function $g(e){return new Hx(Am(P(e)),!1)}function Wx(){throw new Error("enumeration not started")}function Zx(){throw new Error("enumeration already finished")}function gg(e){if(e.started){const t=e.stack;if(Y(t))return Zx();if(H(t)!=null){const n=b(H(t));if(n instanceof Et)throw new Error("Please report error: Map iterator, unexpected stack for current");return[Ze(n),ot(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return Wx()}function Kx(e){if(e.started){const t=e.stack;if(Y(t))return!1;if(H(t)!=null){if(b(H(t))instanceof Et)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=Am(L(t)),!Y(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!Y(e.stack)}function yg(e){let t=$g(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return gg(t)},"System.Collections.IEnumerator.get_Current"(){return gg(t)},"System.Collections.IEnumerator.MoveNext"(){return Kx(t)},"System.Collections.IEnumerator.Reset"(){t=$g(e)},Dispose(){}}}class k0{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return o3(this)|0}Equals(t){const n=this;if(t instanceof k0){const r=t,s=Xe(n);try{const i=Xe(r);try{const o=()=>{const l=s["System.Collections.IEnumerator.MoveNext"]();if(l===i["System.Collections.IEnumerator.MoveNext"]())if(l){const u=s["System.Collections.Generic.IEnumerator`1.get_Current"](),a=i["System.Collections.Generic.IEnumerator`1.get_Current"]();return ee(u[0],a[0])&&ee(u[1],a[1])?o():!1}else return!0;else return!1};return o()}finally{Ue(i)}}finally{Ue(s)}}else return!1}toString(){return"map ["+Se("; ",oe(n=>nm("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return yg(this.tree)}[Symbol.iterator](){return bu(Xe(this))}"System.Collections.IEnumerable.GetEnumerator"(){return yg(this.tree)}CompareTo(t){const n=this;if(t instanceof k0)return JE((s,i)=>{const o=n.comparer.Compare(s[0],i[0])|0;return(o!==0?o:Te(s[1],i[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return ah(n,t[0])&&ee(uh(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){zm(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Ff(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Ff(this)|0}get size(){return Ff(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return oe(n=>[n[0],n[1]],this)}get(t){return uh(this,t)}has(t){return ah(this,t)}keys(){return oe(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return oe(n=>n[1],this)}forEach(t,n){const r=this;gd(s=>{t(s[1],s[0],r)},r)}}function wo(e,t){return new k0(e,t)}function qx(e){return wo(e,void 0)}function Qx(e){return e.tree}function Jx(e,t,n){return wo(e.comparer,rl(e.comparer,t,n,e.tree))}function Xx(e,t,n){return wo(e.comparer,oh(e.comparer,t,n,e.tree))}function Yx(e){return e.tree==null}function uh(e,t){return Ox(e.comparer,t,e.tree)}function e3(e,t){return wo(e.comparer,Rx(e.comparer,t,e.tree))}function t3(e,t){return wo(e.comparer,Lx(t,e.tree))}function Ff(e){return Nm(e.tree)}function ah(e,t){return Fx(e.comparer,t,e.tree)}function n3(e,t){return wo(e.comparer,ih(e.comparer,t,e.tree))}function r3(e,t){return Vm(e.comparer,t,e.tree)}function s3(e){return Gx(e.tree)}function i3(e){return Bx(e.tree)}function o3(e){const t=(s,i)=>(s<<1)+i+631;let n=0;const r=Xe(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,kn(s[0]))|0,n=t(n,kn(s[1]))|0}}finally{Ue(r)}return n|0}function vg(e){return Yx(e)}function Dt(e,t,n){return Jx(n,e,t)}function xr(e,t,n){return Xx(n,e,t)}function $o(e,t){return uh(t,e)}function Kt(e,t){return r3(t,e)}function kr(e,t){return n3(t,e)}function Ko(e,t){return ah(t,e)}function nu(e,t){return e3(t,e)}function Ws(e,t){return t3(t,e)}function ch(e,t,n){return Ax(e,t,Qx(n))}function $i(e){return oe(t=>[t[0],t[1]],e)}function cs(e,t){return wo(t,Lm(t,e))}function Gm(e,t){return wo(t,Lm(t,e))}function ni(e){return s3(e)}function l3(e){return i3(e)}function At(e){return qx(e)}function u3(e){return Ff(e)}function a3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Bm={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=Symbol.for("react.element"),c3=Symbol.for("react.portal"),f3=Symbol.for("react.fragment"),d3=Symbol.for("react.strict_mode"),h3=Symbol.for("react.profiler"),p3=Symbol.for("react.provider"),w3=Symbol.for("react.context"),$3=Symbol.for("react.forward_ref"),g3=Symbol.for("react.suspense"),y3=Symbol.for("react.memo"),v3=Symbol.for("react.lazy"),mg=Symbol.iterator;function m3(e){return e===null||typeof e!="object"?null:(e=mg&&e[mg]||e["@@iterator"],typeof e=="function"?e:null)}var bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Um=Object.assign,jm={};function Zu(e,t,n){this.props=e,this.context=t,this.refs=jm,this.updater=n||bm}Zu.prototype.isReactComponent={};Zu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hm(){}Hm.prototype=Zu.prototype;function ww(e,t,n){this.props=e,this.context=t,this.refs=jm,this.updater=n||bm}var $w=ww.prototype=new Hm;$w.constructor=ww;Um($w,Zu.prototype);$w.isPureReactComponent=!0;var _g=Array.isArray,Wm=Object.prototype.hasOwnProperty,gw={current:null},Zm={key:!0,ref:!0,__self:!0,__source:!0};function Km(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Wm.call(t,r)&&!Zm.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Oc,type:e,key:i,ref:o,props:s,_owner:gw.current}}function _3(e,t){return{$$typeof:Oc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oc}function C3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Cg=/\/+/g;function s1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?C3(""+e.key):t.toString(36)}function zf(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Oc:case c3:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+s1(o,0):r,_g(s)?(n="",e!=null&&(n=e.replace(Cg,"$&/")+"/"),zf(s,t,n,"",function(a){return a})):s!=null&&(yw(s)&&(s=_3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Cg,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",_g(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+s1(i,l);o+=zf(i,t,n,u,s)}else if(u=m3(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+s1(i,l++),o+=zf(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function tf(e,t,n){if(e==null)return e;var r=[],s=0;return zf(e,r,"","",function(i){return t.call(n,i,s++)}),r}function S3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},Lf={transition:null},k3={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Lf,ReactCurrentOwner:gw};He.Children={map:tf,forEach:function(e,t,n){tf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tf(e,function(){t++}),t},toArray:function(e){return tf(e,function(t){return t})||[]},only:function(e){if(!yw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Zu;He.Fragment=f3;He.Profiler=h3;He.PureComponent=ww;He.StrictMode=d3;He.Suspense=g3;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;He.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Um({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gw.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Wm.call(t,u)&&!Zm.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Oc,type:e.type,key:s,ref:i,props:r,_owner:o}};He.createContext=function(e){return e={$$typeof:w3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:p3,_context:e},e.Consumer=e};He.createElement=Km;He.createFactory=function(e){var t=Km.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:$3,render:e}};He.isValidElement=yw;He.lazy=function(e){return{$$typeof:v3,_payload:{_status:-1,_result:e},_init:S3}};He.memo=function(e,t){return{$$typeof:y3,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=Lf.transition;Lf.transition={};try{e()}finally{Lf.transition=t}};He.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};He.useCallback=function(e,t){return jn.current.useCallback(e,t)};He.useContext=function(e){return jn.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};He.useEffect=function(e,t){return jn.current.useEffect(e,t)};He.useId=function(){return jn.current.useId()};He.useImperativeHandle=function(e,t,n){return jn.current.useImperativeHandle(e,t,n)};He.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return jn.current.useMemo(e,t)};He.useReducer=function(e,t,n){return jn.current.useReducer(e,t,n)};He.useRef=function(e){return jn.current.useRef(e)};He.useState=function(e){return jn.current.useState(e)};He.useSyncExternalStore=function(e,t,n){return jn.current.useSyncExternalStore(e,t,n)};He.useTransition=function(){return jn.current.useTransition()};He.version="18.2.0";Bm.exports=He;var N=Bm.exports;const E3=a3(N);function x3(e){return Fl(BigInt(e)*10000n)}function sl(e){return Se(`
`,oe(t=>{const n=t[0],r=t[1];return Zr(r)===0?n:n+" "+Se(" ",oe(s=>Se(",",s),r))},e))}function M3(e){console.log(ut(e))}function $s(e,t){const n=e.createSVGPoint();n.x=t.x,n.y=t.y;const r=e.getScreenCTM(),s=n.matrixTransform(r.inverse());return new M(s.x,s.y)}function T3(e,t){const n=e.createSVGPoint();n.x=t.x,n.y=t.y;const r=e.getScreenCTM(),s=n.matrixTransform(r);return new M(s.x,s.y)}function Gs(e){if(e instanceof SVGSVGElement)return e;if(e instanceof SVGElement)return e.ownerSVGElement;throw new Error("it is not svg element")}function I3(e,t,n,r,s){let i,o;const l=wl((i=r,o=n,new M(i.x-o.x,i.y-o.y))),u=new M(l.y,-l.x);let a,c;const f=r;let d;const g=u,w=e;d=new M(g.x*w,g.y*w),c=new M(f.x+d.x,f.y+d.y);let v;const _=l,p=t;v=new M(_.x*p,_.y*p),a=new M(c.x-v.x,c.y-v.y);let h,$;const C=r;let k;const T=u,D=e;k=new M(T.x*D,T.y*D),$=new M(C.x-k.x,C.y-k.y);let V;const U=l,O=t;return V=new M(U.x*O,U.y*O),h=new M($.x-V.x,$.y-V.y),N.createElement("path",Qe(A(y(()=>E(S(["d",sl(he(B=>[B[0],he(yd,B[1])],X([["M",P(n)],["L",P(r)],["L",P(a)],["L",P(h)],["L",P(r)]])))]),y(()=>s))))))}class E0 extends ue{constructor(t,n,r){super(),this.targetType=t,this.position=n,this.event=r}}class Sg extends ue{constructor(t,n,r,s){super(),this.source=t,this.all=n,this.target=r,this.dragData=s}}class ru extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragStart","Dragging","DragEnd","Click"]}}class pa extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragStarted","Drag","DragComplete","Clicked"]}}function vd(e,t){let n,r,s,i,o,l;switch(e.tag){case 1:{const u=e.fields[0],a=le(c=>new Sg(c.source,Ee(u,c.all),u,c.dragData),t);return[a,A(y(()=>a!=null?S(new pa(1,[a])):Oe()))]}case 2:return[void 0,t!=null?(n=t,ee(n.source.targetType,n.target.targetType)&&(r=(s=n.source.position,i=n.target.position,new M(s.x-i.x,s.y-i.y)),(o=r,l=r,o.x*l.x+o.y*l.y)<Math.pow(5,2))?P(new pa(3,[n.target])):P(new pa(2,[n]))):z()];case 3:return[t,P(new pa(3,[e.fields[0]]))];default:{const u=e.fields[1],a=new Sg(u,P(u),u,e.fields[0]);return[a,P(new pa(0,[a]))]}}}function zl(e,t,n){return A(y(()=>E(S(["className",Se(" ",["pointer-events-all"])]),y(()=>E(S(["onPointerDown",r=>{n(new ru(0,[void 0,new E0(t,$s(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]),y(()=>E(S(["onPointerUp",r=>{$s(Gs(r.target),new M(r.clientX,r.clientY)),n(new ru(2,[]))}]),y(()=>e!=null?S(["onPointerMove",r=>{n(new ru(1,[new E0(t,$s(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]):Oe()))))))))}function P3(e,t,n,r){r.addEventListener(e,t,n)}function qm(e){return t=>{const n=r=>{e(r,t)};return document.addEventListener("keydown",n),{Dispose(){document.removeEventListener("keydown",n)}}}}function i1(e){return t=>{const n=r=>{r.preventDefault()};return P3(e,n,{passive:!1},window),{Dispose(){window.removeEventListener(e,n)}}}}function vw(){return e=>(document.oncontextmenu=t=>{t.preventDefault()},window.oncontextmenu=t=>{t.preventDefault()},{Dispose(){document.oncontextmenu=t=>{},window.oncontextmenu=t=>{}}})}class Os extends ue{constructor(t,n,r,s){super(),this.key=t,this.ctrl=n,this.alt=r,this.shift=s}Equals(t){let n;const r=this;return t instanceof Os?(n=t,tc([r.key,r.ctrl,r.alt,r.shift],[n.key,n.ctrl,n.alt,n.shift])):tc([r.key,r.ctrl,r.alt,r.shift],[t.key,t.ctrl,t.alt,t.shift])}GetHashCode(){const t=this;return jv([t.key,t.ctrl,t.alt,t.shift])|0}CompareTo(t){const n=this;if(ee(t,yn()))return 1;if(t instanceof Os){const r=t;return Wr([n.key,n.ctrl,n.alt,n.shift],[r.key,r.ctrl,r.alt,r.shift])|0}else return Wr([n.key,n.ctrl,n.alt,n.shift],[t.key,t.ctrl,t.alt,t.shift])|0}}function fh(){return ar("Utils.KeyConfig.KeyBoard",[],Os,()=>[["key",nc],["ctrl",ai],["alt",ai],["shift",ai]])}function D3(e){return sm((t,n)=>{switch(n){case"ctrl":return new Os(t.key,!0,t.alt,t.shift);case"alt":return new Os(t.key,t.ctrl,!0,t.shift);case"shift":return new Os(t.key,t.ctrl,t.alt,!0);default:return new Os(n,t.ctrl,t.alt,t.shift)}},new Os("",!1,!1,!1),ci(e,[" "],void 0,0))}function mw(e){return he(t=>[D3(t[0]),t[1]],e)}function _w(e){return Gm(e,{Compare:Te})}function dh(e,t){const n=t,r=Kt(new Os(n.key,n.ctrlKey,n.altKey,n.shiftKey),e);return r!=null?P(b(r)):z()}function N3(e,t){console.error(ut(e),t)}function kg(e,t,n){ic(r=>{try{r(t)}catch(s){e(s)}},n)}function ne(){return z()}function Sn(e,t){return he(n=>r=>{n(s=>{r(e(s))})},t)}function tn(e){return el(e)}var hh;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(hh||(hh={}));function V3(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function Eg(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function O3(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function R3(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function F3(e,t){if(t&hh.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Qm(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,i,o]=s;if(n=n||F3(i,t),!O3(n).test(o))return V3(s,n)}return null}function Xn(e,t,n,r,s){const i=Qm(e,t,s);if(i!=null){let o=Number.parseInt(i.sign+i.digits,i.radix);if(!Number.isNaN(o)){const[l,u]=Eg(!0,r);!n&&i.radix!==10&&o>=l&&o<=u&&(o=o<<32-r>>32-r);const[a,c]=Eg(n,r);if(o>=a&&o<=c)return o}}throw new Error(`The input string ${e} was not in a correct format.`)}function z3(e,t,n,r,s){try{return s.contents=Xn(e,t,n,r),!0}catch{return!1}}function L3(e){return e===-2147483648?e:-e}const we=E3;function A3(){return z()}function Cw(e){return Se("/",e)}function G3(e,t){const n=new Error("Duplicate SubId");return e(["Duplicate SubId: "+Cw(t),n])}function Jm(e,t,n){try{Ue(n)}catch(r){e(["Error stopping subscription: "+Cw(t),r])}}function B3(e,t,n,r){try{return[n,r(t)]}catch(s){e(["Error starting subscription: "+Cw(n),s]);return}}function b3(e,t){ic(n=>{Jm(e,n[0],n[1])},t)}function xg(e,t,n,r,s,i){return ic(o=>{G3(e,o)},n),ic(o=>{Jm(e,o[0],o[1])},r),_u(s,pi(o=>B3(e,t,o[0],o[1]),i))}function U3(){return[z(),po({Compare:Te}),z()]}function j3(e,t,n,r,s){return qr(e,r)?[Ee(e,n),r,s]:[n,Wu(e,r),Ee([e,t],s)]}function H3(e){return Lr((t,n)=>j3(t[0],t[1],n[0],n[1],n[2]),e,U3())}const W3=z();function Mg(e,t){const n=wi(he(o=>o[0],e),{Compare:Te}),r=H3(t),s=r[1],i=r[0];if(n.Equals(s))return[i,z(),e,z()];{const o=VE(l=>qr(l[0],s),e);return[i,o[1],o[0],Ri(l=>!qr(l[0],n),r[2])]}}function Z3(e,t,n,r){const s=Te(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const i=s>0;return o=>{const l=Te(o,t)|0;return i&&l<=0||!i&&l>=0?[o,r(o,e)]:void 0}}function K3(e,t,n,r,s){const i=Z3(t,n,r,s);return y(()=>cm(i,e))}function ph(e,t,n){return K3(e,t,n,0,(r,s)=>r+s)}class su extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Writable","ReadWritable"]}}class q3{constructor(t){this.state=new su(0,[Ls(new Array(sc(t,10)),0,sc(t,10),null),0])}}function Q3(e){return new q3(e)}function Tg(e){const t=e.state;if(t.tag===1){const n=t.fields[1]|0,r=t.fields[2]|0,s=t.fields[0],i=(r+1)%s.length|0;return i===n?e.state=new su(0,[s,n]):e.state=new su(1,[s,n,i]),ut(J(r,s))}else return}function J3(e,t){const n=e.state;if(n.tag===1){const r=n.fields[1]|0,s=n.fields[2]|0,i=n.fields[0];lt(i,r,t);const o=(r+1)%i.length|0;o===s?e.state=new su(1,[X3(e,s,i),i.length,0]):e.state=new su(1,[i,o,s])}else{const r=n.fields[1]|0,s=n.fields[0];lt(s,r,t);const i=(r+1)%s.length|0;e.state=new su(1,[s,i,r])}}function X3(e,t,n){return Array.from(y(()=>E(gm(t,n),y(()=>E(ix(t,n),y(()=>dt(r=>S(yn()),ph(0,1,n.length))))))))}class Sw extends ue{constructor(t,n,r,s,i,o,l){super(),this.init=t,this.update=n,this.subscribe=r,this.view=s,this.setState=i,this.onError=o,this.termination=l}}function kw(e,t,n){return new Sw(e,t,r=>A3(),n,gu(r=>{const s=Qp(n)(r);return i=>{s(i)}}),r=>{N3(r[0],r[1])},[r=>!1,r=>{}])}function Xm(e,t){return new Sw(t.init,t.update,e,t.view,t.setState,t.onError,t.termination)}function Y3(e,t){return new Sw(t.init,t.update,t.subscribe,t.view,e,t.onError,t.termination)}function Ig(e){return Qp(e.view)}function eM(e,t,n){let r;const s=n.init(t),i=s[0],o=n.subscribe(i),l=n.termination,u=Q3(10);let a=!1,c=i,f=W3,d=!1;const g=_=>{d||(J3(u,_),a||(a=!0,v(),a=!1))},w=Qp(e)(g),v=()=>{let _,p=Tg(u);for(;!d&&p!=null;){const h=b(p);if(l[0](h))b3(n.onError,f),l[1](c),d=!0;else{const $=n.update(h,c),C=$[0],k=n.subscribe(C);n.setState(C,w),f=(_=Mg(f,k),xg(n.onError,w,_[0],_[1],_[2],_[3])),kg(T=>{n.onError([Ne(F("Error handling the message: %A"))(h),T])},w,$[1]),c=C,p=Tg(u)}}};a=!0,n.setState(i,w),f=(r=Mg(f,o),xg(n.onError,w,r[0],r[1],r[2],r[3])),kg(_=>{n.onError([Ne(F("Error intitializing:")),_])},w,s[1]),v(),a=!1}function tM(e,t){eM(gu(n=>n),e,t)}function nM(e){tM(void 0,e)}function md(e,t){return Ae(e)===Ae(t)}function _d(e,t){return cn(Ae(e),Ae(t))}let Ku=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroCellId","OutZeroCellId"]}Equals(t){return md(this,t)}GetHashCode(){return Ki(this)|0}toString(){const t=this;return t.tag===0?Ne(F("Z: %O"))(t.fields[0]):"Z: out"}CompareTo(t){return _d(this,t)|0}},rM=class extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["TwoCellId"]}Equals(t){return md(this,t)}GetHashCode(){return Ki(this)|0}toString(){const t=this;return Ne(F("T: %O"))(t.fields[0])}CompareTo(t){return _d(this,t)|0}},Ew=class extends ue{constructor(t,n){super(),this.startTwoCell=t,this.endTwoCell=n}Equals(t){return md(this,t)}GetHashCode(){return Ki(this)|0}toString(){const t=this;return Ne(F("(%O -> %O)"))(t.startTwoCell.fields[0])(t.endTwoCell.fields[0])}CompareTo(t){return _d(this,t)|0}},sM=class extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["PathId"]}Equals(t){return md(this,t)}GetHashCode(){return Ki(this)|0}toString(){const t=this;return Ne(F("P: %O"))(t.fields[0])}CompareTo(t){return _d(this,t)|0}},Fo=class extends ue{constructor(t,n){super(),this.path=t,this.zeroCell=n}},Af=class extends ue{constructor(t){super(),this.color=t}};const iM=new Af("green");class lo extends ue{constructor(t,n,r){super(),this.paths=t,this.t=n,this.data=r}}class Ll extends ue{constructor(t){super(),this.right=t}}class vr extends ue{constructor(t,n){super(),this.adj=t,this.position=n}}let cr=class extends ue{constructor(t,n,r,s,i){super(),this.zeroCell=t,this.oneCell=n,this.twoCell=r,this.pathMap=s,this.currentId=i|0}};class Bn extends ue{constructor(t){super(),this.environment=t}}class xu extends ue{constructor(t,n){super(),this.p1=t,this.p2=n}}function xw(e){return[new cr(e.zeroCell,e.oneCell,e.twoCell,e.pathMap,e.currentId+1),e.currentId]}function wh(e){const t=xw(e);return[t[0],new Ku(0,[t[1]])]}function Ym(){return new Ku(1,[])}function Pg(e){return ee(e,new Ku(1,[]))}function oM(e){const t=xw(e);return[t[0],new rM(t[1])]}function zo(e){const t=xw(e);return[t[0],new sM(t[1])]}function $h(e,t){return new lo(Li(e,t.paths),t.t,t.data)}function x0(e,t){return new lo(Wu(e,t.paths),t.t,t.data)}function lM(e,t){return new lo(e,t,iM)}function Es(e,t){return new vr(e(t.adj),t.position)}function uM(e,t){if(!Y(t)){const n=H(t);return((s,i)=>{e:for(;;){const o=s,l=i;if(Y(l))return o!=null?[b(o),void 0,n]:[n,void 0,n];{const u=L(l),a=H(l);if(e(a)){const c=Y(u)?n:H(u);return[o!=null?b(o):nw(sw(u),n),ut(a),c]}else{s=ut(a),i=u;continue e}}}})(void 0,t)}}function aM(){return new cr(At({Compare:Te}),At({Compare:Te}),At({Compare:Te}),At({Compare:Te}),0)}function ac(e,t,n){return new cr(xr(e,t,n.zeroCell),n.oneCell,n.twoCell,n.pathMap,n.currentId)}function Lo(e,t,n){return new cr(n.zeroCell,xr(e,t,n.oneCell),n.twoCell,n.pathMap,n.currentId)}function Ht(e,t,n){return new cr(n.zeroCell,n.oneCell,xr(e,t,n.twoCell),n.pathMap,n.currentId)}function bi(e,t,n){return new cr(n.zeroCell,n.oneCell,n.twoCell,xr(e,t,n.pathMap),n.currentId)}function M0(e,t,n){return new cr(Dt(e,t,n.zeroCell),n.oneCell,n.twoCell,n.pathMap,n.currentId)}function xs(e,t,n){return new cr(n.zeroCell,Dt(e,t,n.oneCell),n.twoCell,n.pathMap,n.currentId)}function cM(e,t,n){return new cr(n.zeroCell,n.oneCell,Dt(e,t,n.twoCell),n.pathMap,n.currentId)}function Ao(e,t,n){return new cr(n.zeroCell,n.oneCell,n.twoCell,Dt(e,t,n.pathMap),n.currentId)}function gh(e,t){return new cr(kr(e,t.zeroCell),t.oneCell,t.twoCell,t.pathMap,t.currentId)}function Ms(e,t){return new cr(t.zeroCell,kr(e,t.oneCell),t.twoCell,t.pathMap,t.currentId)}function fM(e,t){return new cr(t.zeroCell,t.oneCell,kr(e,t.twoCell),t.pathMap,t.currentId)}function Go(e,t){return new cr(t.zeroCell,t.oneCell,t.twoCell,kr(e,t.pathMap),t.currentId)}function qo(e,t){return $o(e,t.zeroCell)}function il(e,t){return $o(e,t.oneCell)}function Vn(e,t){return $o(e,t.twoCell)}function Mw(e,t){return[Vn(e.startTwoCell,t),Vn(e.endTwoCell,t)]}function er(e,t){const n=Kt(e,t.pathMap);return n??et(F("path not found: %O"))(e)}function $t(e,t){return new Ew(e,t)}function e_(e){return new Ew(e.endTwoCell,e.startTwoCell)}function dM(e,t){const n=Mw(t,e);return new xu(n[0].position,n[1].position)}function Ts(e){return new Ll(e)}function o1(e,t){return new Ll(e)}function hM(e,t){let n,r,s,i,o,l,u,a,c,f;const d=t.p1,g=e.p1;f=new M(d.x-g.x,d.y-g.y);let w;const v=t.p2,_=e.p1;w=new M(v.x-_.x,v.y-_.y);let p;const h=e.p2,$=e.p1;p=new M(h.x-$.x,h.y-$.y);let C;const k=p;C=new M(k.y,-k.x);let T;const D=f,V=C;T=D.x*V.x+D.y*V.y;const U=(n=w,-(r=C,n.x*r.x+n.y*r.y)),O=T/(T+U);if(T+U!==0){if(O<0||1<O)return;{let B,Z;const j=f,ie=1-O;Z=new M(j.x*ie,j.y*ie);let W;const te=w,R=O;W=new M(te.x*R,te.y*R),B=new M(Z.x+W.x,Z.y+W.y);const I=(s=p,(i=B,s.x*i.x+s.y*i.y)/(o=p,l=o,u=o,l.x*u.x+l.y*u.y));return I<0||I>1?void 0:(a=e.p1,c=B,new M(a.x+c.x,a.y+c.y))}}}function Dg(e,t){let n,r,s,i,o,l,u,a,c,f;const d=t.p1,g=e.p1;f=new M(d.x-g.x,d.y-g.y);let w;const v=t.p2,_=e.p1;w=new M(v.x-_.x,v.y-_.y);let p;const h=e.p2,$=e.p1;p=new M(h.x-$.x,h.y-$.y);let C;const k=p;C=new M(k.y,-k.x);let T;const D=f,V=C;T=D.x*V.x+D.y*V.y;const U=(n=w,-(r=C,n.x*r.x+n.y*r.y));if(T+U!==0){const O=T/(T+U);if(O<=0||1<=O)return;{let B,Z;const j=f,ie=1-O;Z=new M(j.x*ie,j.y*ie);let W;const te=w,R=O;W=new M(te.x*R,te.y*R),B=new M(Z.x+W.x,Z.y+W.y);const I=(s=p,(i=B,s.x*i.x+s.y*i.y)/(o=p,l=o,u=o,l.x*u.x+l.y*u.y));return I<=0||I>=1?void 0:(a=e.p1,c=B,new M(a.x+c.x,a.y+c.y))}}}class nf extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["HitP1","HitP2","HitLine","NoHit"]}}class pM extends ue{constructor(t,n,r,s){super(),this.hit=t,this.direction=n,this.position=r,this.distance=s}}function Tw(e,t,n){let r,s,i,o,l,u,a;const c=e.p1,f=t;a=new M(c.x-f.x,c.y-f.y);const d=n;let g;const w=e.p2,v=t;g=new M(w.x-v.x,w.y-v.y);let _;const p=d;_=new M(p.y,-p.x);let h;const $=a,C=_;h=$.x*C.x+$.y*C.y;const k=h/(h+(r=g,-(s=_,r.x*s.x+r.y*s.y)));let T,D;const V=a,U=1-k;D=new M(V.x*U,V.y*U);let O;const B=g,Z=k;O=new M(B.x*Z,B.y*Z),T=new M(D.x+O.x,D.y+O.y);const j=(i=d,(o=T,i.x*o.x+i.y*o.y)/oo(d));return new pM(k<0||1<k||j<0?new nf(3,[]):k===0?new nf(0,[]):k===1?new nf(1,[]):new nf(2,[]),T,(l=t,u=T,new M(l.x+u.x,l.y+u.y)),j)}class Gf extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Right","Left","Center"]}}function T0(e,t){let n;const r=e.p2,s=e.p1;n=new M(r.x-s.x,r.y-s.y);let i;const o=t,l=e.p1;i=new M(o.x-l.x,o.y-l.y);const u=n.x*i.y-n.y*i.x;return u<0?new Gf(0,[]):u>0?new Gf(1,[]):new Gf(2,[])}function t_(e,t,n){if(Y(e))return!1;{const r=[t,n],s=he(o=>[o,Tw(o,r[0],r[1])],e),i=m0(s);return LE(pi(o=>{switch(o[0].tag){case 1:return 1;case 0:return-1;default:return}},Ri(o=>{const l=o[1],u=[l.hit,l.distance];return u[0].tag===3?!1:u[1]!==0},Qt((o,l)=>{const u=o[2],a=l[1],c=T0(l[0],t);return[c,a.position,ee(o[1],a.position)&&ee(o[0],c)?u:Ee([c,a],u)]},[T0(i[0],t),i[1].position,z()],s)[2])),{GetZero:()=>0,Add:(o,l)=>o+l})!==0}}function wM(e,t,n){const r=[t,n];return pi(s=>{const i=Tw(s,r[0],r[1]),o=[i.hit,i.distance];if(o[0].tag!==3){if(o[1]===0)return;switch(T0(s,t).tag){case 1:return i.position;case 0:return i.position;default:return}}},e)}function ei(e,t){return new Fo(t,e)}function I0(e,t){return $o(t,e.environment.twoCell).position}function yh(e,t){return A(y(()=>dt(n=>S(new xu(I0(e,n.startTwoCell),I0(e,n.endTwoCell))),t.path)))}function n_(e,t){return A(y(()=>dt(n=>S([n,new xu(I0(e,n.startTwoCell),I0(e,n.endTwoCell))]),t.path)))}function $M(e,t){return er(t,e)}class rf extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddOneCellFailedByCross","AddOneCellSuccess","AlreadyOneCell","OverTwoZeroCell"]}}class sf extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["KakudoFailed","PathFailed","OtherPathFailed","ZeroCellNotMatch","MoveTwoCellSuccess"]}}function iu(e){const t=wl(e),n=t.x<0;return[n,n?-t.y:t.y]}function gM(e){return new Bn(M0(Ym(),lM(po({Compare:Te}),e),aM()))}function cc(e,t){const n=t.environment,r=[e,new M(0,1)],s=pi(i=>i,he(i=>{const o=el(lc(l=>pi(u=>{let a,c;return le(f=>{let d,g;return[f,ax(wl((d=u.p2,g=u.p1,new M(d.x-g.x,d.y-g.y))))]},(a=u,c=Tw(a,r[0],r[1]),c.hit.tag===3?void 0:ee(T0(a,e),new Gf(1,[]))?c.distance:void 0))},l),lc(l=>yh(t,er(l,n)),i[1].paths,{Compare:Te}),{Compare:Te}));if(!nh(o))return[i[0],ux(o,{Compare:Wr})]},ni(n.zeroCell)));return nh(s)?new Ku(1,[]):lx(i=>i[1],s,{Compare:Wr})[0]}function r_(e,t){cc(e,t);const n=oM(t.environment),r=n[1];return[new Bn(cM(r,new vr(z(),e),n[0])),r]}function yM(e,t,n){let r,s,i,o,l,u,a,c;const f=n.environment,d=Vn(e,f);let g;const w=t,v=d.position;g=new M(w.x-v.x,w.y-v.y);const _=cc(t,n);let p;const h=uM(C=>{let k;const T=C[1].position,D=d.position;return k=new M(T.x-D.x,T.y-D.y),Wr(iu(g),iu(k))<0},iw(C=>{let k,T;return iu((k=C[1].position,T=d.position,new M(k.x-T.x,k.y-T.y)))},he(C=>[C,Vn(C,f)],d.adj),{Compare:Wr}));if(h!=null){const C=h[2][0],k=h[2][1],T=h[0][0],D=h[0][1],V=h[1],U=(V??[C,k])[1],O=(Z,j)=>{let ie,W,te;const R=j;return te=new M(R.y,-R.x),ie=Z,(W=te,ie.x*W.x+ie.y*W.y)/oo(Z)/oo(te)};O((r=D.position,s=d.position,new M(r.x-s.x,r.y-s.y)),(i=U.position,o=d.position,new M(i.x-o.x,i.y-o.y))),O((l=D.position,u=t,new M(l.x-u.x,l.y-u.y)),(a=U.position,c=t,new M(a.x-c.x,a.y-c.y)));const B=er(il($t(e,T),f).right,f);p=[B.zeroCell,qo(B.zeroCell,f).paths,wi(A(y(()=>dt(Z=>E(S($t(e,Z)),y(()=>S($t(Z,e)))),d.adj))),{Compare:Te})]}else{const C=cc(d.position,n);p=[C,qo(C,f).paths,po({Compare:Te})]}const $=p[0];if(ee($,_)){const C=A(oe(k=>k[0],ps(k=>!qr(k[0],p[2]),ps(k=>hM(k[1],new xu(d.position,t))!=null,ws(oe(k=>n_(n,$M(f,k)),p[1]))))));if(Y(C)){let k;const T=he(D=>[D,Vn(D,f)],d.adj);return k=Y(T)?z():A(ws(he(D=>{const V=D[0],U=D[1],O=B=>{let Z,j,ie,W,te,R,I;const Q=B[1],re=(Z=(j=d.position,ie=Q.position,new M(j.x-ie.x,j.y-ie.y)),(W=(te=(R=t,I=Q.position,new M(R.x-I.x,R.y-I.y)),new M(te.y,-te.x)),Z.x*W.x+Z.y*W.y)<0?X([Q.position,t,d.position]):X([Q.position,d.position,t])),_e=Lr((ye,Ye)=>[ye,Ee(new xu(Ye[0],ye),Ye[1])],re,[Q.position,z()])[1];return lc(ye=>A(y(()=>E(ye,y(()=>oe(Ye=>Ye,re))))),lc(ye=>wM(_e,ye[1].position,new M(0,1)),Vx(ye=>{const Ye=ye[0];return!ee(Ye,e)&&!ee(Ye,B[0])?t_(_e,ye[1].position,new M(0,1)):!1},D[2]),{Compare:Te}),{Compare:Te})};return Im(O([V[0],V[1]]),O([U[0],U[1]]))},Lr((D,V)=>{const U=D[0],O=D[1],B=V[0];return[[U,O],Ee([[U,O],[B[0],B[1]],uc(ws(oe(Z=>he(j=>[j.startTwoCell,Vn(j.startTwoCell,f)],er(Z,f).path),qo(er(il(new Ew(e,U),f).right,f).zeroCell,f).paths)),{Compare:Wr})],V[1])]},T,[H(T),z()])[1]))),ee(k,z())?new sf(4,[new Bn(Ht(e,D=>le(V=>new vr(V.adj,t),D),f))]):new sf(2,[el(k)])}else return new sf(1,[C])}else return new sf(3,[[$,_]])}function vM(e,t,n){let r,s,i,o,l,u,a,c,f,d,g,w,v,_,p,h,$,C,k,T,D,V,U,O,B,Z,j,ie,W,te,R,I,Q,re,_e,ye,Ye,at,Mt,mt,hn,_n,dr,pn,hr,Wn,_s,qs,Qs,Cs,Jt,pr,Zn,vl,ta,na,_o,Co,So,ra,sa,Nr,ia,ml,ko,_l,oa,la,ua,aa,Cl,Ii,ca;const rn=n.environment,Sl=Vn(e,rn),Eo=Vn(t,rn);if(Ko($t(e,t),rn.oneCell))return new rf(2,[]);{const fa=(Js,Kn)=>{let sn,de;const G=Js[0],q=Js[1],ae=Kn[0],$e=q.adj;if(Y($e))return[[void 0,cc(q.position,n)],P(ae)];{const xe=iw(Ce=>Ce[2],he(Ce=>{let me,Be;const _t=Vn(Ce,rn);return[Ce,_t,iu((me=_t.position,Be=q.position,new M(me.x-Be.x,me.y-Be.y)))]},$e),{Compare:Wr}),pt=(Ce,me)=>{const Be=$t(Ce,me),_t=il(Be,rn).right,zt=er(_t,rn);return[[Be,_t,zt],zt.zeroCell]},st=iu((sn=Kn[1].position,de=q.position,new M(sn.x-de.x,sn.y-de.y)));return((Ce,me,Be)=>{e:for(;;){const _t=Ce,zt=me,qn=Be;if(Y(_t))return[pt(G,zt),qn(P(ae))];{const wr=L(_t),Ni=H(_t)[0];if(Wr(st,H(_t)[2])<0)return[pt(G,zt),qn(Ct([ae,Ni],he(Qd=>Qd[0],wr)))];Ce=wr,me=Ni,Be=Qd=>qn(Ee(Ni,Qd));continue e}}})(xe,m0(xe)[0],Ce=>Ce)}},kl=fa([e,Sl],[t,Eo]),Ss=kl[0][1],ns=kl[0][0],Pi=kl[1],El=fa([t,Eo],[e,Sl]),xl=El[0][1],Vr=El[0][0],Di=El[1];if(ee(Ss,xl)){const Js=new xu(Sl.position,Eo.position),Kn=Ss,sn=qo(Ss,rn);if(FE(de=>{const G=Dg(de,Js)!=null;return G&&(Ne(F("cross! %O %O"))(de)(Js),void 0),G},el(lc(de=>yh(n,er(de,rn)),sn.paths,{Compare:Te}))))return Ne(F("one cell")),new rf(0,[A(Cu(de=>{if(Dg(de[1],Js)!=null)return de[0]},ws(oe(de=>n_(n,er(de,rn)),sn.paths))))]);{$t(e,t);const de=(G,q)=>(($e,xe)=>{e:for(;;){const pt=$e,st=xe;if(Y(pt))return et(F(`oneCell not found: %O
%O`))(G)(q);{const it=L(pt),Ce=H(pt);if(ee(Ce,G))return[st(z()),Ee(Ce,it)];$e=it,xe=me=>st(Ee(Ce,me));continue e}}})(q,$e=>$e);return new rf(1,[ns!=null?Vr!=null?(r=ns[0],s=Vr[0],i=ns[2],o=Vr[2],l=ns[1],u=Vr[1],ee(l,u)?(v=l,_=de(r,i.path),p=_[1],h=_[0],$=(()=>{try{const G=de(s,p);return[G[0],_u(G[1],h)]}catch{const q=de(s,h);return[_u(p,q[0]),q[1]]}})(),C=$[1],k=$[0],T=t_,D=(V=Mw($t(e,t),rn),U=V[1],O=V[0],T(he(G=>dM(rn,G),k),(B=(Z=O.position,j=U.position,new M(Z.x+j.x,Z.y+j.y)),new M(B.x/2,B.y/2)),(ie=(W=U.position,te=O.position,new M(W.x-te.x,W.y-te.y)),new M(ie.y,-ie.x)))),R=wh(rn),I=R[1],Q=wh(R[0]),re=Q[1],_e=Q[0],ye=Ee($t(e,t),C),Ye=Ee($t(t,e),k),at=Kn.tag===1?D?[re,Kn]:[Kn,I]:[re,I],Mt=at[1],mt=at[0],hn=ei(Mt,ye),_n=ei(mt,Ye),dr=(pn=(G,q,ae)=>{let $e;e:for(;;){const xe=G,pt=q,st=ae;if(Y(st))return[xe,pt];{const it=L(st),Ce=H(st)[0];if($e=Vn(H(H(st)[1].path).startTwoCell,_e).position,T(yh(n,_n),$e,new M(0,1))){G=Ee(Ce,xe),q=pt,ae=it;continue e}else{G=xe,q=Ee(Ce,pt),ae=it;continue e}}}},pn(z(),z(),he(G=>[G,er(G,_e)],sh(Li(v,sn.paths))))),hr=dr[1],Wn=dr[0],_s=D?[Wn,hr]:[hr,Wn],qs=_s[1],Qs=_s[0],Cs=zo(_e),Jt=Cs[1],pr=zo(Cs[0]),Zn=pr[1],vl=new lo(wi(Ee(Jt,Qs),{Compare:Te}),sn.t,sn.data),new Bn(Ht(t,G=>le(q=>Es(ae=>Di,q),G),Ht(e,G=>le(q=>Es(ae=>Pi,q),G),Lr((G,q)=>Lo(G,ae=>le($e=>new Ll(Zn),ae),q),C,Lr((G,q)=>Lo(G,ae=>le($e=>new Ll(Jt),ae),q),k,Lr((G,q)=>bi(G,ae=>le($e=>new Fo($e.path,Mt),ae),q),qs,Lr((G,q)=>bi(G,ae=>le($e=>new Fo($e.path,mt),ae),q),Qs,M0(Mt,new lo(wi(Ee(Zn,qs),{Compare:Te}),sn.t,sn.data),M0(mt,vl,gh(Kn,Ao(Zn,hn,Ao(Jt,_n,Go(v,(ta=xs($t(e,t),Ts(Zn),pr[0]),xs($t(t,e),Ts(Jt),ta)))))))))))))))):(a=de(r,i.path),c=de(s,o.path),f=zo(rn),d=f[1],new Bn(Ht(t,G=>le(q=>Es(ae=>Di,q),G),Ht(e,G=>le(q=>Es(ae=>Pi,q),G),ac(Kn,G=>le(q=>x0(d,$h(u,$h(l,q))),G),Lr((G,q)=>Lo(G,ae=>le($e=>new Ll(d),ae),q),o.path,Lr((G,q)=>Lo(G,ae=>le($e=>new Ll(d),ae),q),i.path,Ao(d,ei(Ss,A(y(()=>E(a[0],y(()=>E(S($t(e,t)),y(()=>E(c[1],y(()=>E(c[0],y(()=>E(S($t(t,e)),y(()=>a[1]))))))))))))),(g=(w=Go(u,Go(l,f[0])),xs($t(e,t),Ts(d),w)),xs($t(t,e),Ts(d),g))))))))))):(na=ns[0],_o=ns[2],Co=ns[1],So=de(na,_o.path),ra=ei(_o.zeroCell,A(y(()=>E(S($t(e,t)),y(()=>E(S($t(t,e)),y(()=>E(So[1],y(()=>So[0]))))))))),new Bn(Ht(t,G=>le(q=>Es(ae=>Di,q),G),Ht(e,G=>le(q=>Es(ae=>Pi,q),G),(sa=(Nr=bi(Co,G=>le(q=>ra,G),rn),xs($t(e,t),Ts(Co),Nr)),xs($t(t,e),Ts(Co),sa)))))):Vr!=null?(ia=Vr[0],ml=Vr[2],ko=Vr[1],_l=de(ia,ml.path),oa=ei(ml.zeroCell,A(y(()=>E(S($t(e,t)),y(()=>E(_l[1],y(()=>E(_l[0],y(()=>S($t(t,e))))))))))),new Bn(Ht(t,G=>le(q=>Es(ae=>Di,q),G),Ht(e,G=>le(q=>Es(ae=>Pi,q),G),(la=(ua=bi(ko,G=>le(q=>oa,G),rn),xs($t(e,t),Ts(ko),ua)),xs($t(t,e),Ts(ko),la)))))):(aa=ei(Ss,X([$t(e,t),$t(t,e)])),Cl=zo(rn),Ii=Cl[1],new Bn(Ht(t,G=>le(q=>Es(ae=>Di,q),G),Ht(e,G=>le(q=>Es(ae=>Pi,q),G),ac(Kn,G=>le(q=>x0(Ii,q),G),Ao(Ii,aa,(ca=xs($t(e,t),Ts(Ii),Cl[0]),xs($t(t,e),Ts(Ii),ca))))))))])}}else return Ne(F(`one cellzero cell:
%O
%O
%O
%O`))(ns)(Vr)(Ss)(xl),new rf(3,[[Ss,xl]])}}function s_(e,t){const n=t.environment,r=Mw(e,n),s=il(e,n).right,i=er(s,n),o=e_(e),l=il(o,n).right,u=r[0].adj,a=r[1].adj;let c;switch(Y(u)?Y(a)?c=3:Y(L(a))?(c=2,H(a)):c=3:Y(L(u))?Y(a)?(c=1,H(u)):Y(L(a))?(c=0,H(u),H(a)):(c=1,H(u)):Y(a)?c=3:Y(L(a))?(c=2,H(a)):c=3,c){case 0:return new Bn(Go(s,ac(i.zeroCell,f=>le(d=>new lo(Li(s,d.paths),d.t,d.data),f),Ht(e.endTwoCell,f=>le(d=>new vr(z(),d.position),f),Ht(e.startTwoCell,f=>le(d=>new vr(z(),d.position),f),Ms(o,Ms(e,n)))))));case 1:return new Bn(bi(s,f=>le(d=>new Fo(Ri(g=>ee(g,e)?!1:!ee(g,o),d.path),d.zeroCell),f),Ht(e.endTwoCell,f=>le(d=>new vr(sh(Li(e.startTwoCell,wi(d.adj,{Compare:Te}))),d.position),f),Ht(e.startTwoCell,f=>le(d=>new vr(z(),d.position),f),Ms(o,Ms(e,n))))));case 2:return new Bn(bi(l,f=>le(d=>new Fo(Ri(g=>ee(g,e)?!1:!ee(g,o),d.path),d.zeroCell),f),Ht(e.startTwoCell,f=>le(d=>new vr(sh(Li(e.endTwoCell,wi(d.adj,{Compare:Te}))),d.position),f),Ht(e.endTwoCell,f=>le(d=>new vr(z(),d.position),f),Ms(o,Ms(e,n))))));default:{const f=(d,g)=>((v,_)=>{e:for(;;){const p=v,h=_;if(Y(p))return et(F(`oneCell not found: %O
%O`))(d)(g);{const $=L(p),C=H(p);if(ee(C,d))return[h(z()),Ee(C,$)];v=$,_=k=>h(Ee(C,k));continue e}}})(g,v=>v);if(ee(s,l)){let d,g;const w=o,v=f(e,i.path),_=v[1],p=v[0];let h;try{const Z=f(w,_);h=[Z[0],_u(Z[1],p)]}catch{const j=f(w,p);h=[_u(_,j[0]),j[1]]}g=[h[0],h[1]];let $,C,k;switch(Y(g[0])||Y(g[1])?$=1:($=0,H(g[0]),C=L(g[0]),H(g[1]),k=L(g[1])),$){case 0:{d=[ei(i.zeroCell,C),ei(i.zeroCell,k)];break}default:d=et(F("one cell not found in %O"))(i.path)}const T=d[1],D=d[0],V=zo(n),U=V[1],O=zo(V[0]),B=O[1];return new Bn(Lr((Z,j)=>Lo(Z,ie=>le(W=>o1(B),ie),j),T.path,Lr((Z,j)=>Lo(Z,ie=>le(W=>o1(U),ie),j),D.path,Ht(e.endTwoCell,Z=>le(j=>new vr(Ri(ie=>!ee(e.startTwoCell,ie),j.adj),j.position),Z),Ht(e.startTwoCell,Z=>le(j=>new vr(Ri(ie=>!ee(e.endTwoCell,ie),j.adj),j.position),Z),ac(i.zeroCell,Z=>le(j=>x0(B,x0(U,$h(s,j))),Z),Ao(B,T,Ao(U,D,Go(s,Ms(o,Ms(e,O[0])))))))))))}else{const d=er(l,n),g=Pg(d.zeroCell)||Pg(i.zeroCell)?[n,Ym()]:wh(n),w=g[1];let v;const _=[f(e,i.path),f(o,d.path)];let p,h,$,C,k;switch(Y(_[0][1])||Y(_[1][1])?p=1:(p=0,H(_[1][1]),h=_[1][0],$=L(_[1][1]),H(_[0][1]),C=_[0][0],k=L(_[0][1])),p){case 0:{v=ei(w,A(y(()=>E(h,y(()=>E(k,y(()=>E(C,y(()=>$)))))))));break}default:v=et(F("one cell not found! in %O"))(i.path)}const T=zo(g[0]),D=T[1],V=T[0],U=qo(i.zeroCell,V),O=qo(d.zeroCell,V);return new Bn(As((B,Z)=>Lo(B,j=>le(ie=>o1(D),j),Z),v.path,pg((B,Z)=>bi(B,j=>le(ie=>new Fo(ie.path,w),j),Z),O.paths,pg((B,Z)=>bi(B,j=>le(ie=>new Fo(ie.path,w),j),Z),U.paths,M0(w,new lo(Wu(D,Li(s,Li(l,Im(U.paths,O.paths)))),U.t,U.data),gh(d.zeroCell,gh(i.zeroCell,Ao(D,v,Go(l,Go(s,Ht(e.endTwoCell,B=>le(Z=>new vr(Ri(j=>!ee(e.startTwoCell,j),Z.adj),Z.position),B),Ht(e.startTwoCell,B=>le(Z=>new vr(Ri(j=>!ee(e.endTwoCell,j),Z.adj),Z.position),B),Ms(o,Ms(e,V))))))))))))))}}}}function mM(e,t){const n=fM(e,As(gu(r=>{const s=$t(e,r);return i=>s_(s,i)}),Vn(e,t.environment).adj,t).environment);return Me(F("%O"))(n),new Bn(n)}function _M(e,t,n){return new Bn(ac(e,r=>le(s=>new lo(s.paths,s.t,t(s.data)),r),n.environment))}let of=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroCell","OneCell","TwoCell"]}},Ta=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["EditZeroCellDataMode","DefaultMode"]}},Fr=class extends ue{constructor(t,n,r,s,i,o,l,u){super(),this.stringDiagram=t,this.previewStringDiagram=n,this.previewViewStringDiagram=r,this.viewSize=s,this.dragState=i,this.oneCell=o,this.points=l,this.mode=u}};class Tl extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["TwoCellId","NewTwoCell"]}}function Ng(e,t){return e.tag===1?r_(e.fields[0],t):[t,e.fields[0]]}class Xs extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddOneCell","RemoveOneCell","AddTwoCell","MoveTwoCell","RemoveTwoCell","ChangeZeroCellData"]}}class Nl extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["StartEditZeroCellData","EditZeroCellData","ApplyEditZeroCellData","ExitEdtZeroCellData"]}}let Ot=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["StringDiagramMsg","StringDiagramErrorMsg","PreviewMsg","PreviewViewMsg","ExitPreview","ApplyPreview","DragMsg","DragOutMsg","ModeMsg","Error"]}};function i_(){const e=gM("backGround");return[new Fr(e,e,e,new M(500,500),void 0,po({Compare:Te}),z(),new Ta(1,[])),ne()]}function CM(e,t){switch(e.tag){case 3:return[new Fr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new Ta(1,[])),ne()];case 2:return t.mode.tag===0?[new Fr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new Ta(1,[])),P(n=>{n(new Ot(5,[]))})]:[t,ne()];case 1:{const n=e.fields[0],r=t.mode;if(r.tag===0){const s=r.fields[0][0];return[new Fr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new Ta(0,[[s,n]])),P(i=>{i(new Ot(2,[new Xs(5,[[s,n]])]))})]}else return[t,ne()]}default:{const n=e.fields[0];return[new Fr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new Ta(0,[[n,qo(n,t.stringDiagram.environment).data]])),ne()]}}}function l1(e,t){switch(e.tag){case 3:{const n=yM(e.fields[0][0],e.fields[0][1],t);return n.tag===4?[n.fields[0],ne()]:(Me(F("move TwoCell failed:  %O"))(n),[t,ne()])}case 4:return[mM(e.fields[0],t),ne()];case 0:{const n=t,r=b(Ng(e.fields[0][0],t)),s=r[1],i=b(Ng(e.fields[0][1],r[0])),o=i[0],l=i[1],u=vM(s,l,o);switch(u.tag){case 1:return[u.fields[0],ne()];case 0:return Me(F("%O"))(o),Me(F("add OneCell failed: %O %O"))(s)(l),[n,ne()];case 3:return Me(F("one cell")),[n,ne()];default:return Me(F("add one cell failed: %O"))(u),[n,ne()]}}case 1:return[s_(e.fields[0],t),ne()];case 5:return[_M(e.fields[0][0],n=>e.fields[0][1],t),ne()];default:{const n=e.fields[0],r=r_(n,t);return r!=null?[r[0],ne()]:(Me(F("add TwoCell failed at: %O"))(n),[t,ne()])}}}function SM(e,t){if(t.mode.tag===1)switch(e.tag){case 1:{const n=e.fields[0],r=n.source.event.button;if(Me(F("%O"))(r),n.source.event.button!==0)return z();{const s=n.source.targetType,i=n.target.targetType;let o,l,u,a;switch(s.tag){case 2:{i.tag===2?ee(s.fields[0],i.fields[0])?(o=1,a=s.fields[0]):(o=0,l=s.fields[0],u=i.fields[0]):(o=1,a=s.fields[0]);break}case 0:{o=2,s.fields[0];break}default:o=3}switch(o){case 0:return P(new Ot(3,[new Xs(0,[[new Tl(0,[l]),new Tl(0,[u])]])]));case 1:return P(new Ot(2,[new Xs(3,[[a,n.target.position]])]));case 2:return A(y(()=>{const c=n.target.targetType;switch(c.tag){case 2:return S(new Ot(3,[new Xs(0,[[new Tl(1,[n.source.position]),new Tl(0,[c.fields[0]])]])]));case 0:return S(new Ot(3,[new Xs(0,[[new Tl(1,[n.source.position]),new Tl(1,[n.target.position])]])]));default:return Oe()}}));default:return z()}}}case 2:return P(new Ot(5,[]));case 3:{const n=e.fields[0];if(n.event.button===2){const r=n.targetType;switch(r.tag){case 1:return P(new Ot(0,[new Xs(1,[r.fields[0]])]));case 2:return P(new Ot(0,[new Xs(4,[r.fields[0]])]));default:return P(new Ot(8,[new Nl(0,[r.fields[0]])]))}}else{if(n.event.button!==0)return z();{cc(n.position,t.stringDiagram);const r=n.targetType;switch(r.tag){case 0:return n.event.ctrlKey?P(new Ot(0,[new Xs(2,[n.position])])):z();case 2:{const s=t.stringDiagram.environment;return iw(i=>iu(i[1].position),he(i=>[i,Vn(i,s)],Vn(r.fields[0],s).adj),{Compare:Wr}),z()}default:{const s=r.fields[0],i=t.stringDiagram.environment,o=il(s,i),l=il(e_(s),i);return er(o.right,i),er(l.right,i),z()}}}}}default:return z()}else return z()}function kM(e,t){switch(e.tag){case 2:{const n=l1(e.fields[0],t.previewStringDiagram),r=n[0];return[new Fr(t.stringDiagram,r,r,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),n[1]]}case 3:{const n=l1(e.fields[0],t.stringDiagram);return[new Fr(t.stringDiagram,t.previewStringDiagram,n[0],t.viewSize,t.dragState,t.oneCell,t.points,t.mode),n[1]]}case 4:return[new Fr(t.stringDiagram,t.stringDiagram,t.stringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),ne()];case 5:return[new Fr(t.previewViewStringDiagram,t.previewViewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),ne()];case 6:{const n=vd(e.fields[0],t.dragState);return[new Fr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,n[0],t.oneCell,t.points,t.mode),tn(he(r=>P(s=>{s(new Ot(7,[r]))}),n[1]))]}case 7:return[t,tn(he(n=>P(r=>{r(n)}),SM(e.fields[0],t)))];case 1:return[new Fr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,e.fields[0].fields[0],t.mode),ne()];case 9:return M3(Ne(F("error: %O"))(e.fields[0])),[t,ne()];case 8:{const n=e.fields[0];Me(F("%O"))(n);const r=CM(n,t);return[r[0],r[1]]}default:{const n=e.fields[0];Me(F("msg: %O"))(n);const r=l1(n,t.stringDiagram);return[new Fr(r[0],t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),tn(X([r[1],P(s=>{s(new Ot(4,[]))})]))]}}}function o_(e,t){try{return kM(e,t)}catch(n){return[t,P(r=>{r(new Ot(9,[n]))})]}}function EM(e,t,n){return A(y(()=>ee(t[0],new Ku(1,[]))?Oe():S(N.createElement("path",Qe(A(y(()=>E(S(["strokeLinecap","round"]),y(()=>E(S(["strokeLinejoin","round"]),y(()=>E(S(["id",Ae(t[0])]),y(()=>E(S(["d",sl(he(r=>[r[0],he(s=>X([s.x,s.y]),r[1])],A(y(()=>dt(r=>{const s=er(r,e).path;if(Y(s))return Oe();{const i=o=>Vn(o.startTwoCell,e);return E(S(["M",P(i(H(s)).position)]),y(()=>E(dt(o=>S(["L",P(i(o).position)]),L(s)),y(()=>S(["Z",z()])))))}},t[1].paths)))))]),y(()=>n)))))))))))))))}function xM(e,t,n){const r=Vn(t[0].startTwoCell,e).position,s=Vn(t[0].endTwoCell,e).position;return N.createElement("line",Qe(A(y(()=>E(S(["x1",r.x]),y(()=>E(S(["y1",r.y]),y(()=>E(S(["x2",s.x]),y(()=>E(S(["y2",s.y]),y(()=>E(S(["strokeWidth",8]),y(()=>n))))))))))))))}function MM(e,t,n){const r=t[1].position;return N.createElement("circle",Qe(A(y(()=>E(S(["cx",r.x]),y(()=>E(S(["cy",r.y]),y(()=>n))))))))}class Vg extends ue{constructor(t,n,r,s){super(),this.stringDiagram=t,this.zeroCellAttrs=n,this.oneCellAttrs=r,this.twoCellAttrs=s}}function Og(e){const t=e.stringDiagram.environment,n=A(y(()=>E(dt(r=>EM(t,r,e.zeroCellAttrs(r)),t.zeroCell),y(()=>E(oe(r=>xM(t,r,e.oneCellAttrs(r)),t.oneCell),y(()=>oe(r=>MM(t,r,e.twoCellAttrs(r)),t.twoCell)))))));return N.createElement("g",{children:we.Children.toArray(Array.from(n))})}function l_(e,t){const n=new Vg(e.previewViewStringDiagram,i=>[["fill",i[1].data.color]],i=>[["stroke","pink"]],i=>[["r",10],["fill","yellow"]]),r=new Vg(e.stringDiagram,i=>A(y(()=>E(S(["onClick",o=>{o.ctrlKey&&t(new Ot(0,[new Xs(2,[$s(Gs(o.target),new M(o.clientX,o.clientY))])]))}]),y(()=>E(S(["fill","none"]),y(()=>zl(e.dragState,new of(0,[i[0]]),o=>{t(new Ot(6,[o]))}))))))),i=>A(y(()=>E(S(["fill","none"]),y(()=>zl(e.dragState,new of(1,[i[0]]),o=>{t(new Ot(6,[o]))}))))),i=>A(y(()=>E(S(["r",10]),y(()=>E(S(["fill","none"]),y(()=>zl(e.dragState,new of(2,[i[0]]),o=>{t(new Ot(6,[o]))})))))))),s=A(y(()=>{let i;return E(S(N.createElement("svg",Qe(X([["width",e.viewSize.x],["height",e.viewSize.y],["className",Se(" ",["pointer-events-none","user-select-none"])],(i=A(y(()=>E(S(N.createElement("rect",Qe(A(y(()=>E(S(["x",0]),y(()=>E(S(["y",0]),y(()=>E(S(["width",e.viewSize.x]),y(()=>E(S(["height",e.viewSize.y]),y(()=>E(S(["fill","blue"]),y(()=>zl(e.dragState,new of(0,[new Ku(1,[])]),o=>{t(new Ot(6,[o]))})))))))))))))))),y(()=>E(S(Og(n)),y(()=>E(S(Og(r)),y(()=>E(dt(o=>{const l=o[1].position;return S(N.createElement("text",{x:l.x,y:l.y,children:Ne(F("%O"))(o[0]),strokeWidth:2,stroke:"black"}))},e.previewViewStringDiagram.environment.twoCell),y(()=>oe(o=>N.createElement("circle",{cx:o.x,cy:o.y,r:2,fill:"red"}),e.points))))))))))),["children",we.Children.toArray(Array.from(i))])])))),y(()=>{const o=e.mode;return o.tag===0?E(S(N.createElement("input",{defaultValue:o.fields[0][1].color,width:100,height:100,style:{userSelect:"text"},onInput:l=>{Me(F("input")),t(new Ot(8,[new Nl(1,[new Af(l.target.value)])]))},onChange:l=>{const u=l.target.value;Me(F("%O"))(u),t(new Ot(8,[new Nl(1,[new Af(u)])]))}})),y(()=>E(oe(l=>N.createElement("button",{children:l,onClick:u=>{t(new Ot(8,[new Nl(1,[new Af(l)])])),t(new Ot(8,[new Nl(2,[])]))}}),["red","green","purple","white"]),y(()=>S(N.createElement("button",{children:"ok",onClick:l=>{t(new Ot(8,[new Nl(2,[])]))}})))))):Oe()}))}));return N.createElement("div",{children:we.Children.toArray(Array.from(s))})}function TM(e){return P([P("preventContextMenu"),vw()])}kw(i_,o_,l_);const IM=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,Rg=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,PM=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function DM(e){function t(r){return r.replace(Rg,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(IM.test(n))return fE(n,"{","}","(",")");if(Rg.test(n))return t(n);if(PM.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function NM(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}class ss extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["Branch"]}}function u_(e,t){return new ss([e(t.fields[0][0]),he(n=>u_(e,n),t.fields[0][1])])}class gi extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["RedoData"]}}function a_(e){return e.fields[0]}class Rc extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["NilUndoData","UndoData"]}}class $l extends ue{constructor(t,n,r){super(),this.current=t,this.redoData=n,this.undoData=r}}function vh(e,t){return new $l(e,new gi(z()),new Rc(1,[[t.current,t.undoData,new gi(z()),t.redoData]]))}function c_(e){return new $l(e,new gi(z()),new Rc(0,[]))}function Iw(e,t){const n=(r,s,i)=>{e:for(;;){const o=r,l=s,u=i;if(Y(l))return;{const a=L(l),c=H(l);if(o===0)return[lr(u),c,a];r=o-1,s=a,i=Ee(c,u);continue e}}};if(!(e<0))return le(r=>{const s=r[1];return new $l(s[0],s[1],new Rc(1,[[t.current,t.undoData,new gi(r[0]),new gi(r[2])]]))},n(e,t.redoData.fields[0],z()))}function Cd(e){const t=e.undoData;if(t.tag===1)return new $l(t.fields[0][0],new gi(A(y(()=>E(t.fields[0][2].fields[0],y(()=>E(S([e.current,e.redoData]),y(()=>t.fields[0][3].fields[0]))))))),t.fields[0][1])}function VM(e){return(n=>{e:for(;;){const r=n,s=Cd(r);if(s!=null){n=s;continue e}else return r}})(e)}function Fg(e){const t=n=>new $l(n.fields[0][0],new gi(he(r=>{const s=t(r);return[s.current,s.redoData]},n.fields[0][1])),new Rc(0,[]));return t(e)}function u1(e){return((n,r,s)=>{e:for(;;){const i=n,o=r,l=s;if(Y(i))return l(z());{const u=L(i),a=H(i),c=new $l(a[0],a[1],new Rc(1,[[e.current,e.undoData,new gi(lr(o)),new gi(u)]]));n=u,r=Ee(a,o),s=f=>l(Ee(c,f));continue e}}})(e.redoData.fields[0],z(),n=>n)}function zg(e,t){let n,r;return wl((n=t,r=e,new M(n.x-r.x,n.y-r.y)))}function OM(e,t,n){let r,s,i,o,l,u;return wl((r=(s=e,i=t,new M(s.x-i.x,s.y-i.y)),o=(l=t,u=n,new M(l.x-u.x,l.y-u.y)),new M(r.x+o.x,r.y+o.y)))}function RM(e){const t=new Float64Array(e.length);lt(t,0,0);for(let n=1;n<=e.length-1;n++)lt(t,n,J(n-1,t)+cw(J(n,e),J(n-1,e)));for(let n=1;n<=e.length-1;n++)lt(t,n,J(n,t)/J(e.length-1,t));return t}function FM(e){const t=1-e;return 3*e*t*t}function Lg(e){return 3*e*e*(1-e)}function zM(e){return e*e*e}function f_(e,t,n,r){let s,i,o,l,u,a,c,f;const d=cw(e,t)/3,g=Ls(new Array(4),0,4,new M(null,null));return lt(g,0,e),lt(g,3,t),lt(g,1,(s=e,i=(o=n,l=d,new M(o.x*l,o.y*l)),new M(s.x+i.x,s.y+i.y))),lt(g,2,(u=t,a=(c=r,f=d,new M(c.x*f,c.y*f)),new M(u.x+a.x,u.y+a.y))),g}function a1(e,t,n,r){let s,i,o,l,u,a,c,f,d,g,w,v,_,p,h,$,C,k;Ls(new Array(4),0,4,null);const T=e.length|0,D=Ls(new Array(T),0,T,null);for(let I=0;I<=T-1;I++){let Q;const re=n,_e=FM(J(I,t));Q=new M(re.x*_e,re.y*_e);let ye;const Ye=r,at=Lg(J(I,t));ye=new M(Ye.x*at,Ye.y*at),lt(D,I,[Q,ye])}let V=[[0,0],[0,0]],U=[0,0];for(let I=0;I<=T-1;I++){const Q=V[1][1];V[1][0];const re=V[0][1],_e=V[0][0],ye=J(I,D),Ye=_e+(s=J(0,ye),i=J(0,ye),s.x*i.x+s.y*i.y),at=re+(o=J(0,ye),l=J(1,ye),o.x*l.x+o.y*l.y),Mt=Q+(u=J(1,ye),a=J(1,ye),u.x*a.x+u.y*a.y);V=[[Ye,at],[at,Mt]];let mt;const hn=J(I,e);let _n,dr,pn;const hr=J(0,e),Wn=J(I,t);pn=new M(hr.x*Wn,hr.y*Wn);let _s;const qs=J(T-1,e),Qs=Lg(J(I,t));_s=new M(qs.x*Qs,qs.y*Qs),dr=new M(pn.x+_s.x,pn.y+_s.y);let Cs;const Jt=J(T-1,e),pr=zM(J(I,t));Cs=new M(Jt.x*pr,Jt.y*pr),_n=new M(dr.x+Cs.x,dr.y+Cs.y),mt=new M(hn.x-_n.x,hn.y-_n.y);const Zn=U[1];U=[U[0]+(c=J(0,ye),f=mt,c.x*f.x+c.y*f.y),Zn+(d=J(1,ye),g=mt,d.x*g.x+d.y*g.y)]}const O=V[1],B=V[0],Z=(I,Q)=>I[0]*Q[1]-I[1]*Q[0],j=Z(B,O),ie=Z(B,U),W=j===0?0:Z(U,O)/j,te=j===0?0:ie/j,R=1e-6*cw(J(0,e),J(T-1,e));if(W<R||te<R)return f_(J(0,e),J(T-1,e),n,r);{const I=Ls(new Array(4),0,4,new M(null,null));return lt(I,0,J(0,e)),lt(I,3,J(T-1,e)),lt(I,1,(w=J(0,e),v=(_=n,p=W,new M(_.x*p,_.y*p)),new M(w.x+v.x,w.y+v.y))),lt(I,2,(h=J(T-1,e),$=(C=r,k=te,new M(C.x*k,C.y*k)),new M(h.x+$.x,h.y+$.y))),I}}function Bf(e,t,n){let r,s,i,o,l,u,a;const c=e+1|0;a=Ls(new Array(c),0,c,new M(null,null));for(let f=0;f<=e;f++)lt(a,f,J(f,t));for(let f=1;f<=e;f++)for(let d=0;d<=e-f;d++)lt(a,d,(r=(s=J(d,a),i=1-n,new M(s.x*i,s.y*i)),o=(l=J(d+1,a),u=n,new M(l.x*u,l.y*u)),new M(r.x+o.x,r.y+o.y)));return J(0,a)}function c1(e,t,n){let r=~~(e.length/2),s=0;for(let i=1;i<=e.length-2;i++){let o,l;const u=Bf(3,t,J(i,n)),a=J(i,e);l=new M(u.x-a.x,u.y-a.y);const c=l,f=l;o=c.x*f.x+c.y*f.y,o>=s&&(s=o,r=i|0)}return[s,r]}function LM(e,t,n){let r,s,i,o,l,u;const a=e,c=t,f=Bf(3,a,n),d=Ls(new Array(3),0,3,new M(null,null));for(let p=0;p<=2;p++)lt(d,p,(r=J(p+1,a),s=(i=J(p,a),new M(i.x*3,i.y*3)),new M(r.x-s.x,r.y-s.y)));const g=Ls(new Array(2),0,2,new M(null,null));for(let p=0;p<=1;p++)lt(g,p,(o=J(p+1,a),l=(u=J(p,a),new M(u.x*2,u.y*2)),new M(o.x-l.x,o.y-l.y)));const w=Bf(2,d,n),v=Bf(1,g,n),_=w.x*w.x+w.y*w.y+(f.x-c.x)*v.x+(f.y-c.y)*v.y;return _===0?n:n-((f.x-c.x)*w.x+(f.y-c.y)*w.y)/_}function Ag(e,t,n){return yE((r,s)=>LM(n,r,s),e,t,Float64Array)}function AM(e,t,n,r,s){const i=(o,l,u)=>{const a=t*4,c=o.length|0;if(c===2)return P(f_(J(0,o),J(1,o),l,u));{let f=RM(o);const d=a1(o,f,l,u),g=c1(o,d,f),w=g[0];if(w<t)return P(d);{let v=g[1],_;if(w<a?_=(h=>{e:for(;;){const $=h;if($===0){const C=Ag(o,f,d);return v=c1(o,a1(o,C,l,u),C)[1]|0,d}else{const C=Ag(o,f,d),k=c1(o,a1(o,C,l,u),C);if(v=k[1]|0,k[0]<t)return d;f=C,h=$-1;continue e}}})(e):_=void 0,_==null){const p=OM(J(v-1,o),J(v,o),J(v+1,o));return A(y(()=>E(i(o.slice(0,v+1),l,p),y(()=>{let h;const $=p;return h=new M($.x*-1,$.y*-1),i(o.slice(v,c-1+1),h,u)}))))}else return P(_)}}};return i(n,r,s)}function GM(e,t,n){let r;const s=t.length|0;return AM(e,n,t,zg(J(0,t),J(1,t)),(r=zg(J(s-2,t),J(s-1,t)),new M(-r.x,-r.y)))}function BM(){return typeof window<"u"&&typeof window.document<"u"}class ct extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["JNumber","JString","JBool","JNull","JArray","JObject"]}}const xo=e=>({tag:"ok",value:e}),wa=e=>({tag:"error",error:e});class zn{constructor(t){this.uri=t}static isAbsoluteUri(t){try{return new URL(t),!0}catch{return!1}}static tryCreateWithKind(t,n){switch(n){case 1:return zn.isAbsoluteUri(t)?xo(new zn({original:t,value:new URL(t),kind:n})):wa("Invalid URI: The format of the URI could not be determined.");case 2:return zn.isAbsoluteUri(t)?wa("URI is not a relative path."):xo(new zn({original:t,value:t,kind:n}));case 0:return zn.isAbsoluteUri(t)?xo(new zn({original:t,value:new URL(t),kind:1})):xo(new zn({original:t,value:t,kind:2}));default:return n}}static tryCreateWithBase(t,n){return t.uri.kind!==1?wa("Base URI should have Absolute kind"):typeof n=="string"?xo(new zn({original:new URL(n,t.uri.value).toString(),value:new URL(n,t.uri.value),kind:1})):n.uri.kind===2?xo(new zn({original:new URL(n.uri.value,t.uri.value).toString(),value:new URL(n.uri.value,t.uri.value),kind:1})):xo(t)}static tryCreateImpl(t,n=1){return typeof t=="string"?typeof n!="number"?wa("Kind must be specified when the baseUri is a string."):zn.tryCreateWithKind(t,n):typeof n=="number"?wa("Kind should not be specified when the baseUri is an absolute Uri."):zn.tryCreateWithBase(t,n)}static create(t,n=1){const r=zn.tryCreateImpl(t,n);switch(r.tag){case"ok":return r.value;case"error":throw new Error(r.error);default:return r}}static tryCreate(t,n=1,r){const s=zn.tryCreateImpl(t,n);switch(s.tag){case"ok":return r.contents=s.value,!0;case"error":return!1;default:return s}}toString(){switch(this.uri.kind){case 1:return decodeURIComponent(this.asUrl().toString());case 2:return this.uri.value;default:return this.uri}}asUrl(){switch(this.uri.kind){case 1:return this.uri.value;case 2:throw new Error("This operation is not supported for a relative URI.");default:return this.uri}}get isAbsoluteUri(){return this.uri.kind===1}get absoluteUri(){return this.asUrl().href}get scheme(){const t=this.asUrl().protocol;return t.slice(0,t.length-1)}get host(){return this.asUrl().host}get absolutePath(){return this.asUrl().pathname}get query(){return this.asUrl().search}get pathAndQuery(){const t=this.asUrl();return t.pathname+t.search}get fragment(){return this.asUrl().hash}get originalString(){return this.uri.original}}function bM(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function bf(e,t,n,r,s){const i=Qm(e,t,s);if(i!=null){const o=(a,c)=>{const f=Math.max(a.length,c.length);return a.padStart(f,"0")<=c.padStart(f,"0")},l=i.sign==="-",u=bM(n||i.radix!==10,i.radix,l);if(o(i.digits.toUpperCase(),u))return e=R3(i.radix)+i.digits,e=l?i.sign+e:e,Ak(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function UM(e,t,n,r,s){try{return s.contents=bf(e,t,n,r),!0}catch{return!1}}function Ft(e){if(!(this instanceof Ft))return new Ft(e);this._=e}var ze=Ft.prototype;function jM(e,t){var n=0;for(n;n<e;n++)t(n)}function HM(e,t){jM(t.length,function(n){e(t[n],n,t)})}function d_(e,t,n){return HM(function(r,s,i){t=e(t,r,s,i)},n),t}function f1(e,t){return d_(function(n,r,s,i){return n.concat([e(r,s,i)])},[],t)}function WM(){return typeof Buffer<"u"}function h_(e){return e instanceof Ft}function Pw(e){return{}.toString.call(e)==="[object Array]"}function Aa(e){return WM()&&Buffer.isBuffer(e)}function fr(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function uo(e,t){return Pw(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function Bs(e,t){if(!t||e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?ZM(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function p_(e,t){if(Aa(e))return{offset:t,line:-1,column:-1};var n=e.slice(0,t).split(`
`),r=n.length,s=n[n.length-1].length+1;return{offset:t,line:r,column:s}}function ZM(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=!0;for(var s=0;s<t.length;s++)n[t[s]]=!0;var i=[];for(var o in n)({}).hasOwnProperty.call(n,o)&&i.push(o);return i.sort(),i}function Mu(e){if(!h_(e))throw new Error("not a parser: "+e)}function w_(e,t){return typeof e=="string"?e.charAt(t):e[t]}function KM(e){if(!Pw(e))throw new Error("not an array: "+e)}function mh(e){if(typeof e!="number")throw new Error("not a number: "+e)}function qM(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=$_(e),n=0;n<t.length;n++){var r=t.charAt(n);if(r!=="i"&&r!=="m"&&r!=="u")throw new Error('unsupported regexp flag "'+r+'": '+e)}}function Tu(e){if(typeof e!="function")throw new Error("not a function: "+e)}function Uf(e){if(typeof e!="string")throw new Error("not a string: "+e)}var QM=2,JM=3,Ui=8,XM=Ui*5,YM=Ui*4,Gg="  ";function P0(e,t){return new Array(t+1).join(e)}function eT(e){return e.length===1?`Expected:

`+e[0]:`Expected one of the following: 

`+e.join(", ")}function lf(e,t,n){var r=t-e.length;return r<=0?e:P0(n,r)+e}function tT(e,t){var n=e.length,r=[],s=0;if(n<=t)return[e.slice()];for(var i=0;i<n;i++)r[s]||r.push([]),r[s].push(e[i]),(i+1)%t===0&&s++;return r}function Bg(e,t,n,r){return{from:e-t>0?e-t:0,to:e+n>r?r:e+n}}function nT(e){return e.from===0&&e.to===1?{from:e.from,to:e.to}:{from:e.from/Ui,to:Math.floor(e.to/Ui)}}function rT(e,t){var n=t.index,r=n.offset,s=1,i,o,l,u,a;if(r===e.length)return"Got the end of the input";if(Aa(e)){var c=r-r%Ui,f=r-c,d=Bg(c,XM,YM+Ui,e.length),g=e.slice(d.from,d.to),w=tT(g.toJSON().data,Ui),v=f1(function($){return f1(function(C){return lf(C.toString(16),2,"0")},$)},w);u=nT(d),o=c/Ui,i=f*3,f>=4&&(i+=1),s=2,l=f1(function($){return $.length<=4?$.join(" "):$.slice(0,4).join(" ")+"  "+$.slice(4).join(" ")},v),a=((u.to>0?u.to-1:u.to)*8).toString(16).length,a<2&&(a=2)}else{var _=e.split(/\r\n|[\n\r\u2028\u2029]/);i=n.column-1,o=n.line-1,u=Bg(o,QM,JM,_.length),l=_.slice(u.from,u.to),a=u.to.toString().length}var p=o-u.from;Aa(e)&&(a=((u.to>0?u.to-1:u.to)*8).toString(16).length,a<2&&(a=2));var h=d_(function($,C,k){var T=k===p,D=T?"> ":Gg,V;return Aa(e)?V=lf(((u.from+k)*8).toString(16),a,"0"):V=lf((u.from+k+1).toString(),a," "),[].concat($,[D+V+" | "+C],T?[Gg+P0(" ",a)+" | "+lf("",i," ")+P0("^",s)]:[])},[],l);return h.join(`
`)}function sT(e,t){return[`
`,"-- PARSING FAILED "+P0("-",50),`

`,rT(e,t),`

`,eT(t.expected),`
`].join("")}function $_(e){var t=""+e;return t.slice(t.lastIndexOf("/")+1)}function iT(e){return RegExp("^(?:"+e.source+")",$_(e))}function Fc(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)Mu(e[n]);return Ft(function(r,s){for(var i,o=new Array(t),l=0;l<t;l+=1){if(i=Bs(e[l]._(r,s),i),!i.status)return i;o[l]=i.value,s=i.index}return Bs(fr(s,o),i)})}function qu(){var e=[].slice.call(arguments);if(e.length===0)throw new Error("seqMap needs at least one argument");var t=e.pop();return Tu(t),Fc.apply(null,e).map(function(n){return t.apply(null,n)})}function Dw(){var e=[].slice.call(arguments),t=e.length;if(t===0)return y_("zero alternates");for(var n=0;n<t;n+=1)Mu(e[n]);return Ft(function(r,s){for(var i,o=0;o<e.length;o+=1)if(i=Bs(e[o]._(r,s),i),i.status)return i;return i})}function oT(e,t){return g_(e,t).or(Nw([]))}function g_(e,t){Mu(e),Mu(t);var n=t.then(e).many();return qu(e,n,function(r,s){return[r].concat(s)})}ze.parse=function(e){if(typeof e!="string"&&!Aa(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t=this.skip(m_)._(e,0);return t.status?{status:!0,value:t.value}:{status:!1,index:p_(e,t.furthest),expected:t.expected}};ze.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=sT(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r};ze.or=function(e){return Dw(this,e)};ze.trim=function(e){return this.wrap(e,e)};ze.wrap=function(e,t){return qu(e,this,t,function(n,r){return r})};ze.thru=function(e){return e(this)};ze.then=function(e){return Mu(e),Fc(this,e).map(function(t){return t[1]})};ze.many=function(){var e=this;return Ft(function(t,n){for(var r=[],s=void 0;;)if(s=Bs(e._(t,n),s),s.status){if(n===s.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=s.index,r.push(s.value)}else return Bs(fr(n,r),s)})};ze.tieWith=function(e){return Uf(e),this.map(function(t){if(KM(t),t.length){Uf(t[0]);for(var n=t[0],r=1;r<t.length;r++)Uf(t[r]),n+=e+t[r];return n}else return""})};ze.tie=function(){return this.tieWith("")};ze.times=function(e,t){var n=this;return arguments.length<2&&(t=e),mh(e),mh(t),Ft(function(r,s){for(var i=[],o=void 0,l=void 0,u=0;u<e;u+=1)if(o=n._(r,s),l=Bs(o,l),o.status)s=o.index,i.push(o.value);else return l;for(;u<t&&(o=n._(r,s),l=Bs(o,l),o.status);u+=1)s=o.index,i.push(o.value);return Bs(fr(s,i),l)})};ze.result=function(e){return this.map(function(){return e})};ze.atMost=function(e){return this.times(0,e)};ze.atLeast=function(e){return qu(this.times(e),this.many(),function(t,n){return t.concat(n)})};ze.map=function(e){Tu(e);var t=this;return Ft(function(n,r){var s=t._(n,r);return s.status?Bs(fr(s.index,e(s.value)),s):s})};ze.contramap=function(e){Tu(e);var t=this;return Ft(function(n,r){var s=t.parse(e(n.slice(r)));return s.status?fr(r+n.length,s.value):s})};ze.promap=function(e,t){return Tu(e),Tu(t),this.contramap(e).map(t)};ze.skip=function(e){return Fc(this,e).map(function(t){return t[0]})};ze.mark=function(){return qu(D0,this,D0,function(e,t,n){return{start:e,value:t,end:n}})};ze.node=function(e){return qu(D0,this,D0,function(t,n,r){return{name:e,value:n,start:t,end:r}})};ze.sepBy=function(e){return oT(this,e)};ze.sepBy1=function(e){return g_(this,e)};ze.lookahead=function(e){return this.skip(_h(e))};ze.notFollowedBy=function(e){return this.skip(lT(e))};ze.desc=function(e){Pw(e)||(e=[e]);var t=this;return Ft(function(n,r){var s=t._(n,r);return s.status||(s.expected=e),s})};ze.fallback=function(e){return this.or(Nw(e))};ze.ap=function(e){return qu(e,this,function(t,n){return t(n)})};ze.chain=function(e){var t=this;return Ft(function(n,r){var s=t._(n,r);if(!s.status)return s;var i=e(s.value);return Bs(i._(n,s.index),s)})};function zc(e){Uf(e);var t="'"+e+"'";return Ft(function(n,r){var s=r+e.length,i=n.slice(r,s);return i===e?fr(s,i):uo(r,t)})}function yi(e,t){qM(e),arguments.length>=2?mh(t):t=0;var n=iT(e),r=""+e;return Ft(function(s,i){var o=n.exec(s.slice(i));if(o){if(0<=t&&t<=o.length){var l=o[0],u=o[t];return fr(i+l.length,u)}var a="valid match group (0 to "+o.length+") in "+r;return uo(i,a)}return uo(i,r)})}function Nw(e){return Ft(function(t,n){return fr(n,e)})}function y_(e){return Ft(function(t,n){return uo(n,e)})}function _h(e){if(h_(e))return Ft(function(t,n){var r=e._(t,n);return r.index=n,r.value="",r});if(typeof e=="string")return _h(zc(e));if(e instanceof RegExp)return _h(yi(e));throw new Error("not a string, regexp, or parser: "+e)}function lT(e){return Mu(e),Ft(function(t,n){var r=e._(t,n),s=t.slice(n,r.index);return r.status?uo(n,'not "'+s+'"'):fr(n,null)})}function v_(e){return Tu(e),Ft(function(t,n){var r=w_(t,n);return n<t.length&&e(r)?fr(n+1,r):uo(n,"a character/byte matching "+e)})}function uT(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return v_(function(r){return e.indexOf(r)>=0}).desc(t)}function aT(e,t){arguments.length<2&&(t=e,e=void 0);var n=Ft(function(r,s){return n._=t()._,n._(r,s)});return e?n.desc(e):n}function cT(){return y_("fantasy-land/empty")}ze.concat=ze.or;ze.empty=cT;ze.of=Nw;ze["fantasy-land/ap"]=ze.ap;ze["fantasy-land/chain"]=ze.chain;ze["fantasy-land/concat"]=ze.concat;ze["fantasy-land/empty"]=ze.empty;ze["fantasy-land/of"]=ze.of;ze["fantasy-land/map"]=ze.map;const D0=Ft(function(e,t){return fr(t,p_(e,t))});Ft(function(e,t){return t>=e.length?uo(t,"any character/byte"):fr(t+1,w_(e,t))});Ft(function(e,t){return fr(e.length,e.slice(t))});const m_=Ft(function(e,t){return t<e.length?uo(t,"EOF"):fr(t,null)}),fT=yi(/[0-9]/).desc("a digit");yi(/[0-9]*/).desc("optional digits");yi(/[a-z]/i).desc("a letter");yi(/[a-z]*/i).desc("optional letters");const dT=yi(/\s*/).desc("optional whitespace");yi(/\s+/).desc("whitespace");const hT=zc("\r"),pT=zc(`
`),wT=zc(`\r
`),$T=Dw(wT,pT,hT).desc("newline");Dw($T,m_);function gT(e,t){const n=t.parse(e);if(n.status)return ut(n.value)}function yT(e,t){return t.or(e)}function vT(e,t){return t.atLeast(e)}function mT(e,t){return t.skip(e)}function __(e){return e.many()}const _T=aT;function CT(e,t){return t.then(e)}const C_=fT;__(C_);function bg(e,t){return t.sepBy(e)}function N0(e,t,n){return mT(t,CT(n,e))}function bs(e,t){return t.map(e)}function Lc(e){return RE((t,n)=>t.or(n),e)}const ST=v_,hs=zc,kT=uT,Ug=dT;function ET(e){return vT(1,e)}function Ch(e,t){return bs(n=>t,hs(e))}const S_=Fc;function k_(e){return e.map(t=>Se("",t))}const xT=Fc,MT=k_(ET(C_)),E_=bs(v0,MT),TT=bs(e=>-e[1],S_(hs("-"),E_)),IT=bs(v0,Lc(X([yi(new RegExp("-?(0|[1-9][0-9]*)?[.][0-9]+([eE][+-]?[0-9]+)?")),yi(new RegExp("-?[1-9][0-9]*[eE][+-]?[0-9]+"))]))),PT=bs(e=>new ct(0,[e]),Lc(X([IT,E_,TT]))),DT=Lc(X([Ch("true",new ct(2,[!0])),Ch("false",new ct(2,[!1]))])),NT=Ch("null",new ct(3,[])),x_=(()=>{const e=bs(n=>{switch(n){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:return n}},kT('"\\/bfnrt')),t=k_(__(yT(bs(n=>n[1],S_(hs("\\"),e)),ST(n=>n!=='"'&&n!=="\\"))));return N0(hs('"'),hs('"'),t)})(),VT=x_.map(e=>new ct(1,[e]));function Ns(e){return N0(Ug,Ug,e)}const OT=Lc(he(Ns,X([NT,DT,PT,VT]))),jg=Ns(hs(","));function RT(){return _T(()=>Lc(X([OT,bs(e=>new ct(4,[X(e)]),N0(Ns(hs("[")),Ns(hs("]")),bg(jg,Sh.Value))),bs(e=>new ct(5,[cs(X(e),{Compare:cn})]),N0(Ns(hs("{")),Ns(hs("}")),bg(jg,bs(e=>[e[0],e[2]],xT(Ns(x_),Ns(hs(":")),Ns(Sh.Value))))))])))}const Sh=new on(RT),FT=Sh.Value,zT=Ns(FT);function LT(e){if(typeof e=="string")return e}function AT(e){if(typeof e=="boolean")return e}function GT(e){if(typeof e=="number")return e}function BT(e){if(typeof e=="object")return ut(e)}function bT(e){if(e==null)return ut(e)}function UT(e){if(Array.isArray(e))return e}function jT(e){return e instanceof Date?"offset"in e:!1}function HT(e){return typeof e=="object"}function Hg(e){return e!=null&&HT(e)&&"signInt"in e&&"v"in e&&"digits"in e.v?"bound"in e.v:!1}function jf(e){return gT(e,zT)}function WT(e){const t=jf(e);return t??et(F("Could not parse the JSON input: %s"))(e)}function Al(e){switch(e.tag){case 2:return e.fields[0]?"true":"false";case 0:return e.fields[0].toString();case 1:return Ne(F('"%s"'))(e.fields[0]);case 4:{const t=Se(",",he(Al,e.fields[0]));return Ne(F("[%s]"))(t)}case 5:{const t=Se(",",he(n=>{const r=Al(n[1]);return Ne(F('"%s":%s'))(n[0])(r)},ni(e.fields[0])));return Ne(F("{%s}"))(t)}default:return"null"}}function kh(e){switch(e.tag){case 2:return e.fields[0];case 0:return e.fields[0];case 1:return e.fields[0];case 4:{const t=[],n=Xe(e.fields[0]);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t.push(kh(r))}}finally{Ue(n)}return t}case 5:{const t={},n=Xe(ni(e.fields[0]));try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t[r[0]]=kh(r[1])}}finally{Ue(n)}return t}default:return yn()}}function Wg(e){return e==null?JSON.stringify(yn()):JSON.stringify(e,(t,n)=>Hg(n)?K$(n).toString():n instanceof Date?yu(n,"o"):typeof n=="string"?n:ZS(n)?Array.isArray(n)?n:Array.from(n):Hg(n)?K$(n).toString():jT(n)?yu(n,"O"):n,ut(0))}function Eh(e){const t=LT(e);if(t!=null){const n=t;return new ct(1,[n])}else{const n=GT(e);if(n!=null){const r=n;return new ct(0,[r])}else{const r=AT(e);if(r!=null){const s=r;return new ct(2,[s])}else{if(bT(e)!=null)return new ct(3,[]);{const s=UT(e);if(s!=null){const i=s;return new ct(4,[X(Vt(Eh,i))])}else{const i=BT(e);if(i!=null){const o=b(i);return new ct(5,[cs(A(y(()=>oe(l=>[l,Eh(o[l])],Object.keys(o)))),{Compare:cn})])}else return new ct(3,[])}}}}}}function d1(e){return Eh(JSON.parse(e))}function M_(e,t){ZT(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function ZT(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function KT(e){return M_(Gk(e*1000n),0)}function qT(e){const[t,n]=Yv(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return M_(t.getTime(),r)}function QT(e){return hd(e,1)}function JT(e){return Number(eE(e)/864000000000n)}function Zg(e){const t=864000000000n*BigInt(e);return QT(qk(t))}function XT(e){return Number(BigInt(e)/10000n)}const T_=!0;function Kg(e){const t=new Uint8Array(4);return new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(0,e,T_),t}function YT(e,t){const n=ArrayBuffer.isView(e)?e:Uint8Array.from(e);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(t,T_)}class eI extends ue{constructor(t,n,r){super(),this.FieldName=t,this.FieldType=n,this.PropertyInfo=r}}class tI extends ue{constructor(t,n,r){super(),this.CaseName=t,this.CaseTypes=n,this.Info=r}}class Re extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Unit","Char","String","UInt16","UInt32","UInt64","Int32","Bool","Float32","Float","Decimal","Short","Long","Byte","SByte","DateTime","DateTimeOffset","DateOnly","TimeOnly","BigInt","TimeSpan","Guid","Uri","Object","Any","Async","Promise","Option","List","Set","Array","Seq","Tuple","Map","Dictionary","ResizeArray","HashSet","Func","Enum","Record","Union"]}}class To{constructor(t,n){const r=new di(yn());this.comparer=n,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const s=Xe(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();h1(r.contents,i[0],i[1])}}finally{Ue(s)}}get[Symbol.toStringTag](){return"Dictionary"}toJSON(){const t=this;return Array.from(t)}"System.Collections.IEnumerable.GetEnumerator"(){return Xe(this)}GetEnumerator(){return Xe(ws(this.hashMap.values()))}[Symbol.iterator](){return bu(Xe(this))}"System.Collections.Generic.ICollection`1.Add2B595"(t){h1(this,t[0],t[1])}"System.Collections.Generic.ICollection`1.Clear"(){qg(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const r=Hf(this,t[0]);let s;switch(r!=null&&ee(b(r)[1],t[1])?(s=0,b(r)):s=1,s){case 0:return!0;default:return!1}}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){wm((s,i)=>{lt(t,n+s,i)},this)}"System.Collections.Generic.ICollection`1.get_Count"(){return Qg(this)|0}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){const n=this,r=Hf(n,t[0]);return r!=null?(ee(b(r)[1],t[1])&&p1(n,t[0]),!0):!1}"System.Collections.Generic.IDictionary`2.Add5BDDA1"(t,n){h1(this,t,n)}"System.Collections.Generic.IDictionary`2.ContainsKey2B595"(t){return Yg(this,t)}"System.Collections.Generic.IDictionary`2.get_Item2B595"(t){return Jg(this,t)}"System.Collections.Generic.IDictionary`2.set_Item5BDDA1"(t,n){Xg(this,t,n)}"System.Collections.Generic.IDictionary`2.get_Keys"(){const t=this;return Hs(y(()=>oe(n=>n[0],t)))}"System.Collections.Generic.IDictionary`2.Remove2B595"(t){return p1(this,t)}"System.Collections.Generic.IDictionary`2.TryGetValue6DC89625"(t,n){const s=Hf(this,t);if(s!=null){const i=b(s);return n.contents=i[1],!0}else return!1}"System.Collections.Generic.IDictionary`2.get_Values"(){const t=this;return Hs(y(()=>oe(n=>n[1],t)))}get size(){return Qg(this)|0}clear(){qg(this)}delete(t){return p1(this,t)}entries(){return oe(n=>[n[0],n[1]],this)}get(t){return Jg(this,t)}has(t){return Yg(this,t)}keys(){return oe(n=>n[0],this)}set(t,n){const r=this;return Xg(r,t,n),r}values(){return oe(n=>n[1],this)}forEach(t,n){const r=this;gd(s=>{t(s[1],s[0],r)},r)}}function Ac(e,t){const n=e.comparer.GetHashCode(t)|0;let r,s=yn();return r=[fw(e.hashMap,n,new di(()=>s,i=>{s=i})),s],r[0]?[!0,n,r[1].findIndex(i=>e.comparer.Equals(t,i[0]))]:[!1,n,-1]}function Hf(e,t){const n=Ac(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return tl(e.hashMap,n[1])[n[2]];default:return}}function qg(e){e.hashMap.clear()}function Qg(e){let t=0,n=Xe(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=t+r.length|0}}finally{Ue(n)}return t|0}function Jg(e,t){const n=Hf(e,t);if(n!=null)return b(n)[1];throw new Error("The item was not found in collection")}function Xg(e,t,n){const r=Ac(e,t);r[0]?r[2]>-1?tl(e.hashMap,r[1])[r[2]]=[t,n]:tl(e.hashMap,r[1]).push([t,n]):e.hashMap.set(r[1],[[t,n]])}function h1(e,t,n){const r=Ac(e,t);if(r[0]){if(r[2]>-1)throw new Error(nm("An item with the same key has already been added. Key: {0}",t));tl(e.hashMap,r[1]).push([t,n])}else e.hashMap.set(r[1],[[t,n]])}function Yg(e,t){const n=Ac(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return!0;default:return!1}}function p1(e,t){const n=Ac(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return tl(e.hashMap,n[1]).splice(n[2],1),!0;default:return!1}}function nI(e){switch(nn(e)){case"System.String":return new Re(2,[]);case"System.Char":return new Re(1,[]);case"System.Int16":return new Re(11,[]);case"System.Int32":return new Re(6,[]);case"Microsoft.FSharp.Core.int64`1":case"System.Int64":return new Re(12,[]);case"System.UInt16":return new Re(3,[]);case"System.UInt32":return new Re(4,[]);case"System.UInt64":return new Re(5,[]);case"System.DateTime":return new Re(15,[]);case"System.DateOnly":return new Re(17,[]);case"System.TimeOnly":return new Re(18,[]);case"System.TimeSpan":return new Re(20,[]);case"System.DateTimeOffset":return new Re(16,[]);case"System.Boolean":return new Re(7,[]);case"System.Single":return new Re(8,[]);case"System.Double":return new Re(9,[]);case"Microsoft.FSharp.Core.decimal`1":case"System.Decimal":return new Re(10,[]);case"System.Numerics.BigInteger":return new Re(19,[]);case"Microsoft.FSharp.Core.Unit":return new Re(0,[]);case"System.Guid":return new Re(21,[]);case"System.Byte":return new Re(13,[]);case"System.SByte":return new Re(14,[]);case"System.Object":return new Re(23,[]);case"System.Uri":return new Re(22,[]);default:return}}function rI(e){if(Nk(e))return Vt(t=>[t,un(t),t[1]],g0(e))}function sI(e){if(nn(e).indexOf("Microsoft.FSharp.Collections.FSharpSet`1")===0)return J(0,or(e))}function iI(e){if(nn(e).indexOf("System.Nullable`1")===0)return J(0,or(e))}function oI(e){if(Dk(e))return Vt(t=>[un(t),t,Vt(n=>n[1],Ok(t))],Jv(e))}function lI(e){if(nn(e).indexOf("Microsoft.FSharp.Collections.FSharpMap`2")===0){const t=or(e);return[J(0,t),J(1,t)]}else return}function uI(e){if(nn(e).indexOf("Microsoft.FSharp.Collections.FSharpList`1")===0)return J(0,or(e))}function xh(e){return Hs(y(()=>{if(Xp(e)){const t=Pk(e);return E(xh(t[0]),y(()=>xh(t[1])))}else return S(e)}))}function aI(e){if(Xp(e))return xh(e)}function cI(e){if(xk(e))return dd(e)}function fI(e){if(nn(e).indexOf("Microsoft.FSharp.Core.FSharpOption`1")===0)return J(0,or(e))}function dI(e){if(Xv(e))return Ik(e)}function hI(e){if(nn(e).indexOf("System.Collections.Generic.IEnumerable`1")===0)return J(0,or(e))}function pI(e){if(nn(e).indexOf("System.Collections.Generic.Dictionary")===0){const t=or(e);return[J(0,t),J(1,t)]}else return}function wI(e){if(nn(e).indexOf("System.Collections.Generic.List")===0)return J(0,or(e))}function $I(e){if(nn(e).indexOf("System.Collections.Generic.HashSet")===0)return J(0,or(e))}function gI(e){if(nn(e).indexOf("Microsoft.FSharp.Control.FSharpAsync`1")===0)return J(0,or(e))}function yI(e){if(nn(e).indexOf("Fable.Core.JS.Promise`1")===0)return J(0,or(e))}function wn(e,t){return e.Value}function vI(e){if(Mk(e))return Tk(e)}function mI(e){let t,n,r,s,i,o,l,u,a,c,f,d,g,w,v,_;const p=nI(e);if(p!=null)return p;{const h=aI(e);if(h!=null){const $=h;return new Re(37,[(t=new on(()=>Vt(St,$)),()=>wn(t))])}else{const $=rI(e);if($!=null){const C=$,k=new on(()=>[Hs(y(()=>dt(T=>S(new eI(T[1],St(T[2]),T[0])),C))),e]);return new Re(39,[()=>wn(k)])}else{const C=oI(e);if(C!=null){const k=C,T=new on(()=>[Hs(y(()=>dt(D=>S(new tI(D[0],Vt(St,D[2]),D[1])),k))),e]);return new Re(40,[()=>wn(T)])}else{const k=vI(e);if(k!=null){const T=k;return new Re(38,[(n=new on(()=>[St(T),e]),()=>wn(n))])}else{const T=uI(e);if(T!=null){const D=T;return new Re(28,[(r=new on(()=>St(D)),()=>wn(r))])}else{const D=wI(e);if(D!=null){const V=D;return new Re(35,[(s=new on(()=>St(V)),()=>wn(s))])}else{const V=$I(e);if(V!=null){const U=V;return new Re(36,[(i=new on(()=>St(U)),()=>wn(i))])}else{const U=cI(e);if(U!=null){const O=U;return new Re(30,[(o=new on(()=>St(O)),()=>wn(o))])}else{const O=dI(e);if(O!=null){const B=O;return new Re(32,[(l=new on(()=>Vt(St,B)),()=>wn(l))])}else{const B=fI(e);if(B!=null){const Z=B;return new Re(27,[(u=new on(()=>St(Z)),()=>wn(u))])}else{const Z=iI(e);if(Z!=null){const j=Z;return new Re(27,[(a=new on(()=>St(j)),()=>wn(a))])}else{const j=sI(e);if(j!=null){const ie=j;return new Re(29,[(c=new on(()=>St(ie)),()=>wn(c))])}else{const ie=lI(e);if(ie!=null){const W=ie[0],te=ie[1];return new Re(33,[(f=new on(()=>[St(W),St(te)]),()=>wn(f))])}else{const W=pI(e);if(W!=null){const te=W[0],R=W[1];return new Re(34,[(d=new on(()=>[St(te),St(R),R]),()=>wn(d))])}else{const te=hI(e);if(te!=null){const R=te;return new Re(31,[(g=new on(()=>St(R)),()=>wn(g))])}else{const R=gI(e);if(R!=null){const I=R;return new Re(25,[(w=new on(()=>St(I)),()=>wn(w))])}else{const I=yI(e);if(I!=null){const Q=I;return new Re(26,[(v=new on(()=>St(Q)),()=>wn(v))])}else return new Re(24,[(_=new on(()=>e),()=>wn(_))])}}}}}}}}}}}}}}}}}}const ey=new To([],{Equals:$0,GetHashCode:kn});function St(e){let t,n=yn();if(t=[fw(ey,e,new di(()=>n,r=>{n=r})),n],t[0])return t[1];{const r=mI(e);return!lE(nn(e))&&!X1(nn(e),"`1[]")&&!X1(nn(e),"`2[]")&&ey.set(e,r),r}}function Ia(e){switch(e.tag){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 15:case 16:case 17:case 18:case 19:case 21:case 27:return!0;default:return!1}}function Vl(e){return e.tag===40?e.fields[0]()[0].every(n=>n.CaseTypes.length===0):!1}function _I(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(r){var s=n[r];return typeof s=="string"?s:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}const CI=BM,SI=CI();function uf(e){return e!==void 0}function kI(){const t=JSON.parse(JSON.stringify(cs(X([[1,1],[2,2]]),{Compare:cn}))).tree;return uf(t)&&uf(t.k)&&uf(t.v)?uf(t.h):!1}kI();class w1 extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MapEmpty","MapOne","MapNode"]}}function Mh(e){switch(e.tag){case 1:return P([e.fields[0],e.fields[1]]);case 2:return A(y(()=>E(Mh(e.fields[2]),y(()=>E(Mh(e.fields[3]),y(()=>S([e.fields[0],e.fields[1]])))))));default:return z()}}function EI(e){if(e.tag!==4)return e}function xI(e){let t;switch(e.tag===1&&e.fields[0]==="MapEmpty"?t=0:t=1,t){case 0:return e;default:return}}function I_(e){switch(e.tag){case 0:return e.fields[0].toString();case 1:return e.fields[0];default:return}}function MI(e){let t,n,r;if(e.tag===4)if(Y(e.fields[0]))t=1;else if(H(e.fields[0]).tag===1)if(H(e.fields[0]).fields[0]==="MapOne")if(Y(L(e.fields[0])))t=1;else{const s=I_(H(L(e.fields[0])));s!=null?Y(L(L(e.fields[0])))?t=1:Y(L(L(L(e.fields[0]))))?(t=0,n=s,r=H(L(L(e.fields[0])))):t=1:t=1}else t=1;else t=1;else t=1;switch(t){case 0:return[n,r];default:return}}function TI(e){let t,n,r,s,i;if(e.tag===4)if(Y(e.fields[0]))t=1;else if(H(e.fields[0]).tag===1)if(H(e.fields[0]).fields[0]==="MapNode")if(Y(L(e.fields[0])))t=1;else{const o=I_(H(L(e.fields[0])));o!=null?Y(L(L(e.fields[0])))||Y(L(L(L(e.fields[0]))))||Y(L(L(L(L(e.fields[0])))))||Y(L(L(L(L(L(e.fields[0]))))))?t=1:H(L(L(L(L(L(e.fields[0])))))).tag===0&&Y(L(L(L(L(L(L(e.fields[0])))))))?(t=0,n=o,r=H(L(L(L(e.fields[0])))),s=H(L(L(L(L(e.fields[0]))))),i=H(L(L(e.fields[0])))):t=1:t=1}else t=1;else t=1;else t=1;switch(t){case 0:return[n,i,r,s];default:return}}function Th(e){if(xI(e)!=null)return new w1(0,[]);{const t=MI(e);if(t!=null){const n=t[0],r=t[1];return new w1(1,[n,r])}else{const n=TI(e);if(n!=null){const r=n[0],s=n[2],i=n[3],o=n[1],l=Th(s),u=Th(i);let a,c,f;switch(l!=null&&u!=null?(a=0,c=l,f=u):a=1,a){case 0:return new w1(2,[r,o,c,f]);default:return}}else return}}}function Ih(e){return A(y(()=>{let t,n,r,s;return E((t=Kt("k",e),n=Kt("v",e),t!=null&&t.tag===1&&n!=null?(r=t.fields[0],s=n,S([r,s])):Oe()),y(()=>{let i,o;return E((i=Kt("left",e),i!=null&&i.tag===5?(o=i.fields[0],Ih(o)):Oe()),y(()=>{const l=Kt("right",e);let u,a;switch(l!=null&&l.tag===5?(u=0,a=l.fields[0]):u=1,u){case 0:return Ih(a);default:return Oe()}}))}))}))}function P_(e){return A(y(()=>{let t;return E((t=Kt("head",e),t==null?Oe():S(t)),y(()=>{const n=Kt("tail",e);let r,s;switch(n!=null&&n.tag===5?(r=0,s=n.fields[0]):r=1,r){case 0:return P_(s);default:return Oe()}}))}))}function ty(e){switch(e.tag){case 30:return!0;case 28:return!0;case 31:return!0;case 32:return!0;case 29:return!0;case 35:return!0;case 36:return!0;default:return!1}}function II(e){return e.tag===39}function PI(e){return e.tag===40?hm(t=>t.CaseTypes.length===1?II(J(0,t.CaseTypes)):!1,e.fields[0]()[0]):!1}function DI(e){return e.tag===27}function Ga(e){return e.indexOf('"')===0?X1(e,'"'):!1}function Or(e){return'"'+e+'"'}function NI(e){return dE(e,1,e.length-2)}function wt(e,t){let n,r,s,i;e:for(;;){const o=e,l=t;let u,a,c,f,d,g,w,v,_,p,h,$,C,k,T,D,V,U,O,B,Z,j,ie,W,te,R,I,Q,re,_e,ye,Ye,at,Mt,mt,hn,_n,dr,pn,hr,Wn,_s,qs,Qs,Cs,Jt,pr,Zn,vl,ta,na,_o,Co,So,ra,sa,Nr,ia,ml,ko,_l,oa,la,ua,aa,Cl,Ii,ca,rn,Sl,Eo,fa,kl,Ss,ns,Pi,El,xl,Vr,Di,Js,Kn,sn;switch(o.tag){case 1:{switch(l.tag){case 9:{o.fields[0].toLocaleLowerCase()==="nan"?(u=1,o.fields[0]):(u=2,c=o.fields[0]);break}case 8:{o.fields[0].toLocaleLowerCase()==="nan"?(u=4,o.fields[0]):(u=5,d=o.fields[0]);break}case 6:{u=8,v=o.fields[0];break}case 1:{u=9,_=o.fields[0];break}case 2:{u=11,h=o.fields[0];break}case 22:{u=13,C=o.fields[0];break}case 10:{u=14,k=o.fields[0];break}case 11:{u=16,D=o.fields[0];break}case 3:{u=19,O=o.fields[0];break}case 4:{u=21,Z=o.fields[0];break}case 5:{u=23,ie=o.fields[0];break}case 38:{u=25,te=l.fields[0],R=o.fields[0];break}case 30:{u=27,re=l.fields[0],_e=o.fields[0];break}case 23:{u=30,ye=o;break}case 12:{u=31,Ye=o.fields[0];break}case 13:{u=32,at=o.fields[0];break}case 14:{u=35,hn=o.fields[0];break}case 19:{u=36,_n=o.fields[0];break}case 15:{u=38,pn=o.fields[0];break}case 16:{u=39,hr=o.fields[0];break}case 17:{u=42,qs=o.fields[0];break}case 18:{u=43,Qs=o.fields[0];break}case 27:{ee(o,new ct(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 21:{u=47,vl=o.fields[0];break}case 40:{Ga(o.fields[0])?(u=50,_o=o.fields[0],Co=l.fields[0]):(u=51,So=o.fields[0],ra=l.fields[0]);break}case 39:{u=52,l.fields[0],sa=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 2:{switch(l.tag){case 7:{u=7,w=o.fields[0];break}case 23:{u=30,ye=o;break}case 27:{ee(o,new ct(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 3:{switch(l.tag){case 2:{u=28;break}case 0:{u=29;break}case 23:{u=30,ye=o;break}case 27:{u=45;break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 5:{switch(l.tag){case 23:{u=30,ye=o;break}case 40:{u=44,Cs=l.fields[0],Jt=o.fields[0];break}case 27:{ee(o,new ct(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 12:{u=49,na=o.fields[0];break}case 28:{u=56,la=l.fields[0],ua=o.fields[0];break}case 39:{u=60,Eo=o.fields[0],fa=l.fields[0];break}case 34:{u=63,El=o.fields[0],xl=l.fields[0];break}case 33:{u=65,Js=l.fields[0],Kn=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 4:{switch(l.tag){case 23:{u=30,ye=o;break}case 27:{ee(o,new ct(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 40:{u=53,Nr=o.fields[0],ia=l.fields[0];break}case 30:{u=54,ml=l.fields[0],ko=o.fields[0];break}case 28:{u=55,_l=l.fields[0],oa=o.fields[0];break}case 29:{u=57,aa=l.fields[0],Cl=o.fields[0];break}case 31:{u=58,Ii=l.fields[0],ca=o.fields[0];break}case 32:{u=59,rn=o.fields[0],Sl=l.fields[0];break}case 33:{u=61,kl=l.fields[0],Ss=o.fields[0];break}case 34:{u=62,ns=l.fields[0],Pi=o.fields[0];break}case 36:{u=64,Vr=l.fields[0],Di=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}default:switch(l.tag){case 9:{u=0,a=o.fields[0];break}case 8:{u=3,f=o.fields[0];break}case 6:{u=6,g=o.fields[0];break}case 1:{u=10,p=o.fields[0];break}case 2:{u=12,$=o.fields[0];break}case 10:{u=15,T=o.fields[0];break}case 11:{u=17,V=o.fields[0];break}case 3:{u=18,U=o.fields[0];break}case 4:{u=20,B=o.fields[0];break}case 5:{u=22,j=o.fields[0];break}case 20:{u=24,W=o.fields[0];break}case 38:{u=26,I=l.fields[0],Q=o.fields[0];break}case 23:{u=30,ye=o;break}case 13:{u=33,Mt=o.fields[0];break}case 14:{u=34,mt=o.fields[0];break}case 19:{u=37,dr=o.fields[0];break}case 16:{u=40,Wn=o.fields[0];break}case 17:{u=41,_s=o.fields[0];break}case 27:{ee(o,new ct(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 12:{u=48,ta=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}}switch(u){case 0:return a;case 1:return NaN;case 2:return v0(c);case 3:return f;case 4:return NaN;case 5:return v0(d);case 6:return Math.floor(g);case 7:return w;case 8:return Xn(v,511,!1,32);case 9:return _;case 10:return String.fromCharCode(p);case 11:return h;case 12:return $.toString();case 13:return zn.create(C);case 14:return new On(k);case 15:return new On(T);case 16:return Xn(D,511,!1,16);case 17:return(V+32768&65535)-32768;case 18:return U&65535;case 19:return Xn(O,511,!0,16);case 20:return B>>>0;case 21:return Xn(Z,511,!0,32);case 22:return Z$(Xd(j));case 23:return Z$(bf(ie,511,!0));case 24:return Math.floor(W);case 25:{const de=te(),G=de[0],q=de[1];switch(G.tag){case 6:{let ae,$e=0;if(ae=[z3(R,511,!1,32,new di(()=>$e,xe=>{$e=xe|0})),$e],ae[0])return ae[1];{const xe=un(q);return et(F("The value '%s' is not valid for enum of type '%s'"))(R)(xe)}}case 12:{let ae,$e=0n;if(ae=[UM(R,511,!1,64,new di(()=>$e,xe=>{$e=xe})),$e],ae[0])return ae[1];{const xe=un(q);return et(F("The value '%s' is not valid for enum of type '%s'"))(R)(xe)}}default:{const ae=un(q);return et(F("The value '%s' cannot be converted to enum of type '%s'"))(R)(ae)}}}case 26:return I(),Q;case 27:{const de=re();return de.tag===13?typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||SI?aE(_e):Array.prototype.slice.call(Buffer.from(_e,"base64")):et(F("Cannot convert arbitrary string '%s' to %A"))(_e)(de)}case 28:return yn();case 29:return;case 30:return kh(ye);case 31:return Fl(bf(Ye,511,!1));case 32:return Xn(at,511,!0,8);case 33:return Mt&255;case 34:return(mt+128&255)-128;case 35:return Xn(hn,511,!1,8);case 36:return bk(_n);case 37:return Xd(Math.floor(dr));case 38:return tE(pn);case 39:return qT(hr);case 40:return KT(Fl(Xd(Math.floor(Wn))));case 41:return Zg(~~_s);case 42:return Zg(Xn(qs,511,!1,32));case 43:return XT(Fl(bf(Qs,511,!1)));case 44:{const de=Cs(),G=de[1],q=de[0],ae=ni(Jt);let $e,xe,pt,st,it;if(Y(ae))$e=2;else if(H(ae)[1].tag===4)Y(L(ae))?($e=0,xe=H(ae)[0],pt=H(ae)[1].fields[0]):$e=2;else{const Ce=EI(H(ae)[1]);Ce!=null&&Y(L(ae))?($e=1,st=H(ae)[0],it=Ce):$e=2}switch($e){case 0:{const Ce=Ml(me=>me.CaseName===xe,q);if(Ce!=null)if(n=Ce,n.CaseTypes.length===1&&ty(J(0,n.CaseTypes))){const me=Ce;return ks(me.Info,[wt(new ct(4,[pt]),J(0,me.CaseTypes))])}else if(r=Ce,r.CaseTypes.length===1&&DI(J(0,r.CaseTypes))){const me=Ce;return ks(me.Info,[wt(new ct(4,[pt]),J(0,me.CaseTypes))])}else{const me=Ce;if(me.CaseTypes.length===1&&!ty(J(0,me.CaseTypes))&&me.CaseTypes.length!==Zr(pt)){const Be=me.CaseTypes.length|0,_t=Zr(pt)|0;et(F("Expected case '%s' to have %d argument types but the JSON data only contained %d values"))(me.CaseName)(Be)(_t)}return ks(me.Info,Vt(Be=>wt(Be[1],Be[0]),e1(me.CaseTypes,br(pt))))}else{const me=Se(", ",Vt(_t=>Ne(F(" '%s' "))(_t.CaseName),q)),Be=un(G);return et(F("Case %s was not valid for type '%s', expected one of the cases [%s]"))(xe)(Be)(me)}}case 1:{const Ce=Ml(zt=>zt.CaseName===st,q);let me,Be,_t;switch(Ce!=null?(s=Ce.CaseTypes,!Rf(ee,s,yn())&&s.length===1?(me=0,Be=Ce.Info,Ce.CaseName,_t=J(0,Ce.CaseTypes)):me=1):me=1,me){case 0:return ks(Be,[(zt=>qn=>wt(zt,qn))(it)(_t)]);default:{const zt=Se(", ",Vt(wr=>Ne(F(" '%s' "))(wr.CaseName),q)),qn=un(G);return et(F("Case %s was not valid for type '%s', expected one of the cases [%s]"))(st)(qn)(zt)}}}default:if(Ko("tag",Jt)&&Ko("fields",Jt)&&u3(Jt)===2){const Ce=Kt("tag",Jt),me=Kt("fields",Jt);let Be,_t,zt;switch(Ce!=null&&Ce.tag===0&&me!=null&&me.tag===4?(Be=0,_t=Ce.fields[0],zt=me.fields[0]):Be=1,Be){case 0:{const qn=J(~~_t,q);return ks(qn.Info,Y1((wr,Ni)=>wt(Ni,J(wr,qn.CaseTypes)),br(zt)))}default:{const qn=Al(new ct(5,[Jt])),wr=nn(G);return et(F("Could not deserialize JSON(%s) into type %s"))(qn)(wr)}}}else if(PI(l)){const Ce=C0(me=>Ko(me,Jt),X(["__typename","$typename","$type"]));if(Ce!=null){const me=$o(Ce,Jt);if(me.tag===1){const Be=me.fields[0],_t=ex(zt=>zt.CaseName.toUpperCase()===Be.toUpperCase(),q);if(_t!=null){const zt=_t;return ks(zt.Info,[wt(new ct(5,[Jt]),J(0,zt.CaseTypes))])}else{const zt=un(G);return et(F("Union of records of type '%s' does not have a matching case '%s'"))(zt)(Be)}}else{const Be=un(G);return et(F("Union of records of type '%s' cannot be deserialized with the value of the discriminator key is not a string to match against a specific union case"))(Be)}}else{const me=un(G);return et(F("Could not serialize the JSON object into the union of records of type %s because the JSON did not contain a known discriminator. Expected '__typename', '$typeName' or '$type'"))(me)}}else{const Ce=JSON.stringify(ae),me=JSON.stringify(q);return et(F(`Expected JSON:
%s
to match the type
%s`))(Ce)(me)}}}case 45:return;case 46:return ut(wt(pr,Zn()));case 47:return DM(vl);case 48:return(de=>Fl(Lk(de)))(~~ta);case 49:{const de=xe=>Kt(xe,na),G=pi(xe=>xe,X([de("low"),de("high"),de("unsigned")]));let q,ae,$e;switch(Y(G)?q=1:H(G).tag===0?Y(L(G))?q=1:H(L(G)).tag===0?Y(L(L(G)))?q=1:H(L(L(G))).tag===2&&Y(L(L(L(G))))?(q=0,ae=H(L(G)).fields[0],$e=H(G).fields[0]):q=1:q=1:q=1,q){case 0:return YT(vE([Kg(~~$e),Kg(~~ae)],Uint8Array),0);default:return et(F("Unable to construct int64 from object literal { low: int, high: int, unsigned: bool }"))}}case 50:{const de=Co(),G=de[0],q=Ml(ae=>ae.CaseName===NI(_o),G);if(q==null){const ae=Se(", ",Vt(xe=>Ne(F(" '%s' "))(xe.CaseName),G)),$e=un(de[1]);return et(F("Case %s was not valid for type '%s', expected one of the cases [%s]"))(_o)($e)(ae)}else return ks(q.Info,[])}case 51:{const de=ra(),G=de[0],q=Ml(ae=>ae.CaseName===So,G);if(q==null){const ae=Se(", ",Vt(xe=>Ne(F(" '%s' "))(xe.CaseName),G)),$e=un(de[1]);return et(F("Case %s was not valid for type '%s', expected one of the cases [%s]"))(So)($e)(ae)}else return ks(q.Info,[])}case 52:{e=WT(sa),t=l;continue e}case 53:{const de=ia(),G=de[0];let q,ae,$e,xe,pt;switch(Y(Nr)?(q=2,pt=Nr):H(Nr).tag===1?Y(L(Nr))?(q=0,ae=H(Nr).fields[0]):(q=1,$e=H(Nr).fields[0],xe=L(Nr)):(q=2,pt=Nr),q){case 0:{const st=Ml(it=>it.CaseName===ae,G);if(st==null){const it=Se(", ",Vt(me=>Ne(F(" '%s' "))(me.CaseName),G)),Ce=un(de[1]);return et(F("Case '%s' was not valid for type '%s', expected one of the cases [%s]"))(ae)(Ce)(it)}else return st.CaseName,st.CaseTypes,ks(st.Info,[])}case 1:{const st=Ml(it=>it.CaseName===$e,G);if(st!=null){const it=st.CaseTypes,Ce=st.CaseName,me=st.Info;return it.length!==Zr(xe)&&et(F("The number of union case parameters for '%s' is different"))(Ce),ks(me,Vt(Be=>wt(Be[1],Be[0]),e1(it,br(xe))))}else{const it=Se(", ",Vt(Ce=>Ce.CaseName,G));return et(F("Case %s was not valid, expected one of [%s]"))($e)(it)}}default:{const st=JSON.stringify(pt),it=JSON.stringify(G);return et(F(`Expected JSON:
%s
to match the type
%s`))(st)(it)}}}case 54:{const de=ml();return br(he(G=>wt(G,de),ko))}case 55:{const de=_l();return he(G=>wt(G,de),oa)}case 56:{const de=la();return he(G=>wt(G,de),P_(ua))}case 57:{const de=aa();return wi(he(G=>wt(G,de),Cl),{Compare:Te})}case 58:{const de=Ii();return he(G=>wt(G,de),ca)}case 59:return Vt(de=>wt(de[1],de[0]),e1(Sl(),br(rn)));case 60:{const de=fa(),G=de[1],q=de[0];return Fk(G,(i=ni(Eo),Vt(ae=>{let $e,xe,pt;const st=ae.FieldType,it=ae.FieldName,Ce=C0(me=>it===me[0],i);if(Ce==null){if(st.tag===27)return;{let me;const Be=Se(", ",($e=ni(Eo),he((xe=(pt=Ne(F("'%s'")),pt),wr=>xe(wr[0])),$e)));me=Ne(F("[ %s ]"))(Be);let _t;const zt=Se(", ",Vt(wr=>{const Ni=wr.FieldName;return wr.FieldType.tag===27?Ne(F("optional('%s')"))(Ni):Ne(F("required('%s')"))(Ni)},q));_t=Ne(F("[ %s ]"))(zt);const qn=un(G);return et(F("Could not find the required key '%s' in the JSON object literal with keys %s to match with record type '%s' that has fields %s"))(it)(me)(qn)(_t)}}else return Ce[0],wt(Ce[1],st)},q)))}case 61:{const de=kl(),G=de[0],q=A(y(()=>dt(ae=>{let $e;return S(wt(ae,new Re(32,[($e=[G,de[1]],()=>$e)])))},Ss)));switch(G.tag){case 6:case 2:case 7:return cs(q,{Compare:cn});default:return cs(q,{Compare:Te})}}case 62:{const de=ns(),G=de[0],q=A(y(()=>dt(xe=>S(wt(xe,new Re(32,[()=>[G,de[1]]]))),Pi))),ae=G.tag===40?new To([],{Equals:ee,GetHashCode:Ki}):G.tag===39?new To([],{Equals:ee,GetHashCode:kn}):new To([],{Equals:ee,GetHashCode:kn}),$e=Xe(q);try{for(;$e["System.Collections.IEnumerator.MoveNext"]();){const xe=$e["System.Collections.Generic.IEnumerator`1.get_Current"]();ig(ae,xe[0],xe[1])}}finally{Ue($e)}return ae}case 63:{const de=xl(),G=de[0],q=he(xe=>[wt(new ct(1,[xe[0]]),G),wt(xe[1],de[1])],ni(El)),ae=G.tag===40?new To([],{Equals:ee,GetHashCode:Ki}):G.tag===39?new To([],{Equals:ee,GetHashCode:kn}):new To([],{Equals:ee,GetHashCode:kn}),$e=Xe(q);try{for(;$e["System.Collections.IEnumerator.MoveNext"]();){const xe=$e["System.Collections.Generic.IEnumerator`1.get_Current"]();ig(ae,xe[0],xe[1])}}finally{Ue($e)}return ae}case 64:{const de=Vr(),G=de.tag===40?new t1([],{Equals:ee,GetHashCode:Ki}):de.tag===39?new t1([],{Equals:ee,GetHashCode:kn}):new t1([],{Equals:ee,GetHashCode:kn}),q=Xe(Di);try{for(;q["System.Collections.IEnumerator.MoveNext"]();)cx(wt(q["System.Collections.Generic.IEnumerator`1.get_Current"](),de),G)}finally{Ue(q)}return G}case 65:{const de=Js(),G=de[1],q=de[0],ae=Kt("comparer",Kn),$e=Kt("tree",Kn);let xe,pt,st;if(ae!=null)if(ae.tag===5)if($e!=null)switch($e.tag){case 4:{$e.fields[0],vg(ae.fields[0])?(xe=0,ae.fields[0],pt=$e.fields[0]):xe=2;break}case 5:{$e.fields[0],vg(ae.fields[0])?(xe=1,ae.fields[0],st=$e.fields[0]):xe=2;break}default:xe=2}else xe=2;else xe=2;else xe=2;switch(xe){case 0:{const it=Th(new ct(4,[pt]));if(it==null){const Ce=Al(new ct(4,[pt]));return et(F(`Could not generate map from JSON
 %s`))(Ce)}else{const Ce=he(me=>{const Be=me[0];return[Ga(Be)?wt(d1(Be),q):wt(new ct(1,[Be]),q),wt(me[1],G)]},Mh(it));switch(q.tag){case 6:case 2:case 7:return cs(Ce,{Compare:cn});default:return cs(Ce,{Compare:Te})}}}case 1:{e=new ct(5,[cs(Ih(st),{Compare:cn})]),t=l;continue e}default:{const it=he(Ce=>{const me=Ce[0];return[Ga(me)?wt(d1(me),q):Ia(q)||Vl(q)?wt(new ct(1,[me]),q):wt(d1(me),q),wt(Ce[1],G)]},ni(Kn));switch(q.tag){case 6:case 2:case 7:return cs(it,{Compare:cn});default:return cs(it,{Compare:Te})}}}}case 66:{const de=sn(),G=Al(o),q=nn(de);return et(F("Cannot convert %s to %s"))(G)(q)}default:{const de=Al(o),G=JSON.stringify(l);return et(F("Cannot convert %s to %s"))(de)(G)}}break}}function $1(e,t){return wt(e,t)}const af=_I;function ln(e,t){let n;e:for(;;){const r=e,s=t;switch(s.tag){case 2:{const i=r;return i==null?"null":af(i)}case 0:return"null";case 9:case 8:return Number.isNaN(r)?af("NaN"):r.toString();case 1:return af(r);case 13:case 14:case 3:case 4:case 11:case 38:case 20:case 6:return io(r);case 5:case 12:return Or(H$(r));case 19:return Or(Bk(r));case 10:return Or(Ck(r));case 7:return r?"true":"false";case 21:return Or((n=r,n));case 22:return Or(Ae(r));case 15:return Or(yu(r,"O"));case 16:return Or(yu(r,"O"));case 17:return io(JT(r));case 18:return Or(H$(x3(r)));case 39:return"{"+Se(", ",Vt(i=>{const o=ln(Rk(r,i.PropertyInfo),i.FieldType);return Ne(F('"%s": %s'))(i.FieldName)(o)},s.fields[0]()[0]))+"}";case 35:{const i=s.fields[0]();return"["+Se(", ",oe(o=>ln(o,i),r))+"]"}case 36:{const i=s.fields[0]();return"["+Se(", ",oe(o=>ln(o,i),r))+"]"}case 29:{const i=s.fields[0]();return"["+Se(", ",oe(o=>ln(o,i),r))+"]"}case 30:{const i=s.fields[0]();return"["+Se(", ",Vt(o=>ln(o,i),r))+"]"}case 28:{const i=s.fields[0]();return"["+Se(", ",he(o=>ln(o,i),r))+"]"}case 31:{const i=s.fields[0]();return"["+Se(", ",Vt(o=>ln(o,i),Hs(r)))+"]"}case 27:{const i=r;if(i!=null){e=b(i),t=s.fields[0]();continue e}else return"null"}case 40:{const i=s.fields[0](),o=Vk(r,i[1]),l=o[0],u=o[1],a=CE(c=>c.CaseName===un(l),i[0]).CaseTypes;if(Vl(s)||a.length===0)return Or(un(l));if(a.length===1)return"{"+Or(un(l))+": "+ln(J(0,u),J(0,a))+"}";{const c=Se(", ",Y1((f,d)=>ln(J(f,u),d),a));return"{"+Or(un(l))+": ["+c+"] }"}}case 33:{const i=s.fields[0](),o=i[0],l=Se(", ",Vt(u=>{const a=ln(u[0],o),c=ln(u[1],i[1]);return Ia(o)||Vl(o)?Ga(a)?a+": "+c:af(a)+": "+c:"["+a+", "+c+"]"},l3(r)));return Ia(o)||Vl(o)?"{"+l+"}":"["+l+"]"}case 34:{const i=s.fields[0](),o=i[0],l=Se(", ",oe(u=>{const a=ln(u[0],o),c=ln(u[1],i[1]);return Ia(o)||Vl(o)?Ga(a)?a+": "+c:Or(a)+": "+c:"["+a+", "+c+"]"},r));return Ia(o)||Vl(o)?"{"+l+"}":"["+l+"]"}case 32:{const i=s.fields[0]();return i.length===1?"["+ln(r,J(0,i))+"]":"["+Se(", ",Y1((o,l)=>ln(l,J(o,i)),r))+"]"}case 23:return Wg(r);case 24:return Wg(r);default:return"null"}break}}function VI(e){return new be(0,[e])}function OI(e){return new be(1,[e])}class be extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function RI(e,t){return t.tag===0?VI(e(t.fields[0])):OI(t.fields[0])}const FI=e=>{N.useEffect(()=>{const t=e();return()=>{t.Dispose()}})},zI=FI;function LI(e){return{Dispose(){e()}}}function AI(e){return we.useState(e)}function GI(e){zI(t=>(e(),LI(()=>{})))}function BI(e){return we.useRef(e)}function ny(){return BI(void 0)}class Sd extends ue{constructor(t,n){super(),this.nodeId=t,this.data=n}}class V0 extends ue{constructor(t,n,r,s){super(),this.edgeId=t,this.pre=n,this.post=r,this.data=s}}function ry(e,t,n){return ar("Graph.Edge`3",[e,t,n],V0,()=>[["edgeId",t],["pre",e],["post",e],["data",n]])}class Yr extends ue{constructor(t,n,r){super(),this.pre=t,this.post=n,this.node=r}}function bI(e,t,n,r){return ar("Graph.nd`4",[e,t,n,r],Yr,()=>[["pre",Zo("Microsoft.FSharp.Collections.FSharpMap`2",[t,ry(e,t,r)])],["post",Zo("Microsoft.FSharp.Collections.FSharpMap`2",[t,ry(e,t,r)])],["node",n]])}class Vw extends ue{constructor(t){super(),this.nodes=t}}function Wf(e,t,n,r){return ar("Graph.Graph`4",[e,t,n,r],Vw,()=>[["nodes",Zo("Microsoft.FSharp.Collections.FSharpMap`2",[e,bI(e,t,n,r)])]])}function Ks(e){return new Vw(e)}function UI(){return new Vw(At({Compare:Te}))}function jI(e){return new Yr(At({Compare:Te}),At({Compare:Te}),e)}function D_(e,t){return Ks(Dt(e.nodeId,jI(e.data),t.nodes))}function Ph(e,t,n){return Ks(xr(e,r=>le(s=>new Yr(s.pre,s.post,t(s.node)),r),n.nodes))}function _r(e,t){return Ks(Ws((n,r)=>new Yr(r.pre,r.post,e(n,r.node)),t.nodes))}function sy(e,t){return Ks(Gm(oe(n=>{const r=n[1];return[e(n[0]),new Yr(Ws((s,i)=>{const o=e(i.post);return new V0(i.edgeId,e(i.pre),o,i.data)},r.pre),Ws((s,i)=>{const o=e(i.post);return new V0(i.edgeId,e(i.pre),o,i.data)},r.post),r.node)]},$i(t.nodes)),{Compare:Te}))}function HI(e,t){let n=po({Compare:Te});return Ks(Ws((r,s)=>new Yr(nu((i,o)=>qr(o.post,n),s.pre),nu((i,o)=>qr(o.pre,n),s.post),s.node),nu((r,s)=>{const i=e(r,s);return i||(n=Wu(r,n)),i},t.nodes)))}function Fs(e){return oe(t=>new Sd(t[0],t[1].node),$i(e.nodes))}function Bo(e,t){return le(n=>new Sd(t,n.node),Kt(t,e.nodes))}function N_(e,t){const n=$o(e,t.nodes);return Ks(ch((r,s,i)=>xr(i.pre,o=>le(l=>new Yr(kr(i.edgeId,l.pre),l.post,l.node),o),r),ch((r,s,i)=>xr(i.post,o=>le(l=>new Yr(l.pre,kr(i.edgeId,l.post),l.node),o),r),kr(e,t.nodes),n.pre),n.post))}function WI(e,t){return As(N_,e,t)}function cf(e){return e.data}function V_(e,t){return Ks(xr(e.post,n=>le(r=>new Yr(r.pre,Dt(e.edgeId,e,r.post),r.node),n),xr(e.pre,n=>le(r=>new Yr(Dt(e.edgeId,e,r.pre),r.post,r.node),n),t.nodes)))}function iy(e){return ws(oe(t=>oe(n=>n[1],$i(t[1].post)),$i(e.nodes)))}function oy(e,t){return As(V_,e,t)}function ZI(e,t){return Ks(Ws((n,r)=>new Yr(kr(e,r.pre),kr(e,r.post),r.node),t.nodes))}function Pa(e,t,n,r){return new V0(t,n,r,e)}function ly(e,t){return Ks(Ws((n,r)=>new Yr(nu((s,i)=>qr(i.post,e),r.pre),nu((s,i)=>qr(i.pre,e),r.post),r.node),nu((n,r)=>qr(n,e),t.nodes)))}class KI extends ue{constructor(t,n,r){super(),this.graph=t,this.graph1=n,this.graph2=r}}function qI(e,t,n,r){const s=sy(e,n),i=sy(t,r);return new KI(Ks(ch((o,l,u)=>Dt(l,u,o),s.nodes,i.nodes)),s,i)}function uy(e,t,n,r,s){let i,o;const l=wl((i=r,o=n,new M(i.x-o.x,i.y-o.y))),u=new M(l.y,-l.x);let a,c;const f=r;let d;const g=u,w=e;d=new M(g.x*w,g.y*w),c=new M(f.x+d.x,f.y+d.y);let v;const _=l,p=t;v=new M(_.x*p,_.y*p),a=new M(c.x-v.x,c.y-v.y);let h,$;const C=r;let k;const T=u,D=e;k=new M(T.x*D,T.y*D),$=new M(C.x-k.x,C.y-k.y);let V;const U=l,O=t;return V=new M(U.x*O,U.y*O),h=new M($.x-V.x,$.y-V.y),N.createElement("path",Qe(A(y(()=>E(S(["d",sl(he(B=>[B[0],he(yd,B[1])],X([["M",P(n)],["L",P(r)],["L",P(a)],["L",P(h)],["L",P(r)]])))]),y(()=>s))))))}class jt extends ue{constructor(t,n,r,s){super(),this.color=t,this.pos=n,this.text=r,this.isSelected=s}}function Zf(){return ar("Graph.NodeData",[],jt,()=>[["color",nc],["pos",kt(tt)],["text",nc],["isSelected",ai]])}function ff(e){return new jt("white",e,"",!1)}function Ow(e){let t;return 1+ox((t=oe(n=>n.nodeId,Fs(e)),E(y(()=>S(-1)),t)),{Compare:cn})}function g1(e){return window.localStorage.getItem("ifyl."+e)}function df(e,t){window.localStorage.setItem("ifyl."+e,t)}let Ur=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Node","Edge","Background","NoTarget"]}};function O_(){return Tr("Graph.TargetType",[],Ur,()=>[[["Item",qe]],[["Item",Pt(qe,qe)]],[],[]])}let Iu=class extends ue{constructor(t,n){super(),this.targetType=t,this.position=n}};function kd(){return ar("Graph.Target",[],Iu,()=>[["targetType",O_()],["position",kt(tt)]])}class Gl extends ue{constructor(t,n){super(),this.dragTo=t,this.timeStamp=n}}function Dh(){return ar("Graph.DragData",[],Gl,()=>[["dragTo",kd()],["timeStamp",tt]])}class Rw extends ue{constructor(t,n,r,s){super(),this.button=t|0,this.ctrl=n,this.alt=r,this.shift=s}}function Gc(){return ar("Graph.ButtonState",[],Rw,()=>[["button",qe],["ctrl",ai],["alt",ai],["shift",ai]])}class O0 extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddEdgeFrom","AddEdgeTo"]}}function Nh(){return Tr("Graph.AddEdgesType",[],O0,()=>[[],[]])}class ou extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragNode","MoveSelected","MoveViewBox","SelectRect","AddEdges"]}}function Fw(){return Tr("Graph.DragModeType",[],ou,()=>[[["Item",qe]],[],[],[],[["Item",Pt(Nh(),Br(kt(tt)),Br(qe))]]])}class Vh extends ue{constructor(t,n,r,s){super(),this.target=t,this.dragData=n,this.modeType=r,this.button=s}}function Kf(){return ar("Graph.DragState",[],Vh,()=>[["target",kd()],["dragData",Dh()],["modeType",Fw()],["button",Br(Gc())]])}class R0 extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Click","DoubleClick","Flick","Hover"]}}function QI(){return Tr("Graph.PointerEventType",[],R0,()=>[[],[],[],[]])}class Ba extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseDown","MouseUp","Click","MouseMove"]}}function JI(){return Tr("Graph.MouseEventType",[],Ba,()=>[[],[],[],[]])}class Ed extends ue{constructor(t,n,r,s,i){super(),this.target=t,this.event=n,this.rawEvent=r,this.button=s,this.timeStamp=i}}function XI(){return ar("Graph.MouseEventData",[],Ed,()=>[["target",kd()],["event",JI()],["rawEvent",Zo("Browser.Types.Event",void 0)],["button",Gc()],["timeStamp",tt]])}class Bl extends ue{constructor(t,n,r){super(),this.viewPosition=t,this.viewSize=n,this.viewScale=r}}function YI(){return ar("Graph.ViewBoxData",[],Bl,()=>[["viewPosition",kt(tt)],["viewSize",kt(tt)],["viewScale",tt]])}class ji extends ue{constructor(t,n){super(),this.graph=t,this.viewBoxData=n}}function ay(){return ar("Graph.EditorData",[],ji,()=>[["graph",Wf(qe,Pt(qe,qe),Zf(),Of)],["viewBoxData",YI()]])}function R_(){return new M(document.documentElement.clientWidth-30,document.documentElement.clientHeight-60)}class e4 extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Color","Positon"]}}function t4(){return Tr("Graph.NodeDataMsg",[],e4,()=>[[["Item",nc]],[["Item",kt(tt)]]])}class Yt extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddNode","AddEdge","MoveNode","MoveSelected","DeleteSelected","SelectAll","DiselectAll","ToggleSelectAll","SelectRect","RemoveNode","RemoveEdge","ChangeNode","ToggleSelected","SelectNode","DeselectAll","AddEdges","AddEdgesAndANode"]}}function n4(){return Tr("Graph.GraphMsg",[],Yt,()=>[[["Item",Pt(ai,Br(kt(tt)))]],[["Item",Pt(qe,qe)]],[["Item",Pt(qe,kt(tt))]],[["Item",kt(tt)]],[],[],[],[],[["Item",Pt(ai,kt(tt),kt(tt))]],[["Item",qe]],[["Item",Pt(qe,qe)]],[["Item1",qe],["Item2",t4()]],[["Item",qe]],[["Item",qe]],[],[["Item",Pt(Nh(),Br(qe),Br(kt(tt)),qe)]],[["Item",Pt(Nh(),Br(qe),Br(kt(tt)),kt(tt))]]])}class Bc extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MoveViewBox","MoveTo","Zoom","SetScale","SetSize"]}}function r4(){return Tr("Graph.ViewBoxMsg",[],Bc,()=>[[["Item",kt(tt)]],[["Item",kt(tt)]],[["Item",Pt(kt(tt),tt)]],[],[["Item",kt(tt)]]])}class os extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["GraphMsg","ViewBoxMsg"]}}function s4(){return Tr("Graph.EditorMsg",[],os,()=>[[["Item",n4()]],[["Item",r4()]]])}class Vs extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragStart","Dragging","DragEnd","DragCancel"]}}function i4(){return Tr("Graph.DragMsg",[],Vs,()=>[[["Item",Pt(Fw(),Dh(),Br(Gc()))]],[["Item",Pt(Kf(),Dh())]],[["Item",Pt(Kf(),tt)]],[["Item",Kf()]]])}class F0 extends ue{constructor(t,n,r,s){super(),this.target=t,this.pointerEvent=n,this.button=r,this.timeStamp=s}}function o4(){return ar("Graph.PointerEvent",[],F0,()=>[["target",kd()],["pointerEvent",QI()],["button",Gc()],["timeStamp",tt]])}class lu extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PointerEvent","DragComplete"]}}function l4(){return Tr("Graph.AbstractEvent",[],lu,()=>[[["Item",o4()]],[["Item",Kf()]]])}let Oh=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PreviewUndo","PreviewRedo"]}};function u4(){return Tr("Graph.PreviewMsg",[],Oh,()=>[[],[["Item",qe]]])}let Pe=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["EditorMsg","DragMsg","RawPointerEvent","RawKeyEvent","RawKeyUpEvent","AbstractEvent","SetSvg","SetMousePosition","SetTarget","RemoveTarget","ClearTarget","Save","Load","Redo","Undo","PrintModel","EnterDragMode","PreviewMsg","EndPreview","Copy","Paste","Cut","SetPreviewKeyConfig","SaveKeyConfig","LoadKeyConfig","EditKeyConfig","ToggleEditKeyConfig","CancelPointerEvent","StartEditNode","EditNode","EndEditNode","ToggleSnapMode"]}};function Rh(){return Tr("Graph.Msg",[],Pe,()=>[[["Item",J1(s4())]],[["Item",i4()]],[["Item",XI()]],[["Item",Zo("Browser.Types.KeyboardEvent",void 0)]],[["Item",Zo("Browser.Types.KeyboardEvent",void 0)]],[["Item",l4()]],[["Item",Zo("Browser.Types.SVGSVGElement",void 0)]],[["Item",kt(tt)]],[["Item",O_()]],[],[],[],[],[["Item",qe]],[],[],[["Item",Pt(Fw(),Br(Gc()))]],[["Item",u4()]],[],[["Item",kt(tt)]],[["Item",kt(tt)]],[["Item",kt(tt)]],[["Item",Pt(fh(),Rh())]],[],[],[],[],[],[["Item",Pt(Br(kt(tt)),Br(qe))]],[["Item",nc]],[],[]])}function a4(e){return new Pe(0,[he(t=>new os(0,[t]),e)])}function zr(e){return a4(P(e))}function c4(e){return new Pe(0,[he(t=>new os(1,[t]),e)])}function zw(e){return c4(P(e))}function f4(e){return new Pe(0,[e])}function d4(e){return f4(P(e))}function h4(e,t){return zw(new Bc(2,[[e,t]]))}function p4(e){return zw(new Bc(0,[e]))}let An=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DefaultMode","EditNodeDataMode","PreviewMode","DragMode","EditKeyConfigMode"]}};class Fn extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Redo","Undo","SelectAll","DeselectAll","ToggleSelectAll","Save","Load","Copy","Cut","Paste","Delete","Move","AddEdge","AddNode","StartEditNode","PrintModel"]}}function w4(e){switch(e.tag){case 1:return new Pe(14,[]);case 2:return zr(new Yt(5,[]));case 3:return zr(new Yt(14,[]));case 4:return zr(new Yt(7,[]));case 5:return new Pe(11,[]);case 6:return new Pe(12,[]);case 7:return new Pe(19,[new M(0,0)]);case 8:return new Pe(21,[new M(0,0)]);case 9:return new Pe(20,[new M(0,0)]);case 10:return zr(new Yt(4,[]));case 11:return new Pe(16,[[new ou(1,[]),void 0]]);case 12:return new Pe(16,[[new ou(4,[[new O0(0,[]),void 0,void 0]]),void 0]]);case 13:return zr(new Yt(0,[[!0,void 0]]));case 14:return new Pe(28,[[void 0,void 0]]);case 15:return new Pe(15,[]);default:return new Pe(13,[0])}}const cy=he(e=>[e[0],w4(e[1])],mw(X([["ctrl z",new Fn(1,[])],["ctrl y",new Fn(0,[])],["ctrl a",new Fn(2,[])],["ctrl shift a",new Fn(3,[])],["ctrl s",new Fn(5,[])],["ctrl l",new Fn(6,[])],["ctrl c",new Fn(7,[])],["ctrl x",new Fn(8,[])],["ctrl v",new Fn(9,[])],["Backspace",new Fn(10,[])],["Enter",new Fn(14,[])],["g",new Fn(11,[])],["p",new Fn(15,[])],["a",new Fn(4,[])],["e",new Fn(12,[])]])));class $4 extends ue{constructor(t){super(),this.defaultMode=t}}let je=class extends ue{constructor(t,n,r,s,i,o,l,u,a,c,f,d,g,w){super(),this.editorData=t,this.mode=n,this.snapMode=r,this.snapGrid=s,this.redoUndo=i,this.svg=o,this.mousePosition=l,this.targetType=u,this.keyConfig=a,this.keySetting=c,this.mouseDown=f,this.keyDown=d,this.pastPointerEvents=g,this.log=w}};function Da(e){return e.editorData.viewBoxData.viewSize}function Fh(e){return e.editorData.viewBoxData.viewPosition}function zh(e){return e.editorData.viewBoxData.viewScale}function fy(e){const t=Fh(e);let n,r;const s=Da(e),i=zh(e);return r=new M(s.x*i,s.y*i),n=new M(r.x/2,r.y/2),new M(t.x+n.x,t.y+n.y)}function F_(){const e=new ji(UI(),new Bl(new M(0,0),R_(),1));return[new je(e,new An(0,[]),!1,new M(64,64),c_(e),void 0,void 0,z(),cy,new $4(_w(cy)),At({Compare:cn}),po({Compare:cn}),z(),z()),tn(P(P(t=>{t(new Pe(12,[]))})))]}function z_(e,t){let n,r,s,i,o,l;switch(e.tag){case 1:{const u=e.fields[0][0];return[new je(t.editorData,new An(3,[new Vh(u.target,e.fields[0][1],u.modeType,u.button)]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),z()]}case 2:{const u=e.fields[0][0];return u.modeType.tag===1&&document.exitPointerLock(),[new je(t.editorData,new An(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),(n=u.button,n!=null?(r=n,oo((s=(i=u.dragData.dragTo.position,o=u.target.position,new M(i.x-o.x,i.y-o.y)),l=t.editorData.viewBoxData.viewScale,new M(s.x/l,s.y/l)))<5?P(new lu(0,[new F0(u.target,new R0(0,[]),r,e.fields[0][1])])):P(new lu(1,[u]))):P(new lu(1,[u])))]}case 3:return e.fields[0].modeType.tag===1&&document.exitPointerLock(),[new je(t.redoUndo.current,new An(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),z()];default:{const u=e.fields[0][0],a=e.fields[0][1];return u.tag===1&&t.svg,[new je(t.editorData,new An(3,[new Vh(a.dragTo,a,u,e.fields[0][2])]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),z()]}}}function Lh(e,t){return _r((n,r)=>new jt(r.color,r.pos,r.text,ee(n,e)),t)}function g4(e,t){return Ph(e,n=>new jt(n.color,n.pos,n.text,!n.isSelected),t)}function dy(e){return _r((t,n)=>new jt(n.color,n.pos,n.text,!1),e)}function y1(e,t){return D_(new Sd(Ow(t),e),t)}function y4(e,t,n){return V_(Pa(void 0,[e,t],e,t),n)}class L_ extends ue{constructor(t,n,r){super(),this.mousePos=t,this.snapMode=n,this.snapGrid=r}}function v4(e,t,n){let r,s,i;const o=e.mousePos,l=u=>e.snapMode?Ro((a,c)=>c*d0(a/c),u,e.snapGrid):u;switch(t.tag){case 11:{const u=t.fields[1];return Ph(t.fields[0],a=>u.tag===0?new jt(u.fields[0],a.pos,a.text,a.isSelected):new jt(a.color,u.fields[0],a.text,a.isSelected),n)}case 1:return y4(t.fields[0][0],t.fields[0][1],n);case 12:return g4(t.fields[0],n);case 10:return ZI(t.fields[0],n);case 9:return N_(t.fields[0],n);case 2:return Ph(t.fields[0][0],u=>{let a,c;return new jt(u.color,l((a=u.pos,c=t.fields[0][1],new M(a.x+c.x,a.y+c.y))),u.text,u.isSelected)},n);case 4:return WI(Cu(u=>{if(u.data.isSelected)return u.nodeId},Fs(n)),n);case 5:return _r((u,a)=>new jt(a.color,a.pos,a.text,!0),n);case 14:return _r((u,a)=>new jt(a.color,a.pos,a.text,!1),n);case 3:return _r((u,a)=>{let c,f;return a.isSelected?new jt(a.color,l((c=a.pos,f=t.fields[0],new M(c.x+f.x,c.y+f.y))),a.text,a.isSelected):a},n);case 7:{const u=hm(a=>a.data.isSelected,Fs(n));return _r((a,c)=>new jt(c.color,c.pos,c.text,!u),n)}case 13:return _r((u,a)=>new jt(a.color,a.pos,a.text,u===t.fields[0]),n);case 6:return _r((u,a)=>new jt(a.color,a.pos,a.text,!1),n);case 8:{const u=t.fields[0][2],a=t.fields[0][1],c=Ro(rm,a,u),f=Ro(sc,a,u),d=c,g=w=>d.x<=w.x&&d.y<=w.y&&w.x<=f.x?w.y<=f.y:!1;return _r((w,v)=>new jt(v.color,v.pos,v.text,t.fields[0][0]&&v.isSelected?!0:g(v.pos)),n)}case 15:{const u=t.fields[0][3]|0,a=t.fields[0][2],c=As(Lh,La(t.fields[0][1]),n),f=a!=null?y1((r=ff(l(a)),new jt(r.color,r.pos,r.text,!0)),dy(c)):c,d=ps(g=>g.data.isSelected,Fs(f));return oy(ps(g=>g.pre!==g.post,t.fields[0][0].tag===1?oe(g=>Pa(void 0,[u,g.nodeId],u,g.nodeId),d):oe(g=>Pa(void 0,[g.nodeId,u],g.nodeId,u),d)),f)}case 16:{const u=t.fields[0][2],a=As(Lh,La(t.fields[0][1]),n),c=u!=null?y1((s=ff(l(u)),new jt(s.color,s.pos,s.text,!0)),dy(a)):a,f=Ow(c)|0,d=D_(new Sd(f,ff(l(t.fields[0][3]))),c),g=ps(w=>w.data.isSelected,Fs(d));return oy(ps(w=>w.pre!==w.post,t.fields[0][0].tag===1?oe(w=>Pa(void 0,[f,w.nodeId],f,w.nodeId),g):oe(w=>Pa(void 0,[w.nodeId,f],w.nodeId,f),g)),d)}default:{const u=t.fields[0][1];return y1((i=ff(l(u??o??new M(0,0))),new jt(i.color,i.pos,i.text,t.fields[0][0])),n)}}}function m4(e,t){let n,r,s,i,o,l,u,a,c,f;switch(e.tag){case 2:{let d;const g=e.fields[0][1]/500;return d=Math.pow(2,g),d>1e-13?new Bl((n=(r=t.viewPosition,s=d,new M(r.x*s,r.y*s)),i=(o=e.fields[0][0],l=1-d,new M(o.x*l,o.y*l)),new M(n.x+i.x,n.y+i.y)),t.viewSize,t.viewScale*d):t}case 4:return new Bl(t.viewPosition,e.fields[0],t.viewScale);case 3:throw new Error("Not Implemented");case 1:return new Bl(e.fields[0],t.viewSize,t.viewScale);default:return new Bl((u=t.viewPosition,a=(c=e.fields[0],f=t.viewScale,new M(c.x*f,c.y*f)),new M(u.x+a.x,u.y+a.y)),t.viewSize,t.viewScale)}}function A_(e,t,n){return t.tag===1?new ji(n.graph,m4(t.fields[0],n.viewBoxData)):new ji(v4(e,t.fields[0],n.graph),n.viewBoxData)}function _4(e,t){switch(t.mode.tag){case 3:return z();case 0:{const r=e.target.targetType;switch(r.tag){case 0:{const s=r.fields[0]|0,i=e.button.button|0;let o;if(e.pointerEvent.tag===0)switch(i){case 0:{o=0;break}case 2:{o=1;break}default:o=2}else o=2;switch(o){case 0:return e.button.shift?P(zr(new Yt(12,[s]))):e.button.ctrl?P(new Pe(28,[[void 0,s]])):P(zr(new Yt(13,[s])));case 1:return P(zr(new Yt(9,[s])));default:return z()}}case 1:{let s;switch(e.pointerEvent.tag===0&&e.button.button===2?s=0:s=1,s){case 0:return P(zr(new Yt(10,[r.fields[0]])));default:return z()}}case 2:{const s=e.pointerEvent,i=e.button.button|0;let o;switch(s.tag){case 0:{switch(i){case 0:{o=0;break}case 2:{o=1;break}default:o=3}break}case 1:{i===0?o=2:o=3;break}default:o=3}switch(o){case 0:return e.button.ctrl?P(zr(new Yt(0,[[!1,e.target.position]]))):z();case 1:return P(zr(new Yt(14,[])));case 2:return P(zr(new Yt(0,[[!0,e.target.position]])));default:return z()}}default:return z()}}default:return z()}}function C4(e,t){let n;const r=e.dragData.dragTo.position,s=e.target.position;n=new M(r.x-s.x,r.y-s.y);const i=e.modeType;switch(i.tag){case 1:return P(new os(0,[new Yt(3,[n])]));case 2:return P(new os(1,[new Bc(0,[n])]));case 3:return P(new os(0,[new Yt(8,[[qr("Shift",t.keyDown),e.target.position,e.dragData.dragTo.position]])]));case 4:{const o=i.fields[0][0],l=i.fields[0][2],u=i.fields[0][1],a=e.dragData.dragTo.targetType;return a.tag===0?P(new os(0,[new Yt(15,[[o,l,u,a.fields[0]]])])):P(new os(0,[new Yt(16,[[o,l,u,e.dragData.dragTo.position]])]))}default:{const o=i.fields[0]|0,l=e.dragData.dragTo.targetType;return l.tag===0?o!==l.fields[0]?P(new os(0,[new Yt(2,[[o,n]])])):P(new os(0,[new Yt(2,[[o,n]])])):P(new os(0,[new Yt(2,[[o,n]])]))}}}function S4(e,t){let n,r,s,i,o,l,u,a,c,f,d,g;const w=new Ed(new Iu((n=e.target.targetType,r=t.targetType,n.tag===3?Y(r)?n:H(r):n),e.target.position),e.event,e.rawEvent,e.button,e.timeStamp),v=t.mode;if(v.tag===3){const _=v.fields[0];switch(w.event.tag){case 0:switch(w.button.button){case 0:return[t,(s=new Pe(1,[new Vs(2,[[_,w.rawEvent.timeStamp]])]),P(h=>{h(s)}))];case 2:return[t,P(h=>{h(new Pe(1,[new Vs(3,[_])]))})];default:return[t,ne()]}case 1:{const h=_.button;return h!=null?h.button===w.button.button?[t,(i=new Pe(1,[new Vs(2,[[_,w.rawEvent.timeStamp]])]),P($=>{$(i)}))]:[t,ne()]:[t,ne()]}case 3:return t.mode.tag===3?[t,(o=new Pe(1,[new Vs(1,[[_,new Gl(w.target,w.timeStamp)]])]),P(h=>{h(o)}))]:[t,ne()];default:return[t,ne()]}}else switch(w.event.tag){case 0:{const p=w.target.targetType,h=w.button.button|0;let $,C;switch(p.tag){case 0:{switch(h){case 0:{$=0,C=p.fields[0];break}case 2:{$=2;break}default:$=3}break}case 2:{switch(h){case 0:{$=1;break}case 2:{$=2;break}default:$=3}break}default:h===2?$=2:$=3}switch($){case 0:return[t,tn(P((l=new Pe(1,[new Vs(0,[[new ou(4,[[new O0(0,[]),void 0,C]]),new Gl(w.target,w.timeStamp),w.button]])]),P(k=>{k(l)}))))];case 1:return[t,tn(P((u=new Pe(1,[new Vs(0,[[new ou(4,[[new O0(0,[]),w.target.position,void 0]]),new Gl(w.target,w.timeStamp),w.button]])]),P(k=>{k(u)}))))];case 2:return[t,(a=new Pe(1,[new Vs(0,[[new ou(3,[]),new Gl(w.target,w.timeStamp),w.button]])]),P(k=>{k(a)}))];default:return[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,Dt(w.button.button,w.target,t.mouseDown),t.keyDown,t.pastPointerEvents,t.log),ne()]}}case 1:{const p=Kt(w.button.button,t.mouseDown);if(p==null)return[t,ne()];{const h=p,$=new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,kr(w.button.button,t.mouseDown),t.keyDown,t.pastPointerEvents,t.log);return ee(h.targetType,w.target.targetType)?[$,(c=new Pe(5,[new lu(0,[new F0(new Iu((f=w.target.targetType,d=t.targetType,f.tag===3?Y(d)?f:H(d):f),w.target.position),new R0(0,[]),w.button,w.timeStamp)])]),P(C=>{C(c)}))]:[$,ne()]}}case 2:return[t,(g=new Pe(5,[new lu(0,[new F0(w.target,new R0(0,[]),w.button,w.timeStamp)])]),P(p=>{p(g)}))];default:return[t,ne()]}}function k4(e,t){switch(t.mode.tag){case 0:return dh(t.keySetting.defaultMode,e);case 1:return dh(_w(mw(P(["Enter",new Pe(30,[])]))),e);default:return z()}}function G_(e,t){if(e.tag===1)return[t,he(d4,C4(e.fields[0],t))];{const n=e.fields[0];return[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,P([n,t.redoUndo]),t.log),_4(n,t)]}}function E4(e,t){if(e.tag===0)return le(n=>[e,n.current],Cd(t.redoUndo));{const n=Iw(e.fields[0],t.redoUndo);return n!=null?[e,n.current]:void 0}}function B_(e,t){let n,r,s,i,o,l,u,a;switch(e.tag){case 0:{const f=Qt((d,g)=>A_(new L_(t.mousePosition,t.snapMode,t.snapGrid),g,d),t.editorData,e.fields[0]);a=[new je(f,t.mode,t.snapMode,t.snapGrid,vh(f,t.redoUndo),t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 2:{const f=S4(e.fields[0],t);a=[f[0],f[1]];break}case 3:{const f=e.fields[0],d=k4(f,t);a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,Wu(f.key,t.keyDown),t.pastPointerEvents,t.log),tn(he(g=>P(w=>{w(g)}),d))];break}case 4:{a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,Li(e.fields[0].key,t.keyDown),t.pastPointerEvents,t.log),ne()];break}case 5:{const f=e.fields[0];Me(F("abstract: %O"))(f);const d=G_(f,t);a=[d[0],tn(he(g=>P(w=>{w(g)}),d[1]))];break}case 11:{const f=ln(t.editorData,St(ay()));Me(F("save")),Me(F("%O"))(f),df("graph",f),a=[t,ne()];break}case 12:{let f;const d=g1("graph");try{f=new be(0,[(n=jf(d),n!=null?$1(n,St(ay())):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})())])}catch(g){f=new be(1,[g.message])}if(f.tag===0){const g=f.fields[0];a=[new je(g,t.mode,t.snapMode,t.snapGrid,vh(g,t.redoUndo),t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}else a=[t,ne()];break}case 13:{const f=Iw(e.fields[0],t.redoUndo);if(f!=null){const d=f;a=[new je(d.current,t.mode,t.snapMode,t.snapGrid,d,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),(r=t.mode,r.tag===2?P(g=>{g(new Pe(17,[r.fields[0][0]]))}):ne())]}else a=[t,ne()];break}case 14:{const f=Cd(t.redoUndo);if(f==null)a=[t,ne()];else{const d=f;a=[new je(d.current,t.mode,t.snapMode,t.snapGrid,d,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),(s=t.mode,s.tag===2?P(g=>{g(new Pe(17,[s.fields[0][0]]))}):ne())]}break}case 6:{a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,e.fields[0],t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 7:{const f=t.svg;a=f!=null?[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,$s(f,e.fields[0]),t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 16:{const f=t.mousePosition;let d,g;switch(f!=null&&t.mode.tag===0?(d=0,g=f):d=1,d){case 0:{a=[t,(i=new Pe(1,[new Vs(0,[[e.fields[0][0],new Gl(new Iu(new Ur(3,[]),g),0),e.fields[0][1]]])]),P(w=>{w(i)}))];break}default:a=[t,ne()]}break}case 15:{const f=pi(g=>{let w,v,_,p;switch(g.tag){case 7:case 2:case 6:case 15:case 5:{w=0;break}case 1:{switch(g.fields[0].tag){case 1:{w=0;break}case 0:{w=1,v=g.fields[0].fields[0][1];break}case 2:{w=2,_=g.fields[0].fields[0][0];break}default:w=4}break}case 0:{w=3,p=g.fields[0];break}default:w=4}switch(w){case 0:return;case 1:return Ne(F("dragStart %O"))(v.dragTo.targetType);case 2:return Ne(F("dragend %O"))(_.dragData.dragTo.targetType);case 3:return Se(`
`,pi(h=>{let $,C;if(h.tag===0){const k=h.fields[0];switch(k.tag){case 16:return $=!ee(k.fields[0][2],void 0),Ne(F("addEdgesAndANode %O"))($);case 15:return C=!ee(k.fields[0][2],void 0),Ne(F("addEdges: %O %O"))(C)(k.fields[0][3]);case 8:return;case 5:return;case 13:return;default:return Ne(F("%O"))(k)}}else return},p));default:return}},t.log);Me(F("%O"))(f);const d=_r((g,w)=>{},t.editorData.graph);Me(F("%O"))(d),a=[t,ne()];break}case 17:{const f=E4(e.fields[0],t),d=t.mode;let g,w;if(f!=null)switch(d.tag){case 0:{g=0,w=f;break}case 2:{g=0,w=f;break}default:g=1}else g=1;switch(g){case 0:{a=[new je(t.editorData,new An(2,[w]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}default:a=[new je(t.editorData,new An(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}break}case 18:{a=[new je(t.editorData,new An(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 19:{df("copy.graph",ln([e.fields[0],ly(uc(Cu(f=>{if(f.data.isSelected)return f.nodeId},Fs(t.editorData.graph)),{Compare:cn}),t.editorData.graph)],St(Pt(kt(tt),Wf(qe,Pt(qe,qe),Zf(),Of))))),a=[t,ne()];break}case 21:{df("copy.graph",ln([e.fields[0],ly(uc(Cu(f=>{if(f.data.isSelected)return f.nodeId},Fs(t.editorData.graph)),{Compare:cn}),t.editorData.graph)],St(Pt(kt(tt),Wf(qe,Pt(qe,qe),Zf(),Of))))),a=[new je(new ji(HI((f,d)=>!d.node.isSelected,t.editorData.graph),t.editorData.viewBoxData),t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 20:{let f;const d=g1("copy.graph");try{f=new be(0,[(o=jf(d),o!=null?$1(o,St(Pt(kt(tt),Wf(qe,Pt(qe,qe),Zf(),Of)))):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})())])}catch(g){f=new be(1,[g.message])}if(f.tag===1)Me(F("parsefailed: %O"))(f.fields[0]),a=[t,ne()];else{const g=_r((_,p)=>new jt(p.color,p.pos,p.text,!1),t.editorData.graph),w=_r((_,p)=>{let h,$,C,k;return new jt(p.color,(h=($=p.pos,C=e.fields[0],new M($.x+C.x,$.y+C.y)),k=f.fields[0][0],new M(h.x-k.x,h.y-k.y)),p.text,!0)},f.fields[0][1]),v=Ow(g)|0;a=[new je(new ji(qI(_=>_+v,_=>_,w,g).graph,t.editorData.viewBoxData),t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}break}case 23:{const f=t.mode;if(f.tag===4){const d=f.fields[0];df("graph.keyconfig",ln(d,St(J1(Pt(fh(),Rh()))))),a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,d,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}else a=[t,ne()];break}case 24:{let f;const d=g1("graph.keyconfig");try{f=new be(0,[(l=jf(d),l!=null?$1(l,St(J1(Pt(fh(),Rh())))):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})())])}catch(g){f=new be(1,[g.message])}f.tag===1?(Me(F("load keyconfig failed: %O"))(f.fields[0]),a=[t,ne()]):a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,f.fields[0],t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 22:{const f=t.mode;a=f.tag===4?[new je(t.editorData,new An(4,[ni(Dt(e.fields[0][0],e.fields[0][1],cs(f.fields[0],{Compare:Te})))]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 25:{a=t.mode.tag===0?[new je(t.editorData,new An(4,[t.keyConfig]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 26:{const f=t.mode;a=f.tag===0?[new je(t.editorData,new An(4,[t.keyConfig]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:f.tag===4?[new je(t.editorData,new An(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 27:{const f=t.pastPointerEvents;if(Y(f))a=[t,ne()];else{const d=H(f)[1];a=[new je(d.current,t.mode,t.snapMode,t.snapGrid,d,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,L(f),t.log),ne()]}break}case 28:{const f=e.fields[0][0],d=e.fields[0][1];let g;if(d!=null){const w=d|0,v=Bo(t.editorData.graph,w);g=v!=null?v.data.isSelected?t.editorData.graph:Lh(w,t.editorData.graph):t.editorData.graph}else g=t.editorData.graph;if(t.mode.tag===0){let w;const v=hE(_=>Bo(t.editorData.graph,_),d);w=v!=null?v.data.text:"",a=[new je(new ji(g,t.editorData.viewBoxData),new An(1,[[f??(d!=null?nw(le(_=>_.data.pos,Bo(t.editorData.graph,d)),fy(t)):fy(t)),w]]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}else a=[t,ne()];break}case 30:{const f=t.mode;a=f.tag===1?[new je(new ji(_r((d,g)=>g.isSelected?new jt(g.color,g.pos,f.fields[0][1],g.isSelected):g,t.editorData.graph),t.editorData.viewBoxData),new An(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 29:{const f=t.mode;a=f.tag===1?[new je(t.editorData,new An(1,[[f.fields[0][0],e.fields[0]]]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 8:{a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,Ee(e.fields[0],t.targetType),t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 9:{a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,(u=t.targetType,Y(u)?z():L(u)),t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 10:{a=[new je(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,z(),t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 31:{a=[new je(t.editorData,t.mode,!t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}default:{const f=z_(e.fields[0],t);a=[f[0],tn(he(d=>P(g=>{g(new Pe(5,[d]))}),f[1]))]}}const c=a[0];return[new je(c.editorData,c.mode,c.snapMode,c.snapGrid,c.redoUndo,c.svg,c.mousePosition,c.targetType,c.keyConfig,c.keySetting,c.mouseDown,c.keyDown,c.pastPointerEvents,Ee(e,c.log)),a[1]]}function x4(e,t){try{return B_(e,t)}catch(n){return Me(F("failed: %O"))(e),Me(F("log: %O"))(t.log),Me(F("error: %O"))(n),[t,ne()]}}function v1(e,t,n,r,s){return r(new Pe(2,[new Ed(new Iu(n,$s(Gs(s.target),new M(s.clientX,s.clientY))),t,s,new Rw(~~s.button,s.ctrlKey,s.altKey,s.shiftKey),s.timeStamp)]))}function m1(e,t,n){return A(y(()=>E(S(["onPointerMove",r=>{v1(e,new Ba(3,[]),t,n,r)}]),y(()=>E((e.mode.tag===3,Oe()),y(()=>E(S(["onPointerEnter",r=>{Me(F("enter")),n(new Pe(8,[t]))}]),y(()=>E(S(["onPointerOut",r=>{n(new Pe(9,[]))}]),y(()=>E(S(["onPointerDown",r=>{const s=r.target,i=r.target.hasPointerCapture(r.pointerId);Me(F("hasPointerCapture %O"))(i),s.releasePointerCapture(r.pointerId),Me(F("%O"))();const o=r.target.hasPointerCapture(r.pointerId);Me(F("hasPointerCapture %O"))(o),v1(e,new Ba(0,[]),t,n,r)}]),y(()=>S(["onPointerUp",r=>{const s=r.target.hasPointerCapture(r.pointerId);Me(F("hasPointerCapture %O"))(s),n(new Pe(10,[])),v1(e,new Ba(1,[]),t,n,r)}])))))))))))))}function M4(e){const t=ci(e,[" "],void 0,0);let n;switch(!Rf((r,s)=>r===s,t,yn())&&t.length===1?J(0,t)==="Background"?n=0:n=3:!Rf((r,s)=>r===s,t,yn())&&t.length===2?J(0,t)==="Node"?n=1:J(0,t)==="Edge"?n=2:n=3:n=3,n){case 0:return new Ur(2,[]);case 1:return new Ur(0,[Xn(J(1,t),511,!1,32)]);case 2:{const r=J(1,t),s=ci(r.slice(1,0),[","],void 0,0);if(!Rf((i,o)=>i===o,s,yn())&&s.length===2){const i=J(1,s);return new Ur(1,[[Xn(J(0,s),511,!1,32),Xn(i,511,!1,32)]])}else return new Ur(3,[])}default:return new Ur(3,[])}}function T4(e){switch(e.tag){case 1:return"EditNodeData";case 2:return"Preview";case 3:switch(e.fields[0].modeType.tag){case 1:return"MoveSelected";case 2:return"MoveViewBox";case 3:return"SelectRect";case 4:return"AddEdges";default:return"DragNode"}case 4:return"EditKeyConfig";default:return"Default"}}function I4(e,t,n,r){r.addEventListener(e,t,n)}function P4(e){let t;const n=e.dispatch,r=e.model,s=ny(),i=ny(),o=AI(()=>[new M(0,0),new M(0,0),1]);return GI(()=>{const l=s.current;l!=null&&I4("wheel",a=>{a.preventDefault()},{passive:!1},l);const u=i.current;if(u!=null){const a=u,c=[Fh(r),Da(r),zh(r)];tc(o[0],c)||(o[1](c),n(new Pe(6,[Gs(a)])))}}),N.createElement("div",Qe(X([["ref",s],(t=A(y(()=>E(S(N.createElement("button",{children:"keyConfig",onClick:l=>{n(new Pe(26,[]))}})),y(()=>E(S(N.createElement("button",{children:r.snapMode?"snap":"----",onClick:l=>{n(new Pe(31,[]))}})),y(()=>E(S(N.createElement("button",{children:"undo",onClick:l=>{n(new Pe(14,[]))},onPointerOver:l=>{n(new Pe(17,[new Oh(0,[])]))},onPointerLeave:l=>{n(new Pe(18,[]))}})),y(()=>E(dt(l=>{const u=l[0]|0;return S(N.createElement("button",{children:Ne(F("redo %O"))(u),onClick:a=>{n(new Pe(13,[u]))},onPointerOver:a=>{n(new Pe(17,[new Oh(1,[u])]))},onPointerLeave:a=>{n(new Pe(18,[]))}}))},oc(a_(r.redoUndo.redoData))),y(()=>E(S(T4(r.mode)),y(()=>{let l;return S((l=A(y(()=>E(S(N.createElement("svg",Qe(A(y(()=>E(S(["className",Se(" ",["graph-editor","pointer-events-none"])]),y(()=>E(S(["ref",i]),y(()=>E(S(["width",Da(r).x]),y(()=>E(S(["height",Da(r).y]),y(()=>{let u;const a=Da(r),c=zh(r);u=new M(a.x*c,a.y*c);const f=Fh(r),d=rg(w=>~~w,f),g=rg(w=>~~w,u);return E(S(["viewBox",d.x+" "+d.y+" "+g.x+" "+g.y]),y(()=>E(S(["onWheel",w=>{let v;const _=$s(Gs(w.target),new M(w.clientX,w.clientY));w.ctrlKey?n((v=[_,w.deltaY],h4(v[0],v[1]))):n(p4(w.shiftKey?new M(w.deltaY,w.deltaX):new M(w.deltaX,w.deltaY)))}]),y(()=>{let w;return S((w=A(y(()=>E(S(N.createElement("rect",Qe(A(y(()=>E(S(["className",Se(" ",["pointer-events-painted"])]),y(()=>E(S(["width",u.x]),y(()=>E(S(["height",u.y]),y(()=>E(S(["x",d.x]),y(()=>E(S(["y",d.y]),y(()=>E(S(["id","Background"]),y(()=>m1(r,new Ur(2,[]),n)))))))))))))))))),y(()=>{let v;return E(r.snapMode?S(N.createElement("g",Qe(X([["strokeWidth",1],["stroke","gray"],(v=A(y(()=>{let _,p;const h=Ro((C,k)=>~~(C/k),f,r.snapGrid),$=Ro((C,k)=>~~(C/k),(_=f,p=u,new M(_.x+p.x,_.y+p.y)),r.snapGrid);return E(oe(C=>{let k,T;return N.createElement("line",{y1:f.y,y2:(k=f,T=u,new M(k.x+T.x,k.y+T.y)).y,x1:C*r.snapGrid.x,x2:C*r.snapGrid.x})},A(ph(h.x,1,$.x))),y(()=>oe(C=>{let k,T;return N.createElement("line",{x1:f.x,x2:(k=f,T=u,new M(k.x+T.x,k.y+T.y)).x,y1:C*r.snapGrid.y,y2:C*r.snapGrid.y})},A(ph(h.y,1,$.y)))))})),["children",we.Children.toArray(Array.from(v))])])))):Oe(),y(()=>{let _,p,h,$,C;const k=r.mode;switch(k.tag){case 2:{C=k.fields[0][1];break}case 3:{const T=k.fields[0],D=z_(new Vs(2,[[T,T.dragData.timeStamp]]),r),V=Qt((O,B)=>{const Z=G_(B,O[0]);return[Z[0],Ee(Z[1],O[1])]},[D[0],z()],D[1]),U=V[0];C=Qt((O,B)=>A_(new L_(U.mousePosition,U.snapMode,U.snapGrid),B,O),U.editorData,el(pi(O=>{if(O.tag===0)return O.fields[0]},el(V[1]))));break}default:C=r.editorData}return E(S((_=T=>T.pos,p=C.graph,h=($=p,A(y(()=>E(ws(oe(T=>{const D=_,V=p,U=T,O=le(R=>D(cf(R)),Bo(V,U.pre)),B=le(R=>D(cf(R)),Bo(V,U.post));let Z,j,ie,W,te;switch(O!=null&&B!=null?(Z=0,j=O,ie=B):(Z=1,W=O,te=B),Z){case 0:{const R=sg(new M(ie.x-j.x,ie.y-j.y));if(R!=null){const I=R,Q=new M(j.x+I.x*20,j.y+I.y*20),re=new M(ie.x-I.x*20,ie.y-I.y*20);return X([N.createElement("line",{x1:Q.x,x2:re.x,y1:Q.y,y2:re.y,stroke:"none",strokeWidth:10,className:Se(" ",["pointer-event-all"])}),uy(10,20,Q,re,A(y(()=>E(S(["fill","black"]),y(()=>E(S(["stroke","black"]),y(()=>E(S(["strokeWidth",3]),y(()=>[["className",Se(" ",["pointer-events-none","edge"])],["stroke","purple"]])))))))))])}else return z()}default:{const R=A(y(()=>E(ee(W,void 0)?S(U.pre):Oe(),y(()=>ee(te,void 0)?S(U.post):Oe()))));return console.error(ut(Ne(F("node %O not found (in view edge)"))(R))),z()}}},iy($))),y(()=>oe(T=>{const D=T,V=_(D.data);return N.createElement("circle",Qe(A(y(()=>E(S(["r",20]),y(()=>E(S(["fill","gray"]),y(()=>E(S(["cx",V.x]),y(()=>E(S(["cy",V.y]),y(()=>{let U;return U=D,A(y(()=>E(S(["fill",U.data.color]),y(()=>S(["className",Se(" ",A(y(()=>E(S("pointer-events-none"),y(()=>E(S("node"),y(()=>U.data.isSelected?S("selected"):Oe())))))))])))))}))))))))))))},Fs($))))))),N.createElement("g",{children:we.Children.toArray(Array.from(h))}))),y(()=>E(oe(T=>N.createElement("text",{children:T.data.text,x:T.data.pos.x,y:T.data.pos.y,className:Se(" ",["node-data","pointer-events-none"])}),Fs(C.graph)),y(()=>{let T,D,V,U;return E(S((T=O=>O.pos,D=r.editorData.graph,V=(U=D,A(y(()=>E(ws(oe(O=>{const B=T,Z=D,j=O,ie=le(_e=>B(cf(_e)),Bo(Z,j.pre)),W=le(_e=>B(cf(_e)),Bo(Z,j.post));let te,R,I,Q,re;switch(ie!=null&&W!=null?(te=0,R=ie,I=W):(te=1,Q=ie,re=W),te){case 0:{const _e=sg(new M(I.x-R.x,I.y-R.y));if(_e!=null){const ye=_e,Ye=new M(R.x+ye.x*20,R.y+ye.y*20),at=new M(I.x-ye.x*20,I.y-ye.y*20);return X([N.createElement("line",{x1:Ye.x,x2:at.x,y1:Ye.y,y2:at.y,stroke:"none",strokeWidth:10,className:Se(" ",["pointer-event-all"])}),uy(10,20,Ye,at,A(y(()=>E(S(["fill","black"]),y(()=>E(S(["stroke","black"]),y(()=>E(S(["strokeWidth",3]),y(()=>{let Mt;return Mt=j,A(y(()=>E(S(["className",Se(" ",["pointer-events-all"])]),y(()=>E(S(["stroke","none"]),y(()=>E(S(["fill","none"]),y(()=>E(S(["id",`Edge ${Mt.edgeId}`]),y(()=>m1(r,new Ur(1,[Mt.edgeId]),n)))))))))))})))))))))])}else return z()}default:{const _e=A(y(()=>E(ee(Q,void 0)?S(j.pre):Oe(),y(()=>ee(re,void 0)?S(j.post):Oe()))));return console.error(ut(Ne(F("node %O not found (in view edge)"))(_e))),z()}}},iy(U))),y(()=>oe(O=>{const B=O,Z=T(B.data);return N.createElement("circle",Qe(A(y(()=>E(S(["r",20]),y(()=>E(S(["fill","gray"]),y(()=>E(S(["cx",Z.x]),y(()=>E(S(["cy",Z.y]),y(()=>{let j;return j=B,A(y(()=>E(S(["className",Se(" ",["pointer-events-all"])]),y(()=>E(m1(r,new Ur(0,[j.nodeId]),n),y(()=>E(S(["fill","none"]),y(()=>E(S(["stroke","none"]),y(()=>S(["id",`Node ${j.nodeId}`])))))))))))}))))))))))))},Fs(U))))))),N.createElement("g",{children:we.Children.toArray(Array.from(V))}))),y(()=>{const O=r.mode;if(O.tag===3){const B=O.fields[0];if(B.modeType.tag===3){const Z=Ro(rm,B.target.position,B.dragData.dragTo.position),j=Z;let ie;const W=Ro(sc,B.target.position,B.dragData.dragTo.position),te=Z;return ie=new M(W.x-te.x,W.y-te.y),S(N.createElement("rect",{className:Se(" ",["pointer-events-none"]),x:j.x,y:j.y,width:ie.x,height:ie.y,stroke:"black",fill:"none",strokeWidth:2}))}else return Oe()}else return Oe()}))}))))}))})))),["children",we.Children.toArray(Array.from(w))]))}))))}))))))))))))),y(()=>{let u;const a=r.mode;switch(a.tag){case 4:return S(N.createElement("div",Qe(X([["className",Se(" ",["keyconfig-editor"])],(u=A(y(()=>dt(c=>{let f,d,g;const w=c[0];return S((f=X([N.createElement("button",{children:Se(" ",A(y(()=>E(w.ctrl?S("ctrl"):Oe(),y(()=>E(w.alt?S("alt"):Oe(),y(()=>E(w.shift?S("shift"):Oe(),y(()=>S(w.key))))))))))}),N.createElement("button",{children:(d=c[1],d.tag===0?Jp(d.fields[0]):d.tag===16?(g=d.fields[0][0],g.tag===0?"Start Drag-Node Mode":g.tag===1?"Start Move-Selected Mode":g.tag===2?"Start Move-ViewBox Mode":g.tag===3?"Start Select-Rect Mode":"Start Add-Edge Mode"):d.tag===28?"Start Edit-Node-Data Mode":d.tag===19?"Copy":d.tag===21?"Cut":d.tag===20?"Paste":Ae(d))})]),N.createElement("div",{children:we.Children.toArray(Array.from(f))})))},a.fields[0]))),["children",we.Children.toArray(Array.from(u))])]))));case 1:{const c=r.svg;if(c==null)return Oe();{const f=T3(c,a.fields[0][0]);return S(N.createElement("textarea",{className:Se(" ",["node-data-editor"]),autoFocus:!0,style:{left:~~f.x,top:~~f.y},value:a.fields[0][1],onChange:d=>{n(new Pe(29,[d.target.value]))},width:100,height:100}))}}default:return Oe()}})))),N.createElement("div",{children:we.Children.toArray(Array.from(l))})))})))))))))))),["children",we.Children.toArray(Array.from(t))])])))}function b_(e,t){try{return N.createElement(P4,{model:e,dispatch:t})}catch(n){return Me(F("model")),Me(F("%O"))(e),Me(F("log")),Me(F("%O"))(e.log),Me(F("error")),Me(F("%O"))(n),N.createElement("div",{})}}function D4(e){return t=>{const n=r=>{const s=r;if(t(new Pe(7,[new M(s.clientX,s.clientY)])),!ee(s.pointerType,"mouse")){let i;try{const o=s.target;i=M4(o.id)}catch{i=new Ur(3,[])}t(new Pe(2,[new Ed(new Iu(new Ur(3,[]),$s(e,new M(s.clientX,s.clientY))),new Ba(3,[]),s,new Rw(~~s.button,s.ctrlKey,s.altKey,s.shiftKey),s.timeStamp)]))}};return document.addEventListener("pointermove",n),{Dispose(){document.removeEventListener("pointermove",n)}}}}function hy(e){return t=>{const n=r=>{const s=r;s.key!=="F12"&&s.key!=="F5"&&e&&s.preventDefault(),t(new Pe(3,[s]))};return document.addEventListener("keydown",n),{Dispose(){document.removeEventListener("keydown",n)}}}}function N4(e){return t=>{const n=r=>{t(new Pe(4,[r]))};return document.addEventListener("keyup",n),{Dispose(){document.removeEventListener("keyup",n)}}}}const V4=e=>{const t=n=>{e(zw(new Bc(4,[R_()])))};return window.addEventListener("resize",t),{Dispose(){window.removeEventListener("resize",t)}}};function U_(e){return A(y(()=>E(S([P("prevent_touchmove"),i1("touchmove")]),y(()=>E(S([P("prevent_pointermove"),i1("pointermove")]),y(()=>E(S([P("prevent_wheel"),i1("wheel")]),y(()=>E(S([P("prevent_contextmenue"),vw()]),y(()=>E(e.mode.tag===1?S([P("editNodeDataMode-keydown"),hy(!1)]):S([P("keydown"),hy(!0)]),y(()=>E(S([P("keyup"),N4()]),y(()=>E(S([P("resize"),V4]),y(()=>{const t=e.svg;if(t!=null){const n=t;return S([P(Ne(F("mousemove: %O"))(e.targetType)),D4(n)])}else return Oe()}))))))))))))))))}Xm(U_,kw(F_,x4,b_));function bc(e,t){return Ae(e)===Ae(t)}function Uc(e,t){return cn(Ae(e),Ae(t))}function jc(e){return Pc(Ae(e))}class O4 extends ue{constructor(t){super(),this.id=t}Equals(t){return bc(this.id,t.id)}GetHashCode(){return jc(this.id)|0}CompareTo(t){return Uc(this.id,t.id)|0}}class Lw extends ue{constructor(t,n){super(),this.data=t,this.id=n}}class Ah extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["ZeroPath"]}Equals(t){return bc(this,t)}GetHashCode(){return jc(this)|0}CompareTo(t){return Uc(this,t)|0}}function py(e,t){return ee(t.fields[0],e)}class R4 extends ue{constructor(t){super(),this.id=t}Equals(t){return bc(this.id,t.id)}GetHashCode(){return jc(this.id)|0}CompareTo(t){return Uc(this.id,t.id)|0}}class Aw extends ue{constructor(t,n,r,s){super(),this.source=t,this.target=n,this.data=r,this.id=s}}class Gw extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["IdentityOnePath","OnePath"]}Equals(t){return bc(this,t)}GetHashCode(){return jc(this)|0}CompareTo(t){return Uc(this,t)|0}}class F4 extends ue{constructor(t){super(),this.id=t}Equals(t){return bc(this.id,t.id)}GetHashCode(){return jc(this.id)|0}CompareTo(t){return Uc(this.id,t.id)|0}}class Bw extends ue{constructor(t,n,r,s){super(),this.source=t,this.target=n,this.data=r,this.id=s}}class Ir extends ue{constructor(t,n,r){super(),this.zeroCell=t,this.oneCell=n,this.twoCell=r}}class vi extends ue{constructor(t){super(),this.environment=t}}class uu extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroCellId","OneCellId","TwoCellId"]}}function z4(e,t){return new Lw(t,e)}function L4(e,t,n,r){return new Aw(n,r,t,e)}function A4(e,t,n,r){return new Bw(n,r,t,e)}function G4(){return new Ir(At({Compare:Te}),At({Compare:Te}),At({Compare:Te}))}function B4(e,t){return new Ir(Dt(e.id,e,t.zeroCell),t.oneCell,t.twoCell)}function b4(e,t){return new Ir(t.zeroCell,Dt(e.id,e,t.oneCell),t.twoCell)}function U4(e,t){return new Ir(t.zeroCell,t.oneCell,Dt(e.id,e,t.twoCell))}function Gh(e,t){return $o(e,t.zeroCell)}function z0(e,t){return $o(e,t.oneCell)}function j4(e,t){return new Ir(kr(e,t.zeroCell),t.oneCell,t.twoCell)}function H4(e,t){return new Ir(t.zeroCell,kr(e,t.oneCell),t.twoCell)}function W4(e,t){return new Ir(t.zeroCell,t.oneCell,kr(e,t.twoCell))}function j_(e){return $i(e.oneCell)}function Z4(e){return $i(e.zeroCell)}function H_(e){return $i(e.twoCell)}function K4(e,t,n){return new Ir(xr(e,r=>le(t,r),n.zeroCell),n.oneCell,n.twoCell)}function q4(e,t,n){return new Ir(n.zeroCell,xr(e,r=>le(t,r),n.oneCell),n.twoCell)}function Q4(e,t,n){return new Ir(n.zeroCell,n.oneCell,xr(e,r=>le(t,r),n.twoCell))}function J4(e,t){return new Ir(Ws(e,t.zeroCell),t.oneCell,t.twoCell)}function X4(e,t){return new Ir(t.zeroCell,Ws(e,t.oneCell),t.twoCell)}function Y4(e,t){return new Ir(t.zeroCell,t.oneCell,Ws(e,t.twoCell))}function wy(e){return new Gw(1,[[e,z()]])}function Bh(e,t){return e.tag===1?z0(e.fields[0][0],t).source:e.fields[0]}function bh(e,t){let n;return e.tag===1?z0((n=sw(e.fields[0][1]),n??e.fields[0][0]),t).target:e.fields[0]}function bw(e){return e.tag===1?Ee(e.fields[0][0],e.fields[0][1]):z()}function eP(e,t){if(e.tag===1){const n=z0(e.fields[0][0],t);return[n.source,A(y(()=>E(S(n.target),y(()=>dt(r=>S(z0(r,t).target),e.fields[0][1])))))]}else return[e.fields[0],z()]}function $y(e,t){return OE(e,bw(t),{Equals:ee,GetHashCode:Ki})}function tP(e,t,n){if(ee(bh(e,n),Bh(t,n)))return e.tag===1?new Gw(1,[[e.fields[0][0],_u(e.fields[0][1],bw(t))]]):t}class Hi extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["IdExists","SourceNotMatch","TargetNotMatch","PolyGraphSuccess"]}}function nP(){return new vi(G4())}function rP(e,t,n){if(!Ko(e,n.environment.zeroCell))return new vi(B4(z4(e,t),n.environment))}function sP(e,t,n,r,s){if(Ko(e,s.environment.oneCell))return new Hi(0,[e.id]);{s.environment;const i=void 0,o=void 0;if(ee(i,o)){s.environment;const l=void 0,u=void 0;return ee(l,u)?new Hi(3,[new vi(b4(L4(e,t,n,r),s.environment))]):new Hi(2,[[l,u]])}else return new Hi(1,[[i,o]])}}function iP(e,t,n,r,s){if(Ko(e,s.environment.twoCell))return new Hi(0,[e.id]);{const i=s.environment,o=Bh(n,i),l=Bh(r,i);if(ee(o,l)){const u=s.environment,a=bh(n,u),c=bh(r,u);return ee(a,c)?new Hi(3,[new vi(U4(A4(e,t,n,r),u))]):new Hi(2,[[a,c]])}else return new Hi(1,[[o,l]])}}function W_(e,t){return new vi(W4(e,t.environment))}function oP(e,t){const n=new vi(H4(e,t.environment));return As(W_,oe(r=>r[0],ps(r=>{const s=r[1];return $y(e,s.source)?!0:$y(e,s.target)},H_(n.environment))),n)}function lP(e,t){const n=j4(e,t.environment);return oe(r=>r[0],ps(r=>{const s=r[1];return py(e,s.source)?!0:py(e,s.target)},j_(new vi(n).environment))),new vi(n)}function uP(e,t){switch(e.tag){case 1:return oP(e.fields[0],t);case 2:return W_(e.fields[0],t);default:return lP(e.fields[0],t)}}function Qu(e,t){return new vi(e(t.environment))}function Z_(e,t,n){return Qu(r=>K4(e,s=>new Lw(t(s.data),s.id),r),n)}function K_(e,t,n){return Qu(r=>q4(e,s=>new Aw(s.source,s.target,t(s.data),s.id),r),n)}function q_(e,t,n){return Qu(r=>Q4(e,s=>new Bw(s.source,s.target,t(s.data),s.id),r),n)}function Q_(e,t){return Qu(n=>J4((r,s)=>new Lw(e(s.data),s.id),n),t)}function aP(e,t){return Qu(n=>X4((r,s)=>new Aw(s.source,s.target,e(s.data),s.id),n),t)}function cP(e,t){return Qu(n=>Y4((r,s)=>new Bw(s.source,s.target,e(s.data),s.id),n),t)}class Hc extends ue{constructor(t,n,r){super(),this.position=t,this.name=n,this.isSelected=r}}function fP(e,t){return new Hc(t,e,!1)}class xd extends ue{constructor(t,n){super(),this.name=t,this.isSelected=n}}function dP(e){return new xd(e,!1)}class Md extends ue{constructor(t,n){super(),this.name=t,this.isSelected=n}}function hP(e){return new Md(e,!1)}let ba=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroPath","OnePath"]}};function gy(e){return e.tag===1?e.fields[0]:new Gw(0,[e.fields[0]])}class Td extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Cell","Background"]}}function pP(e){return new Td(0,[new uu(0,[e])])}function wP(e){return new Td(0,[new uu(1,[e])])}function $P(e){return new Td(0,[new uu(2,[e])])}function gP(e,t){return cP(n=>new Md(n.name,e),aP(n=>new xd(n.name,e),Q_(n=>new Hc(n.position,n.name,e),t)))}function yP(e,t){switch(e.tag){case 1:return K_(e.fields[0],n=>new xd(n.name,!0),t);case 2:return q_(e.fields[0],n=>new Md(n.name,!0),t);default:return Z_(e.fields[0],n=>new Hc(n.position,n.name,!0),t)}}function vP(e,t){switch(e.tag){case 1:return K_(e.fields[0],n=>new xd(n.name,!n.isSelected),t);case 2:return q_(e.fields[0],n=>new Md(n.name,!n.isSelected),t);default:return Z_(e.fields[0],n=>new Hc(n.position,n.name,!n.isSelected),t)}}function mP(e,t){return Q_(n=>{let r,s;return n.isSelected?new Hc((r=n.position,s=e,new M(r.x+s.x,r.y+s.y)),n.name,n.isSelected):n},t)}let Pn=class extends ue{constructor(t,n,r,s,i,o,l,u,a){super(),this.polyGraph=t,this.source=n,this.target=r,this.path=s,this.dragState=i,this.zeroCellR=o,this.currentZeroId=l|0,this.currentOneId=u|0,this.currentTwoId=a|0}};function _P(){return[new Pn(nP(),void 0,void 0,void 0,void 0,10,0,0,0),ne()]}class hf extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddZeroCell","AddOneCell","AddTwoCell","RemoveCells"]}}class Ln extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddZeroCellCommand","MoveZeroCellCommand","AddOneCellCommand","AddTwoCellCommand","AddCellCommand","RemoveCellCommand","ResetPath","AppendPath","AddSelectCellCommand","SelectCellCommand","SetSource","SetTarget"]}}let gt=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PolyGraphMsg","PolyGraphCommand","DragMsg","DragOutMsg","PrintModel","Error"]}};function CP(e,t){let n,r;switch(e.tag){case 2:{const s=e.fields[0],i=s.source.targetType,o=s.target.targetType;let l,u,a,c;switch(i.tag===0?i.fields[0].tag===0?o.tag===0&&o.fields[0].tag===0?(l=1,u=i.fields[0].fields[0],a=o.fields[0].fields[0]):(l=2,c=i.fields[0],i.fields[0].fields[0]):l=3:l=0,l){case 0:return z();case 1:return X([new gt(1,[new Ln(10,[new ba(0,[new Ah(u)])])]),new gt(1,[new Ln(11,[new ba(0,[new Ah(a)])])]),new gt(1,[new Ln(2,[])])]);case 2:return X([new gt(1,[new Ln(9,[c])]),new gt(1,[new Ln(1,[(n=s.target.position,r=s.source.position,new M(n.x-r.x,n.y-r.y))])])]);default:return z()}}case 1:return z();case 3:{const s=e.fields[0];if(s.event.button===2){const i=s.targetType;return i.tag===0?X([new gt(1,[new Ln(9,[i.fields[0]])]),new gt(1,[new Ln(5,[])])]):z()}else{const i=s.targetType;if(i.tag===0){const o=i.fields[0];return s.event.shiftKey?X([new gt(1,[new Ln(7,[o])]),new gt(1,[new Ln(8,[o])])]):X([new gt(1,[new Ln(7,[o])]),new gt(1,[new Ln(9,[o])])])}else return P(new gt(1,[new Ln(0,[s.position])]))}}default:return z()}}function SP(e,t){switch(e.tag){case 1:{const n=sP(e.fields[0][0],e.fields[0][1],e.fields[0][2],e.fields[0][3],t);return n.tag===3?[n.fields[0],z()]:(Me(F("%O"))(n),[t,z()])}case 2:{const n=iP(e.fields[0][0],e.fields[0][1],e.fields[0][2],e.fields[0][3],t);return n.tag===3?[n.fields[0],z()]:(Me(F("%O"))(n),[t,z()])}case 3:return[Lr(uP,e.fields[0],t),z()];default:{const n=rP(e.fields[0][0],e.fields[0][1],t);return n!=null?[n,z()]:[t,z()]}}}function kP(e){return[io(e.currentOneId),new Pn(e.polyGraph,e.source,e.target,e.path,e.dragState,e.zeroCellR,e.currentZeroId,e.currentOneId+1,e.currentTwoId)]}function EP(e){return[io(e.currentZeroId),new Pn(e.polyGraph,e.source,e.target,e.path,e.dragState,e.zeroCellR,e.currentZeroId+1,e.currentOneId,e.currentTwoId)]}function xP(e){return[io(e.currentTwoId),new Pn(e.polyGraph,e.source,e.target,e.path,e.dragState,e.zeroCellR,e.currentZeroId,e.currentOneId,e.currentTwoId+1)]}function MP(e,t){let n,r,s,i,o,l,u,a,c,f;switch(e.tag){case 11:{const d=e.fields[0];return[new Pn(t.polyGraph,t.source,d??t.path,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()]}case 0:{const d=EP(t),g=d[0];return[d[1],P(new gt(0,[new hf(0,[[new O4(g),fP(g,e.fields[0])]])]))]}case 2:{const d=kP(t),g=d[1],w=d[0];return[g,(n=g.source,r=g.target,n!=null&&n.tag===0&&r!=null&&r.tag===0?(s=n.fields[0],i=r.fields[0],P(new gt(0,[new hf(1,[[new R4(w),dP(w),s,i]])]))):z())]}case 3:{const d=xP(t),g=d[1],w=d[0];return[g,(o=g.source,l=g.target,o!=null&&l!=null?(u=o,a=l,c=gy(u),f=gy(a),P(new gt(0,[new hf(2,[[new F4(w),hP(w),c,f]])]))):z())]}case 4:throw new Error("Not Implemented");case 5:return[t,P(new gt(0,[new hf(3,[A(y(()=>E(A(oe(d=>new uu(0,[d[0]]),ps(d=>d[1].data.isSelected,Z4(t.polyGraph.environment)))),y(()=>E(A(oe(d=>new uu(1,[d[0]]),ps(d=>d[1].data.isSelected,j_(t.polyGraph.environment)))),y(()=>A(oe(d=>new uu(2,[d[0]]),ps(d=>d[1].data.isSelected,H_(t.polyGraph.environment))))))))))])]))];case 9:return[new Pn(yP(e.fields[0],gP(!1,t.polyGraph)),t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];case 8:return[new Pn(vP(e.fields[0],t.polyGraph),t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];case 6:return[new Pn(t.polyGraph,t.source,t.target,void 0,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];case 7:{const d=e.fields[0],g=t.path;let w,v,_,p,h;switch(d.tag){case 1:{g==null?(w=1,p=d.fields[0]):g.tag===1?(w=0,v=d.fields[0],_=g.fields[0]):w=3;break}case 0:{w=2,h=d.fields[0];break}default:w=3}switch(w){case 0:return[new Pn(t.polyGraph,t.source,t.target,le($=>new ba(1,[$]),tP(_,wy(v),t.polyGraph.environment)),t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];case 1:return[new Pn(t.polyGraph,t.source,t.target,new ba(1,[wy(p)]),t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];case 2:return[new Pn(t.polyGraph,t.source,t.target,new ba(0,[new Ah(h)]),t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];default:return Me(F("not impelemted")),[new Pn(t.polyGraph,t.source,t.target,void 0,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()]}}case 1:return[new Pn(mP(e.fields[0],t.polyGraph),t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()];default:{const d=e.fields[0];return[new Pn(t.polyGraph,d??t.path,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),z()]}}}function TP(e,t){switch(e.tag){case 1:{const n=e.fields[0];Me(F("%O"))(n);const r=MP(n,t);return[r[0],tn(he(s=>P(i=>{i(s)}),r[1]))]}case 2:{const n=vd(e.fields[0],t.dragState);return[new Pn(t.polyGraph,t.source,t.target,t.path,n[0],t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),tn(he(r=>P(s=>{s(new gt(3,[r]))}),n[1]))]}case 3:return[t,tn(he(n=>P(r=>{r(n)}),CP(e.fields[0],t.dragState)))];case 5:return Me(F("%O"))(e.fields[0]),[t,ne()];case 4:return Me(F("%O"))(t),[t,ne()];default:{const n=e.fields[0];Me(F("%O"))(n);const r=SP(n,t.polyGraph);return[new Pn(r[0],t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),tn(he(s=>P(i=>{i(s)}),r[1]))]}}}function IP(e,t){try{return TP(e,t)}catch(n){return[t,P(r=>{r(new gt(5,[n]))})]}}function pf(e,t,n){return A(y(()=>E(S(["className",Se(" ",["pointer-events-all"])]),y(()=>E(S(["onPointerDown",r=>{n(new ru(0,[void 0,new E0(t,$s(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]),y(()=>E(S(["onPointerUp",r=>{$s(Gs(r.target),new M(r.clientX,r.clientY)),n(new ru(2,[]))}]),y(()=>e!=null?S(["onPointerMove",r=>{n(new ru(1,[new E0(t,$s(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]):Oe()))))))))}function PP(e,t,n){const r=e.data.position;return N.createElement("circle",Qe(A(y(()=>E(S(["cx",r.x]),y(()=>E(S(["cy",r.y]),y(()=>t))))))))}function yy(e,t,n){return I3(10,20,Gh(e.source.fields[0],n).data.position,Gh(e.target.fields[0],n).data.position,t)}function DP(e,t,n){let r,s,i;const o=W=>Gh(W.fields[0],n).data.position,l=W=>{const te=eP(W,n);return[o(te[0]),he(o,te[1])]},u=l(e.source),a=u[1],c=u[0],f=l(e.target),d=f[1];let g;const w=lr(Ee(f[0],d));if(!Y(w))g=[H(w),L(w)];else throw new Error("unreachable");const v=g[1],_=g[0];let p;Y(a)?p=Y(v)?c:ha(v,{GetZero:()=>new M(null,null),Add:(W,te)=>{const R=W,I=te;return new M(R.x+I.x,R.y+I.y)},DivideByInt:(W,te)=>{const R=W,I=te|0;return new M(R.x/I,R.y/I)}}):Y(v)?(Me(F("asdf")),p=ha(a,{GetZero:()=>new M(null,null),Add:(W,te)=>{const R=W,I=te;return new M(R.x+I.x,R.y+I.y)},DivideByInt:(W,te)=>{const R=W,I=te|0;return new M(R.x/I,R.y/I)}})):p=ha(A(y(()=>E(a,y(()=>v)))),{GetZero:()=>new M(null,null),Add:(W,te)=>{const R=W,I=te;return new M(R.x+I.x,R.y+I.y)},DivideByInt:(W,te)=>{const R=W,I=te|0;return new M(R.x/I,R.y/I)}});let h;const $=c,C=p;h=new M($.x-C.x,$.y-C.y);const k=A(oe(W=>{const te=W,R=p;return new M(te.x-R.x,te.y-R.y)},a)),T=_,D=p;new M(T.x-D.x,T.y-D.y);const V=A(oe(W=>{const te=W,R=p;return new M(te.x-R.x,te.y-R.y)},v));Me(F("%O"))(k),Me(F("%O"))(V);const U=Y(a)?P(c):X([c,m0(a)]),O=Y(v)?P(_):P(m0(Ee(_,v)));ha(U,{GetZero:()=>new M(null,null),Add:(W,te)=>{const R=W,I=te;return new M(R.x+I.x,R.y+I.y)},DivideByInt:(W,te)=>{const R=W,I=te|0;return new M(R.x/I,R.y/I)}}),ha(O,{GetZero:()=>new M(null,null),Add:(W,te)=>{const R=W,I=te;return new M(R.x+I.x,R.y+I.y)},DivideByInt:(W,te)=>{const R=W,I=te|0;return new M(R.x/I,R.y/I)}});let B;if(Y(v))B=_;else{let W;const te=eh(0,v),R=eh(0,d);W=new M(te.x+R.x,te.y+R.y),B=new M(W.x/2,W.y/2)}Me(F("tp3 %O"))(O);const Z=wl((r=B,s=p,new M(r.x-s.x,r.y-s.y)));let j;const ie=new M(-Z.x,Z.y);return j=new M(ie.y,-ie.x),N.createElement("g",Qe(X([["transform",ef(ef("translate("+p.x+"px,"+p.y+"px)","px",""),"deg","")],(i=X([N.createElement("path",Qe(A(y(()=>E(S(["d",sl(he(W=>[W[0],he(te=>X([te.x,te.y]),W[1])],A(y(()=>E(S(["M",P(h)]),y(()=>E(oe(W=>["L",P(W)],k),y(()=>E(oe(W=>["L",P(W)],V),y(()=>S(["Z",z()])))))))))))]),y(()=>t)))))),N.createElement("text",{transform:ef(ef("matrix("+j.y+","+j.x+","+-j.x+","+j.y+",0,0)","px",""),"deg",""),className:Se(" ",["center-text"]),children:"",fill:"black"})]),["children",we.Children.toArray(Array.from(i))])])))}function _1(e){return e.tag===1?Se(" -> ",he(t=>t.id,bw(e.fields[0]))):Ne(F("0s: %O"))(e.fields[0].fields[0].id)}function NP(e,t){let n,r,s;const i=e.polyGraph.environment,o=X([(n=X([N.createElement("button",{children:"print",onClick:l=>{t(new gt(4,[]))}}),(r=X([N.createElement("input",{value:Ae(le(_1,e.source))}),N.createElement("input",{value:Ae(le(_1,e.target))}),N.createElement("input",{value:Ae(le(_1,e.path))})]),N.createElement("ul",{children:we.Children.toArray(Array.from(r))}))]),N.createElement("div",{children:we.Children.toArray(Array.from(n))})),N.createElement("svg",Qe(X([["width",1e3],["height",1e3],["className",Se(" ",["pointer-events-none"])],(s=A(y(()=>E(S(N.createElement("rect",Qe(A(y(()=>E(S(["width",1e3]),y(()=>E(S(["height",1e3]),y(()=>E(S(["fill","#000000"]),y(()=>pf(e.dragState,new Td(1,[]),l=>{t(new gt(2,[l]))})))))))))))),y(()=>E(oe(l=>DP(l[1],A(y(()=>E(S(["fill","orange"]),y(()=>pf(e.dragState,$P(l[0]),u=>{t(new gt(2,[u]))}))))),i),i.twoCell),y(()=>E(oe(l=>yy(l[1],A(y(()=>E(S(["stroke","white"]),y(()=>E(S(["strokeWidth",1]),y(()=>l[1].data.isSelected?S(["stroke","red"]):Oe())))))),i),i.oneCell),y(()=>E(oe(l=>yy(l[1],A(y(()=>E(S(["strokeWidth",10]),y(()=>pf(e.dragState,wP(l[0]),u=>{t(new gt(2,[u]))}))))),i),i.oneCell),y(()=>oe(l=>PP(l[1],A(y(()=>E(S(["r",e.zeroCellR]),y(()=>E(S(["fill","white"]),y(()=>E(l[1].data.isSelected?S(["stroke","red"]):Oe(),y(()=>pf(e.dragState,pP(l[0]),u=>{t(new gt(2,[u]))})))))))))),i.zeroCell))))))))))),["children",we.Children.toArray(Array.from(s))])])))]);return N.createElement("div",{children:we.Children.toArray(Array.from(o))})}function VP(e){return X([[P("preventContextMenue"),vw()],[P("keydown"),qm((t,n)=>{switch(t.key){case"p":{n(new gt(4,[]));break}case"s":{n(new gt(1,[new Ln(10,[void 0])]));break}case"t":{n(new gt(1,[new Ln(11,[void 0])]));break}case"f":{n(new gt(1,[new Ln(3,[])]));break}}})]])}function vy(e,t,n,r=s=>s){return e*r(.5-t*(.5-n))}function OP(e){return[-e[0],-e[1]]}function ls(e,t){return[e[0]+t[0],e[1]+t[1]]}function Rr(e,t){return[e[0]-t[0],e[1]-t[1]]}function is(e,t){return[e[0]*t,e[1]*t]}function RP(e,t){return[e[0]/t,e[1]/t]}function $a(e){return[e[1],-e[0]]}function my(e,t){return e[0]*t[0]+e[1]*t[1]}function FP(e,t){return e[0]===t[0]&&e[1]===t[1]}function zP(e){return Math.hypot(e[0],e[1])}function LP(e){return e[0]*e[0]+e[1]*e[1]}function _y(e,t){return LP(Rr(e,t))}function J_(e){return RP(e,zP(e))}function AP(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ga(e,t,n){let r=Math.sin(n),s=Math.cos(n),i=e[0]-t[0],o=e[1]-t[1],l=i*s-o*r,u=i*r+o*s;return[l+t[0],u+t[1]]}function Uh(e,t,n){return ls(e,is(Rr(t,e),n))}function Cy(e,t,n){return ls(e,is(t,n))}var{min:Il,PI:GP}=Math,Sy=.275,ya=GP+1e-4;function BP(e,t={}){let{size:n=16,smoothing:r=.5,thinning:s=.5,simulatePressure:i=!0,easing:o=R=>R,start:l={},end:u={},last:a=!1}=t,{cap:c=!0,easing:f=R=>R*(2-R)}=l,{cap:d=!0,easing:g=R=>--R*R*R+1}=u;if(e.length===0||n<=0)return[];let w=e[e.length-1].runningLength,v=l.taper===!1?0:l.taper===!0?Math.max(n,w):l.taper,_=u.taper===!1?0:u.taper===!0?Math.max(n,w):u.taper,p=Math.pow(n*r,2),h=[],$=[],C=e.slice(0,10).reduce((R,I)=>{let Q=I.pressure;if(i){let re=Il(1,I.distance/n),_e=Il(1,1-re);Q=Il(1,R+(_e-R)*(re*Sy))}return(R+Q)/2},e[0].pressure),k=vy(n,s,e[e.length-1].pressure,o),T,D=e[0].vector,V=e[0].point,U=V,O=V,B=U,Z=!1;for(let R=0;R<e.length;R++){let{pressure:I}=e[R],{point:Q,vector:re,distance:_e,runningLength:ye}=e[R];if(R<e.length-1&&w-ye<3)continue;if(s){if(i){let pn=Il(1,_e/n),hr=Il(1,1-pn);I=Il(1,C+(hr-C)*(pn*Sy))}k=vy(n,s,I,o)}else k=n/2;T===void 0&&(T=k);let Ye=ye<v?f(ye/v):1,at=w-ye<_?g((w-ye)/_):1;k=Math.max(.01,k*Math.min(Ye,at));let Mt=(R<e.length-1?e[R+1]:e[R]).vector,mt=R<e.length-1?my(re,Mt):1,hn=my(re,D)<0&&!Z,_n=mt!==null&&mt<0;if(hn||_n){let pn=is($a(D),k);for(let hr=1/13,Wn=0;Wn<=1;Wn+=hr)O=ga(Rr(Q,pn),Q,ya*Wn),h.push(O),B=ga(ls(Q,pn),Q,ya*-Wn),$.push(B);V=O,U=B,_n&&(Z=!0);continue}if(Z=!1,R===e.length-1){let pn=is($a(re),k);h.push(Rr(Q,pn)),$.push(ls(Q,pn));continue}let dr=is($a(Uh(Mt,re,mt)),k);O=Rr(Q,dr),(R<=1||_y(V,O)>p)&&(h.push(O),V=O),B=ls(Q,dr),(R<=1||_y(U,B)>p)&&($.push(B),U=B),C=I,D=re}let j=e[0].point.slice(0,2),ie=e.length>1?e[e.length-1].point.slice(0,2):ls(e[0].point,[1,1]),W=[],te=[];if(e.length===1){if(!(v||_)||a){let R=Cy(j,J_($a(Rr(j,ie))),-(T||k)),I=[];for(let Q=1/13,re=Q;re<=1;re+=Q)I.push(ga(R,j,ya*2*re));return I}}else{if(!(v||_&&e.length===1))if(c)for(let I=1/13,Q=I;Q<=1;Q+=I){let re=ga($[0],j,ya*Q);W.push(re)}else{let I=Rr(h[0],$[0]),Q=is(I,.5),re=is(I,.51);W.push(Rr(j,Q),Rr(j,re),ls(j,re),ls(j,Q))}let R=$a(OP(e[e.length-1].vector));if(_||v&&e.length===1)te.push(ie);else if(d){let I=Cy(ie,R,k);for(let Q=1/29,re=Q;re<1;re+=Q)te.push(ga(I,ie,ya*3*re))}else te.push(ls(ie,is(R,k)),ls(ie,is(R,k*.99)),Rr(ie,is(R,k*.99)),Rr(ie,is(R,k)))}return h.concat(te,$.reverse(),W)}function bP(e,t={}){var n;let{streamline:r=.5,size:s=16,last:i=!1}=t;if(e.length===0)return[];let o=.15+(1-r)*.85,l=Array.isArray(e[0])?e:e.map(({x:g,y:w,pressure:v=.5})=>[g,w,v]);if(l.length===2){let g=l[1];l=l.slice(0,-1);for(let w=1;w<5;w++)l.push(Uh(l[0],g,w/4))}l.length===1&&(l=[...l,[...ls(l[0],[1,1]),...l[0].slice(2)]]);let u=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],a=!1,c=0,f=u[0],d=l.length-1;for(let g=1;g<l.length;g++){let w=i&&g===d?l[g].slice(0,2):Uh(f.point,l[g],o);if(FP(f.point,w))continue;let v=AP(w,f.point);if(c+=v,g<d&&!a){if(c<s)continue;a=!0}f={point:w,pressure:l[g][2]>=0?l[g][2]:.5,vector:J_(Rr(f.point,w)),distance:v,runningLength:c},u.push(f)}return u[0].vector=((n=u[1])==null?void 0:n.vector)||[0,0],u}function UP(e,t={}){return BP(bP(e,t),t)}class jP extends ue{constructor(t,n,r){super(),this.x=t,this.y=n,this.pressure=r}}class Ju extends ue{constructor(t,n,r,s,i,o,l,u,a){super(),this.size=t,this.thinning=n,this.smoothing=r,this.streamline=s,this.easing=i,this.simulatePressure=o,this.start=l,this.end=u,this.last=a}}const HP=UP;function WP(){return new Ju(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function X_(e){return Qt((t,n)=>n(t),WP(),e)}function Y_(e,t){return new Ju(e,t.thinning,t.smoothing,t.streamline,t.easing,t.simulatePressure,t.start,t.end,t.last)}function e2(e,t){return new Ju(t.size,e,t.smoothing,t.streamline,t.easing,t.simulatePressure,t.start,t.end,t.last)}function t2(e,t){return new Ju(t.size,t.thinning,e,t.streamline,t.easing,t.simulatePressure,t.start,t.end,t.last)}function n2(e,t){return new Ju(t.size,t.thinning,t.smoothing,e,t.easing,t.simulatePressure,t.start,t.end,t.last)}function r2(e,t){return new Ju(t.size,t.thinning,t.smoothing,t.streamline,e,t.simulatePressure,t.start,t.end,t.last)}function s2(e){return new jP(e.x,e.y,void 0)}function i2(e,t){return oe(n=>new M(n[0],n[1]),HP(Array.from(oe(n=>n,e)),t))}function Uw(e,t){let n,r,s,i,o;switch(Y(e)||Y(L(e))||Y(L(L(e)))?n=1:(n=0,r=H(e),s=H(L(e)),i=H(L(L(e))),o=L(L(L(e)))),n){case 0:{const u=((a,c)=>{e:for(;;){const f=a,d=c;let g,w,v,_;switch(Y(f)||Y(L(f))?g=1:(g=0,w=H(f),v=H(L(f)),_=L(L(f))),g){case 0:{a=Ee(v,_),c=p=>{let h,$,C;return d(Ct([w,(h=($=w,C=v,new M($.x+C.x,$.y+C.y)),new M(h.x/2,h.y/2))],p))};continue e}default:return d(z())}}})(Ct([s,i],o),a=>a);return A(y(()=>E(S(["M",P(r)]),y(()=>E(S(["Q",u]),y(()=>t?S(["Z",z()]):Oe()))))))}default:return z()}}class ky extends ue{constructor(t){super(),this.path=t}}class o2 extends ue{constructor(t){super(),this.id=t}}class ZP extends ue{constructor(t,n,r,s){super(),this.p0=t,this.p1=n,this.p2=r,this.p3=s}}let bo=class extends ue{constructor(t,n,r,s,i,o,l,u,a){super(),this.paths=t,this.perfectFreehand=n,this.perfectFreehandStroke=r,this.perfectFreehandCubic=s,this.cubicBeziers=i,this.currentId=o|0,this.showPath=l,this.error=u,this.maxIteraions=a|0}},Na=class extends ue{constructor(t,n,r,s){super(),this.oekaki=t,this.previewPath=n,this.redoUndo=r,this.dragState=s}};class Ol extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddPath","ToggleShowPath","ChangeError","ChangeMaxIterations","UpdateCubic","ClearPath"]}}class Ey extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PreviewPath","EndPreview"]}}class fc extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Redo","Undo","Store"]}}let Dn=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragMsg","DragOutMsg","ModelMsg","RedoUndoMsg","KeyboardEventMsg","PreviewMsg"]}};const KP=_w(mw(X([["ctrl z",new Dn(3,[new fc(1,[])])],["ctrl y",new Dn(3,[new fc(0,[0])])]])));function jh(e,t){return he(n=>new ZP(J(0,n),J(1,n),J(2,n),J(3,n)),GM(t.maxIteraions,br(e),t.error))}function l2(e){const t=X_(X([n=>Y_(8,n),n=>e2(.5,n),n=>n2(.5,n),n=>t2(.5,n),n=>r2(r=>r,n)]));return A(i2(oe(s2,e),t))}function qP(e){return Uw(l2(e),!0)}function QP(e,t){const n=new o2(io(t.currentId)),r=l2(e.path),s=jh(r,t),i=Uw(r,!0),o=Dt(n,e,t.paths),l=Dt(n,jh(e.path,t),t.cubicBeziers),u=Dt(n,r,t.perfectFreehand),a=Dt(n,s,t.perfectFreehandCubic);return new bo(o,u,Dt(n,i,t.perfectFreehandStroke),a,l,t.currentId+1,t.showPath,t.error,t.maxIteraions)}function JP(e){return new bo(e.paths,e.perfectFreehand,e.perfectFreehandStroke,e.perfectFreehandCubic,Ws((t,n)=>jh(n.path,e),e.paths),e.currentId,e.showPath,e.error,e.maxIteraions)}function XP(){let e;const t=At({Compare:Te}),n=At({Compare:Te}),r=At({Compare:Te}),s=At({Compare:Te});return e=new bo(t,r,At({Compare:Te}),s,n,0,!0,10,15),[new Na(e,void 0,c_(e),void 0),ne()]}function YP(e,t){let n;switch(e.tag){case 1:return[new bo(t.paths,t.perfectFreehand,t.perfectFreehandStroke,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,!t.showPath,t.error,t.maxIteraions),ne()];case 2:return[new bo(t.paths,t.perfectFreehand,t.perfectFreehandStroke,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,t.showPath,e.fields[0],t.maxIteraions),ne()];case 3:return[new bo(t.paths,t.perfectFreehand,t.perfectFreehandStroke,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,t.showPath,t.error,e.fields[0]),ne()];case 4:return[JP(t),ne()];case 5:return[(n=At({Compare:Te}),new bo(At({Compare:Te}),t.perfectFreehand,n,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,t.showPath,t.error,t.maxIteraions)),ne()];default:return[QP(e.fields[0],t),ne()]}}function eD(e,t){return e.tag===1?[void 0,ne()]:[qP(e.fields[0].path),ne()]}function tD(e,t){switch(e.tag){case 1:return Cd(t);case 2:return vh(e.fields[0],t);default:return Iw(e.fields[0],t)}}function nD(e,t){switch(e.tag){case 2:return X([new Dn(5,[new Ey(1,[])]),new Dn(2,[new Ol(0,[new ky(A(oe(n=>n.position,e.fields[0].all)))])])]);case 1:return P(new Dn(5,[new Ey(0,[new ky(A(oe(n=>n.position,e.fields[0].all)))])]));default:return z()}}function rD(e,t){switch(e.tag){case 1:return[t,tn(he(n=>P(r=>{r(n)}),nD(e.fields[0])))];case 2:{const n=YP(e.fields[0],t.oekaki),r=n[0];return[new Na(r,t.previewPath,t.redoUndo,t.dragState),tn(X([P(s=>{s(new Dn(3,[new fc(2,[r])]))}),n[1]]))]}case 5:{const n=eD(e.fields[0]);return[new Na(t.oekaki,n[0],t.redoUndo,t.dragState),n[1]]}case 3:{const n=e.fields[0];Me(F("%O"))(n);const r=tD(n,t.redoUndo);if(r!=null){const s=r;return[new Na(s.current,t.previewPath,s,t.dragState),ne()]}else return[t,ne()]}case 4:return[t,tn(oe(n=>P(r=>{r(n)}),dh(KP,e.fields[0])))];default:{const n=vd(e.fields[0],t.dragState);return[new Na(t.oekaki,t.previewPath,t.redoUndo,n[0]),tn(he(r=>P(s=>{s(new Dn(1,[r]))}),n[1]))]}}}function xy(e){return he(t=>[t[0],he(yd,t[1])],e)}function sD(e,t){const n=e.oekaki,r=A(y(()=>E(S(N.createElement("button",{children:"*",onClick:s=>{t(new Dn(2,[new Ol(1,[])]))}})),y(()=>E(S(N.createElement("button",{children:"clear",onClick:s=>{t(new Dn(2,[new Ol(5,[])]))}})),y(()=>E(S(N.createElement("span",{children:"maxIterations:"})),y(()=>E(S(N.createElement("input",{type:"number",value:n.maxIteraions,onChange:s=>{const i=s.target.valueAsNumber;i!=null&&!Number.isNaN(i)&&t(new Dn(2,[new Ol(3,[d0(i)])]))}})),y(()=>E(S(N.createElement("span",{children:"error:"})),y(()=>E(S(N.createElement("input",{type:"number",value:n.error,onChange:s=>{const i=s.target.valueAsNumber;i!=null&&!Number.isNaN(i)&&t(new Dn(2,[new Ol(2,[d0(i)])]))}})),y(()=>E(S(N.createElement("button",{children:"update",onClick:s=>{t(new Dn(2,[new Ol(4,[])]))}})),y(()=>E(S(N.createElement("button",{children:"undo",onClick:s=>{t(new Dn(3,[new fc(1,[])]))}})),y(()=>E(dt(s=>{const i=s[0]|0;return S(N.createElement("button",{children:`undo ${i}`,onClick:o=>{t(new Dn(3,[new fc(0,[i])]))}}))},oc(a_(e.redoUndo.redoData))),y(()=>{let s;return S(N.createElement("svg",Qe(X([["width",1e3],["height",1e3],["className",Se(" ",["pointer-events-none"])],(s=A(y(()=>E(S(N.createElement("rect",Qe(A(y(()=>E(S(["width",1e3]),y(()=>E(S(["height",1e3]),y(()=>E(S(["fill","black"]),y(()=>zl(e.dragState,void 0,i=>{t(new Dn(0,[i]))})))))))))))),y(()=>E(dt(i=>S(N.createElement("path",{d:sl(xy(i[1])),stroke:"none",fill:"white"})),n.perfectFreehandStroke),y(()=>{const i=e.previewPath;return i!=null?S(N.createElement("path",{d:sl(xy(i)),stroke:"none",fill:"white"})):Oe()})))))),["children",we.Children.toArray(Array.from(s))])]))))}))))))))))))))))))));return N.createElement("div",{children:we.Children.toArray(Array.from(r))})}function iD(e){return P([P("keydown"),qm((t,n)=>{n(new Dn(4,[t]))})])}class oD extends ue{constructor(t,n){super(),this.path=t,this.cached=n}}const lD=X_(X([e=>Y_(8,e),e=>e2(.5,e),e=>n2(.5,e),e=>t2(.5,e),e=>r2(t=>t,e)]));function uD(e){return A(i2(oe(s2,e),lD))}function aD(e){return Uw(uD(e),!0)}function cD(e){return new oD(e,aD(e.pathData))}class fD extends ue{constructor(t){super(),this.pathMap=t}}class dD extends ue{constructor(t,n,r,s){super(),this.data=t,this.id=n,this.pos=r,this.size=s}}class hD extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["OekakiTarget","CurrentTarget"]}}class pD extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["EditOekaki","DefaultMode"]}}let Hh=class extends ue{constructor(t,n,r){super(),this.oekakiMap=t,this.mode=n,this.dragState=r}},u2=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["OekakiMsg","DragMsg","DragOutMsg"]}};function wD(){return[new Hh(At({Compare:Te}),new pD(1,[]),void 0),ne()]}function $D(e,t){return new fD(Dt(new o2(NM()),cD(e.fields[0]),t.pathMap))}function gD(e,t){return new dD($D(e.fields[0],t.data),t.id,t.pos,t.size)}function yD(e,t){switch(e.tag){case 0:return[new Hh(xr(e.fields[0][0],n=>le(r=>gD(e.fields[0][1],r),n),t.oekakiMap),t.mode,t.dragState),ne()];case 2:return[t,ne()];default:{const n=vd(e.fields[0],t.dragState);return[new Hh(t.oekakiMap,t.mode,n[0]),Sn(r=>new u2(2,[r]),tn(oe(r=>P(s=>{s(r)}),n[1])))]}}}function vD(e){return N.createElement("path",{d:sl(oe(t=>[t[0],he(yd,t[1])],e.cached))})}function mD(e){return A(y(()=>dt(t=>S(vD(t[1])),$i(e.pathMap))))}function _D(e,t){let n,r;return N.createElement("svg",Qe(X([["width",1e3],["height",1e3],(n=X([N.createElement("rect",Qe(A(y(()=>E(zl(e.dragState,new hD(1,[]),s=>{t(new u2(1,[s]))}),y(()=>E(S(["width",1e3]),y(()=>E(S(["height",1e3]),y(()=>E(S(["stroke","green"]),y(()=>S(["fill","white"]))))))))))))),N.createElement("g",Qe(X([["className",Se(" ",["pointer-events-none"])],(r=A(y(()=>dt(s=>{let i;return S(N.createElement("g",Qe(P((i=A(y(()=>mD(s[1].data))),["children",we.Children.toArray(Array.from(i))])))))},$i(e.oekakiMap)))),["children",we.Children.toArray(Array.from(r))])])))]),["children",we.Children.toArray(Array.from(n))])])))}class m extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Success","Failure"]}}class K extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["Parser"]}}class au extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Tree","Empty"]}}function ol(e,t,n,r){return new au(0,[[[e,n[1]],t]])}function Pu(e,t,n,r){return ol(e,P(t),r[0],r[1])}function CD(e,t){return e.fields[0]([t,void 0])}function x(e,t,n){return e.fields[0]([t,n])}function jw(e,t,n,r,s){const i=[r,s];return new m(1,[[ol(e,t,i[0],i[1]),n,i]])}function mi(e,t,n,r){const s=[n,r];return jw(e,z(),t,s[0],s[1])}function SD(e,t){return new m(1,[[new au(1,[]),e,t]])}class a2 extends ue{constructor(t,n,r,s,i){super(),this.next=t,this.pos=n,this.length=r,this.skip=s,this.take=i}}function kD(e){return[[e,0],new a2(t=>{const n=t[0],r=t[1]|0;return n.length>r?[n[r],[n,r+1]]:void 0},t=>t[1],t=>t[0].length,(t,n)=>[n[0],n[1]+t],(t,n)=>{const r=n[0],s=n[1]|0;return r.length>s+t-1?[r.slice(s,s+t-1+1),[r,s+t]]:void 0})]}function Xu(e){return[[e,0],new a2(t=>{const n=t[0],r=t[1]|0;return n.length>r?[J(r,n),[n,r+1]]:void 0},t=>t[1],t=>t[0].length,(t,n)=>[n[0],n[1]+t],(t,n)=>{const r=n[0],s=n[1]|0;return r.length>s+t-1?[r.slice(s,s+t-1+1),[r,s+t]]:void 0})]}function Id(e,t){return new K(n=>{const r=n[1],s=(i=>{const o=i[0],l=i[1],u=l.next(o);if(u!=null){const a=u[1],c=u[0];return t(c)?new m(0,[[c,void 0,[a,l]]]):mi(e,void 0,o,l)}else return mi("eof",void 0,o,l)})(n[0]);return s.tag===1?new m(1,[[s.fields[0][0],r,s.fields[0][2]]]):new m(0,[[s.fields[0][0],r,s.fields[0][2]]])})}function Hw(e){return new K(t=>{const n=t[1],r=(s=>{const i=s[0],o=s[1],l=o.next(i);if(l!=null){const u=l[1],a=l[0];return e(a)?new m(0,[[a,void 0,[u,o]]]):mi("pcharf",void 0,i,o)}else return mi("eof",void 0,i,o)})(t[0]);return r.tag===1?new m(1,[[r.fields[0][0],n,r.fields[0][2]]]):new m(0,[[r.fields[0][0],n,r.fields[0][2]]])})}function c2(e){return new K(t=>{const n=t[1],r=(s=>{const i=s[0],o=s[1],l=o.next(i);if(l!=null){const u=l[1],a=e(l[0]);return a==null?mi("choose",void 0,i,o):new m(0,[[b(a),void 0,[u,o]]])}else return mi("eof",void 0,i,o)})(t[0]);return r.tag===1?new m(1,[[r.fields[0][0],n,r.fields[0][2]]]):new m(0,[[r.fields[0][0],n,r.fields[0][2]]])})}function ED(e,t){return new K(n=>{const r=n[1],s=(i=>{const o=i[0],l=i[1],u=l.take(e,o);if(u!=null){const a=u[1],c=u[0];return t(c)?new m(0,[[c,void 0,[a,l]]]):mi("pcharsfn",void 0,o,l)}else return SD(void 0,[o,l])})(n[0]);return s.tag===1?new m(1,[[s.fields[0][0],r,s.fields[0][2]]]):new m(0,[[s.fields[0][0],r,s.fields[0][2]]])})}function Ww(){return new K(e=>{const t=e[1],n=(r=>{const s=r[0],i=r[1];return i.next(s)==null?new m(0,[[void 0,void 0,[s,i]]]):mi("here is not eof",void 0,s,i)})(e[0]);return n.tag===1?new m(1,[[n.fields[0][0],t,n.fields[0][2]]]):new m(0,[[n.fields[0][0],t,n.fields[0][2]]])})}function Le(e){return Id(`char: ${e}`,t=>ee(e,t))}function Cr(e){return ED(e.length,t=>e===t)}function Zw(){return Id("anyChar",e=>!0)}function xD(e){return Id(`any of ${e}`,t=>XE(t,e,{Equals:ee,GetHashCode:kn}))}function f2(e,t){return CD(e,kD(t))}function ll(e,t){return new K(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new m(1,[[r.fields[0][0],r.fields[0][1],r.fields[0][2]]]);{const s=r.fields[0][0];return new m(0,[[s,e(s,r.fields[0][1]),r.fields[0][2]]])}})}function MD(e,t){return new K(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new m(1,[[r.fields[0][0],r.fields[0][1],r.fields[0][2]]]);{const s=r.fields[0][2],i=r.fields[0][0],o=r.fields[0][1];return e(i,o)?new m(0,[[i,o,s]]):mi("userState not satisfies",o,s[0],s[1])}})}function TD(e){return new K(t=>{const n=x(e,t[0],t[1]);if(n.tag===1)return new m(1,[[n.fields[0][0],n.fields[0][1],n.fields[0][2]]]);{const r=n.fields[0][1];return new m(0,[[[n.fields[0][0],r],r,n.fields[0][2]]])}})}function d2(e){return new K(t=>{const n=x(e,t[0],t[1]);return n.tag===1?new m(0,[[void 0,n.fields[0][1],n.fields[0][2]]]):new m(0,[[ut(n.fields[0][0]),n.fields[0][1],n.fields[0][2]]])})}function gn(e){const t=(n,r)=>{e:for(;;){const s=n,i=r,o=s[0],l=s[1],u=x(e,o,l);if(u.tag===1)return new m(0,[[i(z()),l,o]]);n=[u.fields[0][2],u.fields[0][1]],r=a=>i(Ee(u.fields[0][0],a));continue e}};return new K(n=>t(n,r=>r))}function Du(e){const t=(n,r)=>{e:for(;;){const s=n,i=r,o=s[0],l=s[1],u=x(e,o,l);if(u.tag===1)return new m(0,[[i(z()),l,o]]);n=[u.fields[0][2],u.fields[0][1]],r=a=>i(Ee(u.fields[0][0],a));continue e}};return new K(n=>{const r=x(e,n[0],n[1]);if(r.tag===1){const s=r.fields[0][2];return jw("some",P(r.fields[0][0]),r.fields[0][1],s[0],s[1])}else return t([r.fields[0][2],r.fields[0][1]],s=>Ee(r.fields[0][0],s))})}function ve(e,t){return new K(n=>{const r=x(t,n[0],n[1]);return r.tag===1?new m(1,[r.fields[0]]):new m(0,[[e(r.fields[0][0]),r.fields[0][1],r.fields[0][2]]])})}function _i(e,t){return new K(n=>{const r=x(t,n[0],n[1]);if(r.tag===1){const s=r.fields[0][2],i=r.fields[0][1];return new m(1,[[e([r.fields[0][0],i,s]),i,s]])}else return new m(0,[r.fields[0]])})}function h2(e,t){return _i(n=>Pu(e,n[0],n[1],n[2]),t)}function qf(){return new K(e=>new m(0,[[void 0,e[1],e[0]]]))}function ii(e){return new K(t=>new m(0,[[e,t[1],t[0]]]))}function Nu(){return new K(e=>new m(1,[[new au(1,[]),e[1],e[0]]]))}function Ai(e,t){return new K(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=[r.fields[0][2],r.fields[0][1]];return x(e(r.fields[0][0]),s[0],s[1])}})}function ID(e){return new K(t=>{const n=t[0],r=t[1],s=x(e,n,r);return s.tag===1?new m(1,[[s.fields[0][0],r,n]]):new m(0,[[s.fields[0][0],s.fields[0][1],s.fields[0][2]]])})}function qt(e,t){return new K(n=>{const r=n[0],s=n[1];return((o,l)=>{e:for(;;){const u=o,a=l;if(Y(u))return jw(e,a(z()),s,r[0],r[1]);{const c=x(H(u),r,s);if(c.tag===1){o=L(u),l=f=>a(Ee(c.fields[0][0],f));continue e}else return new m(0,[c.fields[0]])}}})(t,o=>o)})}function Zs(e){return qt("choice",e)}function Pd(){const e=new di(new K(t=>{throw new Error("")}));return[new K(t=>x(e.contents,t[0],t[1])),e]}const PD="#C$&$&$$$$$$%-%&%=$$$$$$=$$$$D$$'$$$$$$$$$$$$%$$%$$$$&$:$*;$+$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%$$$$$$$$$$$$$$$%$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%$$$$&%$$$%$&%'$%$&&%$%$$$$$%$$%$$%$&$$$%%$$&'$$$$$$$$$$$$$$$$$$$$$$$$%$$$$$$$$$$$$$$$$$%$$$$$&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$*%$%%$$'$$$$$$$$h$>5'/1(*$$$4$$$$$$$$%$&$$'%$$&$$$%$4$,F$%&&$$$$$$$$$$$$$$$$$$$$$$$($$$$$%%VS$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$(%$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%$$$$$$$$$$$$%$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$I%$)L$$%%$$P$$$%$%$$+>''%.)&%$%%.$$$%C$-8-'%$$$*$$)%%$'%-&%$1$$$$A>%|.$1-D,%$&$%$%9'$,$&$(%2$<&%$$.X8$5.2$C$Y$$$$&+'$%$*-%%-$$2$%$+%%%9$*$$&'%$$&'%%%%$$+$'%$&%%-%%)$$$$$%%$$)'%%9$*$%$%$%%$$&%'%%&&$*'$$*-%&$$-%$$,$&$9$*$%$(%$$&($%$$%$%$2%%%-$$*$)$$%$+%%%9$*$%$(%$$$$$'%%%%$*%$'%$&%%-$$)-$$$)&&$'&%$$$%&%&&&/'%$%&&$&$%$)$1-&)$$($&$+$&$:$3&$&'$&$'*%$&(%%%-*$*$$$%$+$&$:$-$(%$$$$($$%$%%*%*$$%%%-$%0%%,$&$L%$&'$&$&$$$'&$*&%%-,$)$$%$5&;$,$$%*&$'&&$$$+)-%%$/S$%*'$)$+$-%H%$$$($;$$$-$%,$%($$$)%-%'C$&2$$&%)--$$$$$$$$$$%+$G'1$($%(.$G$+$)$%('%HN%'$)$%%%$-))%%'&$&%*&'0$%%)$$$-&$%I$$($%N$$&$'%*$$$'%L$'%D$'%*$$$'%2$\\$'%f%&,7&3-)y%)%$$$4$=$$&n&&+*0$'&.5&%,5%/0$&$%/W%$*+$%.&$&$$$%-)-))$'&$$-)F$X*(%E$$(i-B$&'%&'%$)&'$&%-A%(.O'=)-$&E:%%$%%X$$$*$$$$%+)-%$-)-)*$)%1$%b'$R$$($$($%*'-*-,,&%$A$'%%$&%-O$$%&$$&%+'G++%%&(-&&-A)%,*N%&++&$0$*'$)$%$%$(Ob0$EH]$($$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$,$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$,+)%)%++++)%)%+$$$$$$$$++1%++++++($%'$$$&&$%'$&'%%'$&+(&%&$%'$%$.()%$$$%$$$+$$($,$$'%&$$$.$$$-$($-$$%)&$$$-&$$$0&C30'$&/2%$'$%$&%&$$$%$()$$$$$$'$$'$'$%%%($'$$%$$3F$$'$%'((%'$%$%$*$B%%$$$B+$$$$7%*$$t$A<K)h<.8_q9$,$Y+$$$$$$$$$$$$$$$AO($$B$$$$$$$$$$3$$$$$$$$$$$$$$$$$$$$$$b$$$$C$$S8%)J%C$R$R$$$&%$$$$$$'$$%$)%&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%)$$$$&$$('$%I$$($%[*$$1$:,*$*$*$*$*$*$*$*$C%$$$$&$$$$$,$%$$$$%$$$$$$$$$$($-%'$$$0%$P=$|/=/'$&$$$$$$$$$$$$$$%$$$$$$$$$$%$,'%$(%&$$$%$y%%%%$$}$&$(N$$%'-CG/3B$-A+$2C-J2c&8$&Z,K)%$&3-%7$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&$-$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%%i-%)+:,%$$$$$$$$$$$$$&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$+$$$$%$$$$$$$$$$%$$$$$$$$&$$$$$$$$$$$$$$$$$$$$($($$$$$$$$$$$%$$'$$$M$$$%$*$&$'$:%%$'$&)%$$)W'+%U3%+%-)5)&$$%$-?+%:.%.$@&&$R$%'%%&0$$-'%($$,-($L)%%%%,&$+$$%-%'3$)&$$$$U$$&%%(%$$$;%$%.$%%%$%$$-)%)%),*$*$N$',$%'sF%$%$%$$$%-)/:'T'%I*/(($$-$0$($$$%$%$34$$3c%YK/$$%3*$$$)3$%%$$$$$$$$$$$$$$$$%$$'&&$'$$$$$$$&$$&$$$%'($%$$&$&$$$$$$%-%&%=$$$$$$=$$$$$$$$$%-$P%B&)%)%)%&&%$$$%$$'%-&%%/$=$6$%$2%1E(&'P&,X'4%&$0&$RP$@&T2$>'C',7$+$(I((A$$G'+$(MKKq%-)G'G'K+W.$,9-+)%$$O$%&$%:$$+:%*B+,S6$%((9)&$=($c['%%3%Q$&$%(''$&$@%&'$,*,*@%$@&C+$?%'(*,Y&*9%+6(+5*'/*slZV0V*)G'+-B$M$%$%%q@-$+9.'(y8*7:,$$$X2*'7-2&$P&'%%%$'.$%<*-)&G($+$-'$%$+F$%$,%$S&,%'''$$$-$$$&$7.5$<&&%$$%)$d*$$$'$2$-$)R$&+(-)%%$+%%%9$*$%$($%$%$'%%%&%$)$((%%*&(X&+%&$$'(-%$$$&AS&)$$'%$%%$$+-R&'%'%$%:'%ES&+%$$%&$.-)06N$$$%)$$$*-Y>%&%'$('-%&$O&,$%$CC-,/+%$%+$%$;)$%%%$$$$$$$&,-i+%J&'%%'$$$$$>$-K)$$'+$+$)%&Q0$%&$(@\\,$H$*$)$$$(--6&%A%9$$*$%$%l*$%$I)&$$%$*$$+-))$%$C($%$%$$$$*-6%%%$28+'40$$(.$,*B$-'%A%($-S*(''$$--$*$8(6CC:'n'$$Z*'0c%$$$.%1+M,T&4'+(0&,*-%$%$'-J%_%&&)++%*A'^:e&$7/z,<===*$5==$$%%$%%%'$+'$$$*$.==%$'%+$*$=%$'$($$&*$============?%<$<$)<$<$)<$<$)<$<$)<$<$)$$%UZ'U+$1$%(2($2*$4%*$%$(P&**%-'$$O'-($%,*LEE*$'-'%^$&$'oP$2'$>$%$$%$$-$'$$$$)$'$$$$$$&$%$$%$$$$$$$$$$%$$%'$*$'$'$$$-$4(&$($4W%O'/2%2$2$H-0[@0O',*%1)(+0&0&/|*/7/'[+-)K+A%%q$u$/1%(&&(*,<**,&0*L$ZH-E.%1$A%",DD="1.;=;78;<;6;+;<;#7;8>5>$7<8<1.;=?;>?'9<2?>?<->$;>-':-;#<#$<$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$'#$'#%$#%$#%$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#%$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$'$&>&>&>&>&>(#$#$&>#$@&$;#@>#;#@#@#$#@#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$<#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$?(*#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$@#@&;$;6@?=@(6(;(;(;(@'@';@2<;=;?(;2@;'&'(+;'(';'(2?(&(?('+'?';@2'('(@'('@+'(&?;&@(='(&(&(&(@;@'(@;@'@'@'@(2()'()(')()()'('(;+;&'()@'@'@'@'@'@'@(')(@)@)('@)@'@'(@+'=-?=';(@()@'@'@'@'@'@'@'@(@)(@(@(@(@'@'@+('(;@()@'@'@'@'@'@'@(')(@()@)(@'@'(@+;=@'(@()@'@'@'@'@'@'@(')()(@)@)(@()@'@'(@+?'-@('@'@'@'@'@'@'@'@'@'@)()@)@)(@'@)@+-?=?@()('@'@'@'@'()@(@(@(@'@'(@+@;-?'();'@'@'@'@'@(')()@()@)(@)@'@'(@+@'@()'@'@'(')(@)@)('?@')-'(@+-?'@()@'@'@'@'@'@(@)(@(@)@+@);@'('(@='&(;+;@'@'@'@'@'@'('('@'@&@(@+@'@'?;?;?(?+-?(?(?(7878)'@'@()(;('(@(@?(?@?;?;@')()()()('+;')('(')')'('()()(')+)(?#@#@#@$;&$'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@(;-@'?@#@$@6'?;'.'78@';,'@'@'(@'(;@'(@'@'@(@'()()()(;&;='(@+@-@;6;(2@+@'&'@'('('@'@'@()()@)()(@?@;+'@'@'@'@+-@?'()(@;')()(@()()()(@(+@+@;&;@(*(@()'()()()()'@+;?(?@()')()()('+'()()()()@;')()(@;+@'+'&;$@#@#;@(;()('('(')('@$&$&$&(@(#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$@#@$#$#$@#@$@#@#@#@#$#$@$%$%$%$@$#%>$>$@$#%>$@$#@>$#>@$@$#%>@.26;9:79:79;/02.;9:;5;<78;<;5;.2@2-&@-<78&-<78@&@=@(*(*(@?#?#?$#$#$?#?<#?#?#?#?#?$#$'$?$#<#$?<?$?-,#$,-?@<?<?<?<?<?<?<?<?<?<?7878?<?78?<?<?<?@?@-?-?<?<?<?<?78787878787878-?<78<7878787878<?<7878787878787878787878<7878<78<?<?<?@?@?#@$@#$#$#$#$#$#$#$#$&#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$?#$#$(#$@;-;$@$@$@'@&;@('@'@'@'@'@'@'@'@'@(;9:9:;9:;9:;6;6;9:;9:78787878;&;6;6;7;?;@?@?@?@?@.;?&',7878787878?78787878678?,()6&?,&';?@'@(>&'6';&'@'@'@?-?'?@'?@-?-?-?-?-?'?'@'&'@?@'&;'&;'+'@#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$'(*;(;&#$#$#$#$#$#$#$#$#$#$#$#$#$#$&(',(;@>&>#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$&$#$#$#$#$#$#$#$&>#$#$'#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$@#$#$#$@#$'&$'('('(')()?(@-?=?@';@)')(@;+@(';';'(+'(;'()@;'@()'()()();@&+@;'(&'+'@'()()(@'('()@+@;'&'?')()'('('('('('@'&;')();'&)(@'@'@'@'@'@$>&$&>@$')()();)(@+@'@'@'@34'@'@$@$@'('<'@'@'@'@'@'>@'87@'@'@'=?@(;78;@(;657878787878787878;78;5;@;6787878;<6<@;=;@'@'@2@;=;78;<;6;+;<;#7;8>5>$7<8<78;78;'&'&'@'@'@'@'@=<>?=@?<?@2?@'@'@'@'@'@'@'@;@-@?,-?-?@?@?@?(@'@'@(-@'-@',',@'(@'@;'@';,@#$'@+@#@$@'@'@;@'@'@'@'@'@'@'@'@'@;-'?-'@-@'@'@-'-@;'@;@'@-'-@-'(@(@('@'@'@(@(-@;@'-;'-@'?'(@-;@'@;'@-'@-'@;@-@'@#@$@-'(@+@-@'@(6@'@'-'@'(-;@'-@'@)()'(;@-+@()')()(;2;@2@'@+@('()(@+;')'@'(;'@()')()';(;)(+';';@-@'@')()()(;(@'@'@'@'@';@'()(@+@()@'@'@'@'@'@'@(')()@)@)@'@)@')@(@(@')()()(';+;@;('@')()()()(';'@+@')(@)()(;'(@')()()(;'@+@;@'()()()('@+@'@()()(@+-;?@')()(;@#$+-@'@'@'@'@')@)@()(')')(;@+@'@')(@()(';')@'('()'(;(@'()('()(;';@'@'@')(@()(';@+-@;'@(@)()()(@'@'@'(@(@(@('(@+@'@'@')@(@)()('@+@'();@'@-?=?@;'@,@;@'@'@2@'@'@'@+@;@'@(;@'(;?&;?@+@-@'@'@#$-;@'@(')@(&@&;&(@)@'@'@'@'@'@'@'@'@'@'@'@?(;2@?@?@?)(?)2(?(?(?@?(?@-@?@-@#$#$@$#$#@#@#@#@#@#$@$@$@$#$#@#@#@#@$#@#@#@#@#@$#$#$#$#$#$#$@#<$<$#<$<$#<$<$#<$<$#<$<$#$@+?(?(?(?(?;@(@(@(@(@(@(@(@'@(&@+@'?@'(+@=@'@-(@#$(&@+@;@-?-=-@-?-@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@<@?@?@?@?@?@?@-?@?@?@?@?@?@?>?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@+@'@'@'@'@'@'@'@2@2@(@4@4@";function ND(){const t=[...PD].map(i=>(i.codePointAt(0)??0)-35),n=[...DD].map(i=>(i.codePointAt(0)??0)-35),r=new Uint32Array(t),s=new Uint8Array(n);for(let i=1;i<r.length;++i)r[i]+=r[i-1];return i=>{let o=r.length,l=0;for(;o-l>1;){const u=Math.floor((o+l)/2),a=r[u];if(i<a)o=u;else if(i===a){o=l=u;break}else a<i&&(l=u)}return s[l]}}const VD=14336,OD=ND();function p2(e,t){if(t>=0&&t<e.length)return e.charCodeAt(t);throw new Error("Index out of range.")}const Dd=e=>FD(e,0);function RD(e,t){const n=p2(e,t);return OD(n)}function FD(e,t){if(1<<RD(e,t)&VD)return!0;const r=p2(e,t);return 9<=r&&r<=13||r===133||r===160}class zD extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["VarS"]}}class LD extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["TypeName"]}}class Wh extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["TypeVariable","Function"]}toString(){const t=this;if(t.tag===1){const n=t.fields[0][1],r=t.fields[0][0];return r.tag===0?`${r} -> ${n}`:`(${r}) -> ${n}`}else return t.fields[0].fields[0].fields[0]}}class AD extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["TVar"]}}class My extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["VarName","VarAndType"]}toString(){const t=this;return t.tag===1?`${t.fields[0].fields[0][0].fields[0]} : ${t.fields[0].fields[0][1]}`:t.fields[0].fields[0]}}class Qo extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Var","Lambda","Apply","Let"]}toString(){const t=this,n=(r,s)=>{switch(s.tag){case 1:return`\\${s.fields[0][0]} -> ${s.fields[0][1]}`;case 2:{const i=s.fields[0][1],o=s.fields[0][0],l=i.tag===0?Ae(i):Ne(F("(%O)"))(i),u=o.tag===1?Ne(F("(%O)"))(o):Ae(o);return Ne(F("%O %O"))(u)(l)}case 3:return`let ${s.fields[0][0]} =
`+eg(r+1,"  ")+n(r+1,s.fields[0][1])+`
`+eg(r,"  ")+n(r,s.fields[0][2]);default:return Ae(s.fields[0])}};return n(0,t)}}function w2(){return Hw(Dd)}const GD=wi(X(["","(",")","-","=",":","\\",";"]),{Compare:cn});function BD(){return _i(e=>{let t;const n=e[0],r=e[2],s=r[0][0],i=r[0][1]|0,o=r[1];try{return ol((t=s[i],Ne(F("%O is not allowed for var name"))(t)),P(n),[s,i],o)}catch{return ol("eof is not allowed for var name",P(n),[s,i])}},Hw(e=>!(Dd(e)||qr(e,GD))))}function bD(){return _i(e=>{const t=e[0],n=e[2];return ol(Ne(F("%O"))(t),P(t),n[0],n[1])},ve(e=>{let t;return new zD((t=br(e),t.join("")))},Du(BD())))}function UD(){let e,t;return Zs(X([(e=Cr("lambda"),t=Du(w2()),new K(n=>{const r=x(e,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=x(t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new m(1,[s.fields[0]]):new m(0,[[r.fields[0][0],s.fields[0][1],s.fields[0][2]]])}})),Cr(""),Cr("\\")]))}function jD(){let e,t;return Du((e=Cr("let"),t=w2(),new K(n=>{const r=x(e,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=x(t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new m(1,[s.fields[0]]):new m(0,[[r.fields[0][0],s.fields[0][1],s.fields[0][2]]])}})))}class Xt extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Let","Lambda","OpenKakko","CloseKakko","NewLine","Equal","Arrow","VarName","Colon","Whitespace"]}}function $2(){return Hw(e=>Dd(e)&&e!==`
`&&e!=="\r")}function Vi(){return gn($2())}function HD(){let e,t,n,r,s,i,o,l,u,a,c,f,d,g,w,v;return gn(Zs(X([ve(_=>new Xt(4,[]),Zs(X([Cr(`\r
`),Cr(`
`),Cr("\r")]))),ve(_=>new Xt(9,[]),$2()),ve(_=>new Xt(0,[]),(e=jD(),t=Vi(),new K(_=>{const p=x(e,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(t,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(1,[]),(n=UD(),r=Vi(),new K(_=>{const p=x(n,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(r,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(2,[]),(s=Le("("),i=Vi(),new K(_=>{const p=x(s,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(i,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(3,[]),(o=Le(")"),l=Vi(),new K(_=>{const p=x(o,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(l,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(5,[]),(u=Le("="),a=Vi(),new K(_=>{const p=x(u,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(a,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(6,[]),(c=Cr("->"),f=Vi(),new K(_=>{const p=x(c,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(f,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(8,[]),(d=Cr(":"),g=Vi(),new K(_=>{const p=x(d,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(g,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ve(_=>new Xt(7,[_]),(w=bD(),v=Vi(),new K(_=>{const p=x(w,_[0],_[1]);if(p.tag===1)return new m(1,[p.fields[0]]);{const h=x(v,p.fields[0][2],p.fields[0][1]);return h.tag===1?new m(1,[h.fields[0]]):new m(0,[[p.fields[0][0],h.fields[0][1],h.fields[0][2]]])}})))])))}function g2(e){ci(e,[`
`,`\r
`,`
`],void 0,0);const t=f2(HD(),e);if(t.tag===1){const n=t.fields[0];return et(F("%O"))([n[0],void 0,n[2]])}else return br(t.fields[0][0])}function y2(){return Le(new Xt(2,[]))}function v2(){return Le(new Xt(3,[]))}function Kw(){return c2(e=>e.tag===7?e.fields[0]:void 0)}const m2=Pd(),WD=m2[1],Zh=m2[0];function _2(){return ve(e=>new LD(e),Kw())}function ZD(){let e,t,n,r,s,i;return ve(o=>new Wh(1,[o]),(e=(t=Zs(X([ve(o=>new Wh(0,[o]),_2()),(n=(r=y2(),new K(o=>{const l=x(r,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(Zh,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[u.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),s=v2(),new K(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))])),i=Le(new Xt(6,[])),new K(o=>{const l=x(t,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),new K(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(Zh,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})))}WD.contents=Zs(X([ZD(),ve(e=>new Wh(0,[e]),_2())]));function KD(){let e,t,n;return ve(r=>new AD(r),(e=(t=Kw(),n=Le(new Xt(8,[])),new K(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})),new K(r=>{const s=x(e,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(Zh,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[[s.fields[0][0],i.fields[0][0]],i.fields[0][1],i.fields[0][2]]])}})))}function Nd(){return Zs(X([ve(e=>new My(1,[e]),KD()),ve(e=>new My(0,[e]),Kw())]))}function qD(){return Le(new Xt(6,[]))}function L0(){return Le(new Xt(4,[]))}function Uo(){return Le(new Xt(9,[]))}const C2=Pd(),QD=C2[1],cu=C2[0];function JD(){let e,t;const n=Le(new Xt(1,[])),r=Nd();t=new K(i=>{const o=x(n,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(r,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[l.fields[0][0],l.fields[0][1],l.fields[0][2]]])}});const s=qD();return e=new K(i=>{const o=x(t,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(s,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}}),new K(i=>{const o=x(e,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(cu,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}})}function XD(){let e;const t=y2();e=new K(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(cu,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[i.fields[0][0],i.fields[0][1],i.fields[0][2]]])}});const n=v2();return new K(r=>{const s=x(e,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})}function Ty(){return Zs(X([ve(e=>new Qo(0,[e]),Nd()),XD()]))}function YD(){let e,t,n,r;return ve(s=>Qt((i,o)=>new Qo(2,[[i,o]]),s[0],s[1]),(e=Ty(),t=gn((n=gn(Uo()),r=Ty(),new K(s=>{const i=x(n,s[0],s[1]);if(i.tag===1)return new m(1,[i.fields[0]]);{const o=x(r,i.fields[0][2],i.fields[0][1]);return o.tag===1?new m(1,[o.fields[0]]):new m(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}}))),new K(s=>{const i=x(e,s[0],s[1]);if(i.tag===1)return new m(1,[i.fields[0]]);{const o=x(t,i.fields[0][2],i.fields[0][1]);return o.tag===1?new m(1,[o.fields[0]]):new m(0,[[[i.fields[0][0],o.fields[0][0]],o.fields[0][1],o.fields[0][2]]])}})))}function e5(){let e,t,n,r,s,i,o,l,u,a,c,f,d,g,w,v,_,p;return ve(h=>{const $=h[0];return[$[0],$[1],h[1]]},(e=ve(h=>h[0],ll((h,$)=>Zr(h[1]),(t=(n=(r=(s=(i=Le(new Xt(0,[])),o=Nd(),new K(h=>{const $=x(i,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(o,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})),l=Le(new Xt(5,[])),new K(h=>{const $=x(s,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(l,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[$.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})),u=Zs(X([cu,(a=ll((h,$)=>Zr(h),MD((h,$)=>Zr(h)>$,(c=Du((f=gn(Uo()),d=L0(),new K(h=>{const $=x(f,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(d,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}}))),g=gn(Uo()),new K(h=>{const $=x(c,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(g,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})))),new K(h=>{const $=x(a,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(cu,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}}))])),new K(h=>{const $=x(r,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(u,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[[$.fields[0][0],C.fields[0][0]],C.fields[0][1],C.fields[0][2]]])}})),w=Du((v=gn(Uo()),_=L0(),new K(h=>{const $=x(v,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(_,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}}))),new K(h=>{const $=x(n,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(w,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[$.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})),p=gn(Uo()),new K(h=>{const $=x(t,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(p,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[[$.fields[0][0],C.fields[0][0]],C.fields[0][1],C.fields[0][2]]])}})))),new K(h=>{const $=x(e,h[0],h[1]);if($.tag===1)return new m(1,[$.fields[0]]);{const C=x(cu,$.fields[0][2],$.fields[0][1]);return C.tag===1?new m(1,[C.fields[0]]):new m(0,[[[$.fields[0][0],C.fields[0][0]],C.fields[0][1],C.fields[0][2]]])}})))}QD.contents=(()=>{let e,t;const n=gn((e=gn(Uo()),t=L0(),new K(s=>{const i=x(e,s[0],s[1]);if(i.tag===1)return new m(1,[i.fields[0]]);{const o=x(t,i.fields[0][2],i.fields[0][1]);return o.tag===1?new m(1,[o.fields[0]]):new m(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}}))),r=Zs(X([ve(s=>new Qo(3,[s]),e5()),YD(),ve(s=>new Qo(1,[s]),JD()),ve(s=>new Qo(0,[s]),Nd())]));return new K(s=>{const i=x(n,s[0],s[1]);if(i.tag===1)return new m(1,[i.fields[0]]);{const o=x(r,i.fields[0][2],i.fields[0][1]);return o.tag===1?new m(1,[o.fields[0]]):new m(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}})})();function t5(){const e=gn(Zs(X([Uo(),L0()])));return new K(t=>{const n=x(e,t[0],t[1]);if(n.tag===1)return new m(1,[n.fields[0]]);{const r=x(cu,n.fields[0][2],n.fields[0][1]);return r.tag===1?new m(1,[r.fields[0]]):new m(0,[[r.fields[0][0],r.fields[0][1],r.fields[0][2]]])}})}function S2(e){let t,n;return x((t=t5(),n=Ww(),new K(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})),Xu(e),0)}class k2 extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["Env"]}}let Va=class extends ue{constructor(t,n,r){super(),this.env=t,this.stack=n,this.term=r}};class Pl extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Terminal","Continue"]}}function Iy(e){return e.tag===1?e.fields[0].fields[0][0]:e.fields[0]}function n5(e){const t=e.term;switch(t.tag){case 1:{const n=Iy(t.fields[0][0]),r=e.stack;return Y(r)?new Pl(0,[]):new Pl(1,[new Va(new k2(Dt(n,H(r),e.env.fields[0])),L(r),t.fields[0][1])])}case 2:return new Pl(1,[new Va(e.env,Ee([t.fields[0][1],e.env],e.stack),t.fields[0][0])]);case 3:return new Pl(1,[new Va(e.env,e.stack,new Qo(2,[[new Qo(1,[[t.fields[0][0],t.fields[0][2]]]),t.fields[0][1]]]))]);default:{const n=Kt(Iy(t.fields[0]),e.env.fields[0]);return n!=null?new Pl(1,[new Va(n[1],e.stack,n[0])]):new Pl(0,[])}}}function E2(e){return cm(t=>le(n=>{const r=n5(n);return r.tag===1?[n,r.fields[0]]:[n,void 0]},t),new Va(new k2(At({Compare:Te})),z(),e))}const x2=`
let x = 
 let k = a
 let q = \\b->b
 q
x (\\a->d)`,M2=S2(g2(x2));M2.tag===0||(()=>{throw new Error("Match failure")})();const r5=M2.fields[0][0];nx(E2(r5));let Kh=class extends ue{constructor(t,n,r){super(),this.input=t,this.term=n,this.state=r}},T2=class extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["ChangeInput"]}};function s5(){return[new Kh("",void 0,z()),tn(P(P(e=>{e(new T2(x2))})))]}function i5(e,t){const n=e.fields[0],r=S2(g2(n));if(r.tag===0){const s=r.fields[0][0];return[new Kh(n,s,lr(A(E2(s)))),ne()]}else return[new Kh(n,void 0,z()),ne()]}function o5(e,t){let n;return N.createElement("div",Qe(X([["className",Se(" ",["user-select-all"])],["height",1e3],(n=[N.createElement("textarea",{className:Se(" ",["user-select-all"]),style:{width:200,height:500},value:e.input,onChange:r=>{t(new T2(r.target.value))}}),N.createElement("textarea",{style:{width:200,height:500},value:Ae(e.term)}),N.createElement("textarea",{style:{width:200,height:500},value:Ae(le(r=>r.term,rw(e.state)))}),N.createElement("textarea",{style:{width:200,height:500},value:Jp(e.state)})],["children",we.Children.toArray(Array.from(n))])])))}class Vu extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["VariableName"]}}class Ua extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["SymbolName"]}}class ke extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Star","Rect","Symbol","Variable","Pi","Abs","App","Eq","Refl"]}}class qh extends ue{constructor(t){super(),this.preContext=t}}class I2 extends ue{constructor(t){super(),this.symbols=t}}class De extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Sig","Ctx","Term","JEq"]}}function Vo(e){const t=n=>{switch(n.tag){case 1:return"";case 2:{const r=n.fields[0][0].fields[0],s=n.fields[0][1];return Y(s)?r:`${r}(${Se(", ",he(t,s))})`}case 3:return n.fields[0].fields[0];case 4:{const r=n.fields[0][1],s=t(n.fields[0][0]),i=t(n.fields[0][2]);return r!=null?`(${r.fields[0]}: ${s})  (${i})`:`${s}  (${i})`}case 5:{const r=n.fields[0][1].fields[0],s=n.fields[0][0],i=t(n.fields[0][2]);return s!=null?` ${r}: ${t(s)}. ${i}`:` ${r}. ${i}`}case 6:{const r=n.fields[0][1],s=n.fields[0][2],i=n.fields[0][0],o=t(n.fields[0][3]),l=t(n.fields[0][4]);let u,a,c,f;switch(i!=null&&r!=null&&s!=null?(u=0,a=i,c=s,f=r.fields[0]):u=1,u){case 0:return`App(${t(a)}, ${f}, ${t(c)}, ${o}, ${l})`;default:return`${o} (${l})`}}case 7:{const r=n.fields[0][0],s=t(n.fields[0][1]),i=t(n.fields[0][2]);return r!=null?`Eq(${t(r)}, ${s}, ${i})`:`${s} = ${i}`}case 8:return`refl_(${t(n.fields[0])})`;default:return""}};return t(e)}function Qf(e){return`(${Se(", ",oe(t=>`${t[0].fields[0]}: ${Vo(t[1])}`,$m(e.preContext)))})`}function P2(e,t,n){return`${e.fields[0]}: ${Qf(t)}  ${Vo(n)}`}function wf(e){return`(${Se(", ",oe(t=>P2(t[0],t[1],t[2]),$m(e.symbols)))})`}function C1(e){switch(e.tag){case 1:return`${wf(e.fields[0][0])}|${Qf(e.fields[0][1])}ctx`;case 2:{const t=e.fields[0][3],n=wf(e.fields[0][0]),r=Qf(e.fields[0][1]),s=Vo(e.fields[0][2]);return t==null?`${n}|${r}${s}`:`${n}|${r}${s}:${Vo(t)}`}case 3:return`${wf(e.fields[0][0])}|${Qf(e.fields[0][1])}${Vo(e.fields[0][2])}${Vo(e.fields[0][3])}:${Vo(e.fields[0][4])}`;default:return`${wf(e.fields[0])}sig`}}function D2(e){if(!Y(e))return[H(e),L(e)]}function bl(e,t,n){const r=s=>{let i,o,l,u,a,c,f,d,g,w,v,_,p,h,$,C,k,T,D,V,U,O,B,Z,j,ie,W,te,R,I;switch(s.tag){case 3:{ee(e,s.fields[0])?(i=0,s.fields[0]):(i=10,I=s);break}case 2:{i=1,o=s.fields[0][1],l=s.fields[0][0];break}case 4:{ee(e,s.fields[0][1])?(i=2,u=s.fields[0][0],a=s.fields[0][2],c=s.fields[0][1]):(i=3,f=s.fields[0][0],d=s.fields[0][2],g=s.fields[0][1]);break}case 5:{ee(e,s.fields[0][1])?(i=4,w=s.fields[0][0],v=s.fields[0][2],_=s.fields[0][1]):(i=5,p=s.fields[0][0],h=s.fields[0][2],$=s.fields[0][1]);break}case 6:{ee(e,s.fields[0][1])?(i=6,C=s.fields[0][0],k=s.fields[0][2],T=s.fields[0][4],D=s.fields[0][3],V=s.fields[0][1]):(i=7,U=s.fields[0][0],O=s.fields[0][2],B=s.fields[0][4],Z=s.fields[0][3],j=s.fields[0][1]);break}case 7:{i=8,ie=s.fields[0][0],W=s.fields[0][1],te=s.fields[0][2];break}case 8:{i=9,R=s.fields[0];break}default:i=10,I=s}switch(i){case 0:return t;case 1:return new ke(2,[[l,he(r,o)]]);case 2:return new ke(4,[[r(u),c,a]]);case 3:return new ke(4,[[r(f),g,r(d)]]);case 4:return new ke(5,[[le(r,w),_,v]]);case 5:return new ke(5,[[le(r,p),$,r(h)]]);case 6:return new ke(6,[[le(r,C),V,k,r(D),r(T)]]);case 7:return new ke(6,[[le(r,U),j,le(r,O),r(Z),r(B)]]);case 8:return new ke(7,[[le(r,ie),r(W),r(te)]]);case 9:return new ke(8,[r(R)]);default:return I}};return r(n)}function A0(e,t){const n=r=>{switch(r.tag){case 3:{const s=Kt(r.fields[0],e);return s??new ke(3,[r.fields[0]])}case 2:return new ke(2,[[r.fields[0][0],he(n,r.fields[0][1])]]);case 4:if(r.fields[0][1]!=null){const s=r.fields[0][1];return Kt(s,e)!=null?new ke(4,[[n(r.fields[0][0]),s,r.fields[0][2]]]):new ke(4,[[n(r.fields[0][0]),s,n(r.fields[0][2])]])}else return new ke(4,[[n(r.fields[0][0]),r.fields[0][1],n(r.fields[0][2])]]);case 5:return Kt(r.fields[0][1],e)!=null?new ke(5,[[le(n,r.fields[0][0]),r.fields[0][1],r.fields[0][2]]]):new ke(5,[[le(n,r.fields[0][0]),r.fields[0][1],n(r.fields[0][2])]]);case 6:if(r.fields[0][1]!=null){const s=r.fields[0][1];return Kt(s,e)==null?new ke(6,[[le(n,r.fields[0][0]),s,le(n,r.fields[0][2]),n(r.fields[0][3]),n(r.fields[0][4])]]):new ke(6,[[le(n,r.fields[0][0]),s,r.fields[0][2],n(r.fields[0][3]),n(r.fields[0][4])]])}else return new ke(6,[[le(n,r.fields[0][0]),r.fields[0][1],le(n,r.fields[0][2]),n(r.fields[0][3]),n(r.fields[0][4])]]);case 7:return new ke(7,[[le(n,r.fields[0][0]),n(r.fields[0][1]),n(r.fields[0][2])]]);case 8:return new ke(8,[n(r.fields[0])]);default:return r}};return n(t)}function qw(e){return new qh(e)}function l5(e){return le(t=>[t[0],qw(t[1])],D2(e.preContext))}function Io(e,t,n){return qw(Ee([e,t],n.preContext))}function Qh(e,t){return le(n=>n[1],C0(n=>ee(n[0],e),t.preContext))}new I2(X([[new Ua("Type"),new qh(z()),new ke(1,[])],[new Ua("el"),new qh(P([new Vu("A"),new ke(2,[[new Ua("Type"),z()]])])),new ke(0,[])]]));function Jh(e,t){return C0(n=>ee(n[0],e),t.symbols)}function N2(e){return new I2(e)}function u5(e){return le(t=>[t[0],N2(t[1])],D2(e.symbols))}class ce extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Single","And","Or","Label","True","False"]}}function We(e,t){return new ce(3,[[e,t]])}function $f(e,t){return new ce(3,[[e,new ce(0,[t])]])}function us(e,t,n){let r,s,i,o,l,u,a,c,f,d,g,w,v,_,p,h;switch(n.tag){case 0:case 1:{r=4;break}case 4:{r=5;break}case 7:{r=7;break}case 2:{r=1,i=n.fields[0][0],o=n.fields[0][1];break}case 6:{n.fields[0][0]!=null&&n.fields[0][1]!=null&&n.fields[0][2]!=null?(r=2,n.fields[0][0],l=n.fields[0][2],u=n.fields[0][4],n.fields[0][3],a=n.fields[0][1]):(r=3,c=n.fields[0][0],f=n.fields[0][2],d=n.fields[0][4],g=n.fields[0][3],w=n.fields[0][1]);break}case 5:{r=6,v=n.fields[0][0],_=n.fields[0][2],p=n.fields[0][1];break}case 8:{r=8,h=n.fields[0];break}default:r=0,s=n.fields[0]}switch(r){case 0:{const $=Qh(s,t);return $!=null?[$,"variable"]:[void 0,`variable ${s} is not in context`]}case 1:{const $=Jh(i,e);if($!=null){const C=$[1];$[0];const k=$[2],T=Zr(C.preContext)|0,D=Zr(o)|0;if(T!==D)return[void 0,`length not match: ${T} ${D}`];{const V=Qt((U,O)=>{const B=U[0],Z=U[1],j=O[0],ie=O[1],W=j[0],te=j[1];if(Z!=null){const R=Z;return Me(F("%O"))(R),[Ee(new ce(0,[new De(2,[[e,t,ie,A0(R,te)]])]),B),Dt(W,ie,R)]}else return[Ee(new ce(0,[new De(2,[[e,t,ie,te]])]),B),Dt(W,ie,At({Compare:Te}))]},[z(),void 0],um(lr(C.preContext),o));return V[1]!=null?[A0(V[1],k),"9: "]:[k,"9: empty"]}}else return[void 0,`symbol ${i} is not defined`]}case 2:return[bl(a,u,l),"13: app"];case 3:if((c??us(e,t,d)[0])!=null){const C=f??us(e,t,g)[0];if(C!=null){const k=C;if(k.tag===4){const T=k.fields[0][1],D=k.fields[0][2];let V,U;switch(T!=null?w!=null?(V=1,U=w):(V=1,U=T):w!=null?(V=1,U=w):V=0,V){case 0:return[D,"13: app with type inference"];default:return[bl(U,d,D),"13: app with type inference"]}}else return[void 0,"type inference failed"]}else return[void 0,`type inference failed ${g}`]}else return[void 0,`type inference failed ${d}`];case 4:return[void 0,"star or rect"];case 5:return[new ke(1,[]),"pi"];case 6:if(v!=null){const $=v;return[le(C=>new ke(4,[[$,p,C]]),us(e,Io(p,$,t),_)[0]),"TODO:"]}else return[void 0,"TODO:"];case 7:return[new ke(1,[]),"eq"];default:return[new ke(7,[[void 0,h,h]]),"refl"]}}function a5(e){switch(e.tag){case 1:{const t=e.fields[0][0],n=l5(e.fields[0][1]);if(n!=null){const r=n[0][0],s=n[1],i=n[0][1];return Qh(r,s)!=null?We(`5: duplicate definition of ${r}`,new ce(5,[])):$f("5",new De(2,[[t,s,i,new ke(1,[])]]))}else return $f("4",new De(0,[t]))}case 2:{const t=e.fields[0][3],n=e.fields[0][2],r=e.fields[0][0],s=e.fields[0][1];return new ce(2,[A(y(()=>{let i,o;return E(S(t!=null?(i=t,i.tag===1?new ce(2,[A(y(()=>E(S(We("6: rect",new ce(0,[new De(2,[[r,s,n,new ke(0,[])]])]))),y(()=>{let l;const u=n;switch(u.tag){case 4:return u.fields[0][1]==null?S(We("11",new ce(1,[X([new ce(0,[new De(2,[[r,s,u.fields[0][0],new ke(0,[])]])]),new ce(0,[new De(2,[[r,s,u.fields[0][2],new ke(1,[])]])])])]))):(l=u.fields[0][1],S(We("11",new ce(1,[X([new ce(0,[new De(2,[[r,s,u.fields[0][0],new ke(0,[])]])]),new ce(0,[new De(2,[[r,Io(l,u.fields[0][0],s),u.fields[0][2],new ke(1,[])]])])])]))));case 7:if(u.fields[0][0]==null){const a=us(r,s,u.fields[0][1])[0];if(a!=null){const c=a;return S(We("16: eq with type inference",new ce(1,[X([new ce(0,[new De(2,[[r,s,c,new ke(1,[])]])]),new ce(0,[new De(2,[[r,s,u.fields[0][1],c]])]),new ce(0,[new De(2,[[r,s,u.fields[0][2],c]])])])])))}else return S(We("a",new ce(5,[])))}else{const a=u.fields[0][0];return S(We("16: eq",new ce(1,[X([new ce(0,[new De(2,[[r,s,a,new ke(1,[])]])]),new ce(0,[new De(2,[[r,s,u.fields[0][1],a]])]),new ce(0,[new De(2,[[r,s,u.fields[0][2],a]])])])])))}default:return S(We("term rect",new ce(5,[])))}}))))]):i.tag===4?n.tag===5?n.fields[0][0]!=null?ee(i.fields[0][0],n.fields[0][0])&&ee(i.fields[0][1],n.fields[0][1])?(n.fields[0][0],new ce(1,[X([new ce(0,[new De(2,[[r,s,i.fields[0][0],new ke(0,[])]])]),new ce(0,[new De(2,[[r,Io(n.fields[0][1],i.fields[0][0],s),n.fields[0][2],i.fields[0][2]]])])])])):new ce(2,[z()]):new ce(2,[z()]):new ce(2,[z()]):i.tag===6?et(F("not inmplemented term app")):i.tag===7?i.fields[0][0]!=null?(i.fields[0][0],ee(i.fields[0][1],i.fields[0][2])?(o=i.fields[0][0],n.tag===8?ee(i.fields[0][1],n.fields[0])?We("eq",new ce(1,[X([new ce(0,[new De(2,[[r,s,o,new ke(1,[])]])]),new ce(0,[new De(2,[[r,s,i.fields[0][1],o]])])])])):new ce(2,[z()]):new ce(2,[z()])):We("term",new ce(5,[]))):We("term",new ce(5,[])):We("term",new ce(5,[]))):new ce(5,[])),y(()=>{let l,u,a,c,f,d,g,w,v,_,p,h,$,C,k,T,D,V,U,O,B,Z,j,ie,W,te,R,I,Q;return E((l=n,l.tag===3?S((u=Qh(l.fields[0],s),u!=null?(a=u,t!=null?(c=t,ee(a,c)?We("variable",new ce(0,[new De(1,[[r,s]])])):We(`type of ${l.fields[0]} is not match ${a} and ${c}`,new ce(5,[]))):We("variable",new ce(0,[new De(1,[[r,s]])]))):We(`variable ${l.fields[0]} is not in context`,new ce(5,[])))):l.tag===2?S((f=Jh(l.fields[0][0],r),f!=null?(d=f[1],f[0],g=f[2],w=new ce(0,[new De(1,[[r,s]])]),v=Zr(d.preContext)|0,_=Zr(l.fields[0][1])|0,v!==_?We(`length not match: ${v} ${_}`,new ce(5,[])):(p=Qt((re,_e)=>{const ye=re[0],Ye=re[1],at=_e[0],Mt=_e[1],mt=at[0],hn=at[1];if(Ye!=null){const _n=Ye;return Me(F("%O"))(_n),[Ee(new ce(0,[new De(2,[[r,s,Mt,A0(_n,hn)]])]),ye),Dt(mt,Mt,_n)]}else return[Ee(new ce(0,[new De(2,[[r,s,Mt,hn]])]),ye),Dt(mt,Mt,At({Compare:Te}))]},[z(),void 0],um(lr(d.preContext),l.fields[0][1])),p[1]!=null?(h=A0(p[1],g),!ee(t,h)&&!ee(t,void 0)?We(`type not match ${t} and ${h}`,new ce(5,[])):We("9: ",new ce(1,[A(y(()=>E(S(w),y(()=>p[0]))))]))):!ee(t,g)&&!ee(t,void 0)?We(`type not match ${t} and ${g}`,new ce(5,[])):We("9: empty",w))):We(`symbol ${l.fields[0][0]} is not defined`,new ce(5,[])))):l.tag===6?l.fields[0][0]!=null?l.fields[0][1]!=null?l.fields[0][2]!=null?($=l.fields[0][0],C=l.fields[0][2],k=l.fields[0][1],T=bl(k,l.fields[0][4],C),!ee(T,t)&&!ee(t,void 0)?S(We(`13: type not match ${t} and ${T}`,new ce(5,[]))):S(We("13: app",new ce(1,[X([new ce(0,[new De(2,[[r,s,$,new ke(0,[])]])]),new ce(0,[new De(2,[[r,Io(k,$,s),$,new ke(0,[])]])]),new ce(0,[new De(2,[[r,s,l.fields[0][3],new ke(4,[[$,k,C]])]])])])])))):(D=l.fields[0][0]==null?us(r,s,l.fields[0][4])[0]:l.fields[0][0],V=(U=l.fields[0][2]==null?us(r,s,l.fields[0][3])[0]:l.fields[0][2],U!=null?(O=U,O.tag===4?(B=O.fields[0][1],Z=O.fields[0][2],j=O.fields[0][0],ee(D,j)||ee(D,void 0)?B!=null?(ie=bl(B,l.fields[0][4],Z),ee(ie,t)||ee(t,void 0)?[[B,j,O,Z,ie],"13: app with type inference"]:[void 0,`13: type not match ${ie} ${t}`]):[[B,j,O,Z,Z],"13: app with type inference"]:[void 0,`type not match ${D} ${j}`]):[void 0,`${O} must be Pi`]):[void 0,`type inference failed ${l.fields[0][3]}`]),W=V[0],W!=null?(te=W[0],R=W[3],I=W[2],Q=W[1],S(We(`13: app ${W[4]}`,new ce(1,[A(y(()=>E(S(new ce(0,[new De(2,[[r,s,Q,new ke(0,[])]])])),y(()=>E(S(new ce(0,[new De(2,[[r,As((re,_e)=>Io(re,Q,_e),La(te),s),R,new ke(1,[])]])])),y(()=>E(S(new ce(0,[new De(2,[[r,s,l.fields[0][3],I]])])),y(()=>S(new ce(0,[new De(2,[[r,s,l.fields[0][4],Q]])]))))))))))])))):S(We(`13: ${V[1]}`,new ce(5,[])))):(D=l.fields[0][0]==null?us(r,s,l.fields[0][4])[0]:l.fields[0][0],V=(U=l.fields[0][2]==null?us(r,s,l.fields[0][3])[0]:l.fields[0][2],U!=null?(O=U,O.tag===4?(B=O.fields[0][1],Z=O.fields[0][2],j=O.fields[0][0],ee(D,j)||ee(D,void 0)?B!=null?(ie=bl(B,l.fields[0][4],Z),ee(ie,t)||ee(t,void 0)?[[B,j,O,Z,ie],"13: app with type inference"]:[void 0,`13: type not match ${ie} ${t}`]):[[B,j,O,Z,Z],"13: app with type inference"]:[void 0,`type not match ${D} ${j}`]):[void 0,`${O} must be Pi`]):[void 0,`type inference failed ${l.fields[0][3]}`]),W=V[0],W!=null?(te=W[0],R=W[3],I=W[2],Q=W[1],S(We(`13: app ${W[4]}`,new ce(1,[A(y(()=>E(S(new ce(0,[new De(2,[[r,s,Q,new ke(0,[])]])])),y(()=>E(S(new ce(0,[new De(2,[[r,As((re,_e)=>Io(re,Q,_e),La(te),s),R,new ke(1,[])]])])),y(()=>E(S(new ce(0,[new De(2,[[r,s,l.fields[0][3],I]])])),y(()=>S(new ce(0,[new De(2,[[r,s,l.fields[0][4],Q]])]))))))))))])))):S(We(`13: ${V[1]}`,new ce(5,[])))):(D=l.fields[0][0]==null?us(r,s,l.fields[0][4])[0]:l.fields[0][0],V=(U=l.fields[0][2]==null?us(r,s,l.fields[0][3])[0]:l.fields[0][2],U!=null?(O=U,O.tag===4?(B=O.fields[0][1],Z=O.fields[0][2],j=O.fields[0][0],ee(D,j)||ee(D,void 0)?B!=null?(ie=bl(B,l.fields[0][4],Z),ee(ie,t)||ee(t,void 0)?[[B,j,O,Z,ie],"13: app with type inference"]:[void 0,`13: type not match ${ie} ${t}`]):[[B,j,O,Z,Z],"13: app with type inference"]:[void 0,`type not match ${D} ${j}`]):[void 0,`${O} must be Pi`]):[void 0,`type inference failed ${l.fields[0][3]}`]),W=V[0],W!=null?(te=W[0],R=W[3],I=W[2],Q=W[1],S(We(`13: app ${W[4]}`,new ce(1,[A(y(()=>E(S(new ce(0,[new De(2,[[r,s,Q,new ke(0,[])]])])),y(()=>E(S(new ce(0,[new De(2,[[r,As((re,_e)=>Io(re,Q,_e),La(te),s),R,new ke(1,[])]])])),y(()=>E(S(new ce(0,[new De(2,[[r,s,l.fields[0][3],I]])])),y(()=>S(new ce(0,[new De(2,[[r,s,l.fields[0][4],Q]])]))))))))))])))):S(We(`13: ${V[1]}`,new ce(5,[])))):Oe()),y(()=>{let re;return t==null?S((re=us(r,s,n)[0],re!=null?new ce(0,[new De(2,[[r,s,n,re]])]):We("type inference failed",new ce(5,[])))):S(We("not implement dayo",new ce(5,[])))}))}))}))])}case 3:{const t=e.fields[0][3],n=e.fields[0][4];return new ce(2,[A(y(()=>{let r,s,i;switch(n.tag===7&&ee(n.fields[0][1],n.fields[0][2])?(r=0,s=n.fields[0][0],i=n.fields[0][1],n.fields[0][2]):r=1,r){case 0:{let o,l;switch(t.tag===8&&ee(i,t.fields[0])?(o=0,t.fields[0],l=e.fields[0][2]):o=1,o){case 0:return S(We("19",new ce(0,[new De(2,[[e.fields[0][0],e.fields[0][1],l,new ke(7,[[s,i,i]])]])])));default:return S(new ce(5,[]))}}default:throw new Error("Match failure: UemuraLogicalFramework.PreTerm")}}))])}default:{const t=u5(e.fields[0]);if(t!=null){const n=t[1],r=t[0][2],s=t[0][1],i=t[0][0];if(Jh(i,n)!=null)return We(`${i} is already in signature`,new ce(5,[]));switch(r.tag){case 0:case 1:return $f("1",new De(1,[[n,s]]));default:return $f("2",new De(2,[[n,s,r,new ke(1,[])]]))}}else return We("3",new ce(4,[]))}}}function c5(e){let t=At({Compare:Te});const n=r=>{const s=o=>{switch(o.tag){case 1:{let l;return l=((a,c)=>{e:for(;;){const f=a,d=c;if(Y(f))return new be(0,[d(z())]);{const g=(w=>w.tag===1?new be(1,[w.fields[0]]):new be(0,[w.fields[0]]))(H(f));if(g.tag===1)return new be(1,[g.fields[0]]);a=L(f),c=w=>d(Ee(g.fields[0],w));continue e}}})(he(s,o.fields[0]),a=>a),l.tag===1?new be(1,[new ss([[r,"and"],P(l.fields[0])])]):new be(0,[new ss([[r,"and"],l.fields[0]])])}case 2:{let l;return l=((a,c)=>{e:for(;;){const f=a,d=c;if(Y(f))return new be(1,[d(z())]);{const g=(w=>w.tag===0?new be(0,[w.fields[0]]):new be(1,[w.fields[0]]))(H(f));if(g.tag===1){a=L(f),c=w=>d(Ee(g.fields[0],w));continue e}else return new be(0,[g.fields[0]])}}})(he(s,o.fields[0]),a=>a),l.tag===1?new be(1,[new ss([[r,void 0],l.fields[0]])]):new be(0,[new ss([[r,void 0],P(l.fields[0])])])}case 5:return new be(1,[new ss([[r,void 0],z()])]);case 4:return new be(0,[new ss([[r,void 0],z()])]);case 3:{const l=o.fields[0][0],u=s(o.fields[0][1]);return u.tag===1?new be(1,[new ss([[r,l],P(u.fields[0])])]):new be(0,[new ss([[r,l],P(u.fields[0])])])}default:return n(o.fields[0])}},i=Kt(r,t);if(i!=null){const o=i;return o.tag===1?new be(1,[new ss([[o.fields[0].fields[0][0][0],`memo: ${o.fields[0].fields[0][0][1]}`],z()])]):new be(0,[new ss([[o.fields[0].fields[0][0][0],`memo: ${o.fields[0].fields[0][0][1]}`],z()])])}else{const o=s(a5(r));return t=Dt(r,o,t),o}};return n(e)}wi(X(["|","",">","(",")","-","=",":","\\",";"]),{Compare:cn});class Ie extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Mid","Vdash","Star","Rect","Sig","DoubleArrow","Arrow","Colon","OpenKakko","CloseKakko","Ctx","Comma","Pi","Abs","Refl","App","Eq","Name","Dot","Equals","JEquals","NewLine","WhiteSpace"]}}function V2(){return Id("spaceT",e=>Dd(e)&&e!==`
`&&e!=="\r")}function ja(){return gn(V2())}class Ke extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Char","String","Or"]}}const O2=X([[new Ie(1,[]),new Ke(2,[X([new Ke(1,["|-"]),new Ke(0,[""])])])],[new Ie(0,[]),new Ke(0,["|"])],[new Ie(2,[]),new Ke(2,[X([new Ke(0,["*"]),new Ke(0,[""])])])],[new Ie(3,[]),new Ke(2,[X([new Ke(1,["rect"]),new Ke(0,[""])])])],[new Ie(4,[]),new Ke(1,["sig"])],[new Ie(5,[]),new Ke(2,[X([new Ke(1,["=>"]),new Ke(0,[""])])])],[new Ie(6,[]),new Ke(2,[X([new Ke(1,["->"]),new Ke(0,[""]),new Ke(0,[""])])])],[new Ie(7,[]),new Ke(0,[":"])],[new Ie(8,[]),new Ke(0,["("])],[new Ie(9,[]),new Ke(0,[")"])],[new Ie(10,[]),new Ke(1,["ctx"])],[new Ie(11,[]),new Ke(0,[","])],[new Ie(12,[]),new Ke(2,[X([new Ke(1,["Pi"]),new Ke(0,[""])])])],[new Ie(13,[]),new Ke(1,["Abs"])],[new Ie(14,[]),new Ke(1,["Refl"])],[new Ie(15,[]),new Ke(1,["App"])],[new Ie(16,[]),new Ke(1,["Eq"])],[new Ie(18,[]),new Ke(0,["."])],[new Ie(19,[]),new Ke(0,["="])],[new Ie(20,[]),new Ke(0,[""])]]);function Xh(){return qt("kigoChar",A(y(()=>dt(e=>{const t=n=>{switch(n.tag){case 0:return ve(r=>{},Le(n.fields[0]));case 2:return qt("or",he(t,n.fields[0]));default:return Nu()}};return S(ve(()=>e[0],t(e[1])))},O2))))}function f5(){return qt("kigoString",A(y(()=>dt(e=>{const t=n=>{switch(n.tag){case 1:return ve(r=>{},Cr(n.fields[0]));case 2:return qt("or",he(t,n.fields[0]));default:return Nu()}};return S(ve(()=>e[0],t(e[1])))},O2))))}function Yh(){return ve(e=>new Ie(22,[]),V2())}const R2=Pd(),d5=R2[1],F2=R2[0];class Mo extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["T","N","E"]}}function ep(){return ve(H,Du(ve(e=>new Ie(21,[]),qt("newline",X([Cr(`\r
`),Cr("\r"),Cr(`
`)])))))}d5.contents=ve(e=>{const t=e[0],n=e[1];switch(n.tag){case 1:return new Mo(1,[`${t}${n.fields[0]}`]);case 2:return new Mo(1,[`${t}`]);default:return new Mo(0,[[`${t}${n.fields[0][0]}`,n.fields[0][1]]])}},(()=>{let e,t,n;const r=Zw(),s=qt("pNameStr",X([ve(i=>new Mo(0,[["",i]]),ep()),ve(i=>new Mo(2,[]),Yh()),ve(i=>new Mo(0,[["",i]]),(e=Xh(),t=ja(),new K(i=>{const o=x(e,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(t,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}}))),(n=ja(),new K(i=>{const o=x(F2,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(n,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}})),ve(()=>new Mo(2,[]),Ww())]));return new K(i=>{const o=x(r,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(s,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}})})());function h5(){return ve(e=>{switch(e.tag){case 1:return P(new Ie(17,[e.fields[0]]));case 2:return z();default:return X([new Ie(17,[e.fields[0][0]]),e.fields[0][1]])}},F2)}function p5(){let e,t,n,r,s,i,o,l,u,a,c,f,d,g;return gn(qt("tokenizer",X([ve(P,ep()),ve(P,(e=Xh(),t=ja(),new K(w=>{const v=x(e,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(t,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}}))),ve(P,Yh()),ve(P,(n=(r=f5(),s=ID(qt("next kigo",X([(i=Xh(),o=qf(),new K(w=>{const v=x(i,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(o,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[_.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),(l=ep(),u=qf(),new K(w=>{const v=x(l,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(u,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[_.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),(a=Yh(),c=qf(),new K(w=>{const v=x(a,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(c,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[_.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),Ww()]))),new K(w=>{const v=x(r,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(s,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),f=ja(),new K(w=>{const v=x(n,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(f,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}}))),(d=h5(),g=ja(),new K(w=>{const v=x(d,w[0],w[1]);if(v.tag===1)return new m(1,[v.fields[0]]);{const _=x(g,v.fields[0][2],v.fields[0][1]);return _.tag===1?new m(1,[_.fields[0]]):new m(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}}))])))}function w5(e){const t=f2(p5(),e);if(t.tag===1){const n=t.fields[0];return et(F("%O"))([n[0],void 0,n[2]])}else return el(t.fields[0][0])}function Qw(e){switch(e.tag){case 15:return"app";case 6:return"";case 7:return":";case 0:return"|";case 1:return"";case 2:return"*";case 3:return"";case 4:return"sig";case 5:return"";case 8:return"(";case 9:return")";case 10:return"ctx";case 11:return",";case 12:return"";case 14:return"refl";case 16:return"eq";case 17:return`"${e.fields[0]}"`;case 18:return".";case 19:return"=";case 20:return"";case 21:return`
`;case 22:return"ws";default:return"abs"}}let Ci=class extends ue{constructor(t,n){super(),this.symbolNames=t,this.variableNames=n}};function G0(){return P(po({Compare:Te}))}function z2(e){return nw(rw(e),po({Compare:Te}))}function Vd(e,t){return Ee(Wu(e,z2(t)),t)}function Py(e,t){return qr(e,z2(t))}function $5(e){return Y(e)?z():L(e)}const L2=Pd(),g5=L2[1],yt=L2[0];function Wc(){return c2(e=>e.tag===17?e.fields[0]:void 0)}function vs(e){const t=_i(r=>{const s=r[2];return ol("pBetweenKakko: open kakko not found",P(r[0]),s[0],s[1])},Le(new Ie(8,[]))),n=_i(r=>{const s=r[2];return ol("pBetweenKakko: close kakko not found",P(r[0]),s[0],s[1])},Le(new Ie(9,[])));return new K(r=>{const s=x(new K(i=>{const o=x(t,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(e,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[l.fields[0][0],l.fields[0][1],l.fields[0][2]]])}}),r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})}function Jw(){return ll((e,t)=>new Ci(t.symbolNames,Vd(e,t.variableNames)),Wc())}function Xw(){return e=>ll((t,n)=>new Ci(n.symbolNames,$5(n.variableNames)),e)}function y5(){let e,t;return ve(n=>{const r=n[0];return[r[0],r[1],n[1]]},Xw()((e=(t=Jw(),new K(n=>{const r=x(yt,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=x(t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new m(1,[s.fields[0]]):new m(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1],s.fields[0][2]]])}})),new K(n=>{const r=x(e,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=x(yt,r.fields[0][2],r.fields[0][1]);return s.tag===1?new m(1,[s.fields[0]]):new m(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1],s.fields[0][2]]])}}))))}function v5(){let e,t,n,r,s,i;return vs(ve(o=>{const l=o[0];return[l[0],l[1],o[1]]},Xw()((e=(t=(n=(r=Le(new Ie(11,[])),new K(o=>{const l=x(yt,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(r,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),s=Jw(),new K(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})),i=Le(new Ie(11,[])),new K(o=>{const l=x(t,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),new K(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(yt,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})))))}function m5(){let e,t,n,r,s,i;const o=d2((e=Jw(),t=Le(new Ie(7,[])),new K(l=>{const u=x(e,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(t,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})));return i=new K(l=>{const u=x(o,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(yt,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}}),ve(l=>{const u=l[0];return[u[1],u[0],l[1]]},Xw()((n=(r=qt("PiArrow",X([vs(i),i])),s=Le(new Ie(6,[])),new K(l=>{const u=x(r,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(s,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})),new K(l=>{const u=x(n,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(yt,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}}))))}function _5(){return ve(e=>new ke(4,[[e[0],le(t=>new Vu(t),e[1]),e[2]]]),qt("Pi",X([y5(),v5(),m5()])))}function C5(){let e,t,n,r,s,i;return ve(o=>{const l=o[0];return new ke(5,[[l[0],new Vu(l[1]),o[1]]])},vs((e=(t=(n=d2((r=Le(new Ie(11,[])),new K(o=>{const l=x(yt,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(r,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))),s=Wc(),new K(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})),i=Le(new Ie(11,[])),new K(o=>{const l=x(t,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),new K(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(yt,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}}))))}function S5(){let e,t,n,r,s;return ve(i=>{const o=i[0];return new ke(7,[[o[0],o[1],i[1]]])},vs((e=(t=(n=(r=Le(new Ie(11,[])),new K(i=>{const o=x(yt,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(r,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}})),new K(i=>{const o=x(n,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(yt,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}})),s=Le(new Ie(11,[])),new K(i=>{const o=x(t,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(s,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}})),new K(i=>{const o=x(e,i[0],i[1]);if(o.tag===1)return new m(1,[o.fields[0]]);{const l=x(yt,o.fields[0][2],o.fields[0][1]);return l.tag===1?new m(1,[l.fields[0]]):new m(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}}))))}function k5(){let e,t;return qt("symbol",X([ve(n=>Ee(n[0],n[1]),vs((e=gn((t=Le(new Ie(11,[])),new K(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=x(yt,r.fields[0][2],r.fields[0][1]);return s.tag===1?new m(1,[s.fields[0]]):new m(0,[[s.fields[0][0],s.fields[0][1],s.fields[0][2]]])}}))),new K(n=>{const r=x(yt,n[0],n[1]);if(r.tag===1)return new m(1,[r.fields[0]]);{const s=x(e,r.fields[0][2],r.fields[0][1]);return s.tag===1?new m(1,[s.fields[0]]):new m(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1],s.fields[0][2]]])}})))),vs(ii(z())),ii(z())]))}class E5 extends fe{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["PreTerm"]}}g5.contents=qt("term",X([vs(yt),Ai(e=>{let t,n,r,s,i,o,l,u;switch(e.tag){case 12:return _5();case 2:return ii(new ke(0,[]));case 3:return ii(new ke(1,[]));case 13:return C5();case 17:{const a=e.fields[0];return Ai(c=>{let f,d;return qt("name",X([ve(g=>new ke(4,[[c,void 0,g]]),(f=Le(new Ie(6,[])),new K(g=>{const w=x(f,g[0],g[1]);if(w.tag===1)return new m(1,[w.fields[0]]);{const v=x(yt,w.fields[0][2],w.fields[0][1]);return v.tag===1?new m(1,[v.fields[0]]):new m(0,[[v.fields[0][0],v.fields[0][1],v.fields[0][2]]])}}))),ve(g=>new ke(7,[[void 0,c,g]]),(d=Le(new Ie(19,[])),new K(g=>{const w=x(d,g[0],g[1]);if(w.tag===1)return new m(1,[w.fields[0]]);{const v=x(yt,w.fields[0][2],w.fields[0][1]);return v.tag===1?new m(1,[v.fields[0]]):new m(0,[[v.fields[0][0],v.fields[0][1],v.fields[0][2]]])}}))),ve(g=>new ke(6,[[void 0,void 0,void 0,c,g]]),yt),ii(c)]))},Ai(c=>{const f=c[1];return Py(a,f.symbolNames)?ve(d=>new ke(2,[[new Ua(a),d]]),k5()):Py(a,f.variableNames)?ii(new ke(3,[new Vu(a)])):Nu()},TD(qf())))}case 8:return ve(a=>{const c=a[0];return new ke(4,[[c[1],new Vu(c[0]),a[1]]])},(t=ll((a,c)=>new Ci(c.symbolNames,Vd(a[0],c.variableNames)),(n=(r=(s=(i=Wc(),o=Le(new Ie(7,[])),new K(a=>{const c=x(i,a[0],a[1]);if(c.tag===1)return new m(1,[c.fields[0]]);{const f=x(o,c.fields[0][2],c.fields[0][1]);return f.tag===1?new m(1,[f.fields[0]]):new m(0,[[c.fields[0][0],f.fields[0][1],f.fields[0][2]]])}})),new K(a=>{const c=x(s,a[0],a[1]);if(c.tag===1)return new m(1,[c.fields[0]]);{const f=x(yt,c.fields[0][2],c.fields[0][1]);return f.tag===1?new m(1,[f.fields[0]]):new m(0,[[[c.fields[0][0],f.fields[0][0]],f.fields[0][1],f.fields[0][2]]])}})),l=Le(new Ie(9,[])),new K(a=>{const c=x(r,a[0],a[1]);if(c.tag===1)return new m(1,[c.fields[0]]);{const f=x(l,c.fields[0][2],c.fields[0][1]);return f.tag===1?new m(1,[f.fields[0]]):new m(0,[[c.fields[0][0],f.fields[0][1],f.fields[0][2]]])}})),u=Le(new Ie(6,[])),new K(a=>{const c=x(n,a[0],a[1]);if(c.tag===1)return new m(1,[c.fields[0]]);{const f=x(u,c.fields[0][2],c.fields[0][1]);return f.tag===1?new m(1,[f.fields[0]]):new m(0,[[c.fields[0][0],f.fields[0][1],f.fields[0][2]]])}}))),new K(a=>{const c=x(t,a[0],a[1]);if(c.tag===1)return new m(1,[c.fields[0]]);{const f=x(yt,c.fields[0][2],c.fields[0][1]);return f.tag===1?new m(1,[f.fields[0]]):new m(0,[[[c.fields[0][0],f.fields[0][0]],f.fields[0][1],f.fields[0][2]]])}})));case 16:return S5();default:return Nu()}},Zw())]));function x5(){return qt("term choice",P(ve(e=>new E5(e),yt)))}function Dy(){let e,t,n;return _i(r=>Pu("pContextElm",r[0],r[1],r[2]),(e=(t=ll((r,s)=>new Ci(s.symbolNames,Vd(r,s.variableNames)),Wc()),n=_i(r=>Pu("pContextElm: colon not found",r[0],r[1],r[2]),Le(new Ie(7,[]))),new K(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})),new K(r=>{const s=x(e,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(yt,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[[s.fields[0][0],i.fields[0][0]],i.fields[0][1],i.fields[0][2]]])}})))}function Ny(){let e,t,n,r;return _i(s=>Pu("pContextr",s[0],s[1],s[2]),ve(s=>Ee(s[0],s[1]),(e=Dy(),t=gn((n=Le(new Ie(11,[])),r=Dy(),new K(s=>{const i=x(n,s[0],s[1]);if(i.tag===1)return new m(1,[i.fields[0]]);{const o=x(r,i.fields[0][2],i.fields[0][1]);return o.tag===1?new m(1,[o.fields[0]]):new m(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}}))),new K(s=>{const i=x(e,s[0],s[1]);if(i.tag===1)return new m(1,[i.fields[0]]);{const o=x(t,i.fields[0][2],i.fields[0][1]);return o.tag===1?new m(1,[o.fields[0]]):new m(0,[[[i.fields[0][0],o.fields[0][0]],o.fields[0][1],o.fields[0][2]]])}}))))}function Yw(){return _i(e=>Pu("pContext",e[0],e[1],e[2]),ve(e=>qw(lr(he(t=>[new Vu(t[0]),t[1]],e))),qt("context",X([Ny(),vs(Ny()),vs(ii(z()))]))))}function Vy(){let e,t,n,r,s,i,o;return h2("pSignatureElm",ve(l=>{const u=l[0];return[u[0],u[1],l[1]]},(e=(t=(n=(r=ve(l=>new Ua(l),ll((l,u)=>new Ci(Vd(l,u.symbolNames),u.variableNames),Wc())),s=Le(new Ie(7,[])),new K(l=>{const u=x(r,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(s,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})),i=Yw(),new K(l=>{const u=x(n,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(i,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}})),o=Le(new Ie(5,[])),new K(l=>{const u=x(t,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(o,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})),new K(l=>{const u=x(e,l[0],l[1]);if(u.tag===1)return new m(1,[u.fields[0]]);{const a=x(yt,u.fields[0][2],u.fields[0][1]);return a.tag===1?new m(1,[a.fields[0]]):new m(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}}))))}function Oy(){let e,t,n,r,s,i;return h2("pSignaturer",ve(o=>Ee(o[0],o[1]),(e=Vy(),t=gn((n=qt("signature splitter",X([Le(new Ie(11,[])),(r=Le(new Ie(21,[])),s=gn(Le(new Ie(22,[]))),new K(o=>{const l=x(r,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))])),i=Vy(),new K(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[u.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))),new K(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(t,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}}))))}function tp(){return ve(N2,ve(lr,qt("signature",X([Oy(),vs(Oy()),vs(ii(z()))]))))}function M5(){return Ai(e=>{const t=gn(xD([new Ie(21,[]),new Ie(22,[])])),n=qt("choice: vdash or signature",X([Ai(r=>{let s,i;switch(r.tag){case 1:return ve(o=>new De(0,[e]),Le(new Ie(4,[])));case 0:return Ai(o=>{let l,u;return qt("choice: ctx or term",X([(l=Le(new Ie(10,[])),u=ii(new De(1,[[e,o]])),new K(a=>{const c=x(l,a[0],a[1]);if(c.tag===1)return new m(1,[c.fields[0]]);{const f=x(u,c.fields[0][2],c.fields[0][1]);return f.tag===1?new m(1,[f.fields[0]]):new m(0,[[f.fields[0][0],f.fields[0][1],f.fields[0][2]]])}})),Ai(a=>{let c,f,d,g,w;return qt("choice: jeq or colon",X([ve(v=>new De(2,[[e,o,a,v]]),(c=Le(new Ie(7,[])),new K(v=>{const _=x(c,v[0],v[1]);if(_.tag===1)return new m(1,[_.fields[0]]);{const p=x(yt,_.fields[0][2],_.fields[0][1]);return p.tag===1?new m(1,[p.fields[0]]):new m(0,[[p.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ve(v=>new De(3,[[e,o,a,v[0],v[1]]]),(f=(d=(g=Le(new Ie(20,[])),new K(v=>{const _=x(g,v[0],v[1]);if(_.tag===1)return new m(1,[_.fields[0]]);{const p=x(yt,_.fields[0][2],_.fields[0][1]);return p.tag===1?new m(1,[p.fields[0]]):new m(0,[[p.fields[0][0],p.fields[0][1],p.fields[0][2]]])}})),w=Le(new Ie(7,[])),new K(v=>{const _=x(d,v[0],v[1]);if(_.tag===1)return new m(1,[_.fields[0]]);{const p=x(w,_.fields[0][2],_.fields[0][1]);return p.tag===1?new m(1,[p.fields[0]]):new m(0,[[_.fields[0][0],p.fields[0][1],p.fields[0][2]]])}})),new K(v=>{const _=x(f,v[0],v[1]);if(_.tag===1)return new m(1,[_.fields[0]]);{const p=x(yt,_.fields[0][2],_.fields[0][1]);return p.tag===1?new m(1,[p.fields[0]]):new m(0,[[[_.fields[0][0],p.fields[0][0]],p.fields[0][1],p.fields[0][2]]])}})))]))},yt)]))},(s=Yw(),i=Le(new Ie(1,[])),new K(o=>{const l=x(s,o[0],o[1]);if(l.tag===1)return new m(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new m(1,[u.fields[0]]):new m(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})));default:return Nu()}},Zw()),Ai(r=>Nu(),tp())]));return new K(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new m(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new m(1,[i.fields[0]]):new m(0,[[i.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})},tp())}function T5(e,t){return x(yt,Xu(t),e)}function I5(e,t){return x(Yw(),Xu(t),e)}function P5(e,t){return x(tp(),Xu(t),e)}function D5(e){return x(M5(),Xu(e),new Ci(G0(),G0()))}function N5(e,t){return x(x5(),Xu(t),e)}class Jf extends ue{constructor(t,n,r){super(),this.symbolNames=t,this.variableNames=n,this.preterm=r}}let Rl=class extends ue{constructor(t,n,r,s,i,o,l,u,a,c){super(),this.input=t,this.state=n,this.tokens=r,this.parsed=s,this.preterm=i,this.context=o,this.signature=l,this.judgement=u,this.judgementResult=a,this.judgementResultTree=c}};class Xf extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ChangeSymbolNames","ChangeVariableNames","ChangePreTerm"]}}let oi=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["InputMsg","Update","SetJudgementTree","ErrorMsg"]}};const V5=`Type : ()  
el : (A : Type)  
PiType : (A : Type, B : el(A)  Type)  Type
abs : (A : Type, B : el(A)  Type, b : (x : el(A))  el(B(x)))  el(PiType(A, B))
app : (A : Type, B : el(A)  Type, b : el(PiType(A, B)), a : el(A))  el(B(a))
beta: (A : Type, B : el(A)  Type, b : (x : el(A))  el(B x), a : el(A))  app(A, B, abs(A, B, b), a) = b a
extension: (A : Type, B : el(A)  Type, b : el(PiType(A, B)), b : el(PiType(A, B)), p : (x : el(A))  app(A, B, b, x) = app(A, B, b, x))  b = b
 sig`;function O5(){return[new Rl(new Jf("","",""),new Ci(G0(),G0()),[],void 0,void 0,new be(1,[new au(1,[])]),new be(1,[new au(1,[])]),new be(1,[new au(1,[])]),void 0,void 0),P(e=>{e(new oi(0,[new Xf(2,[V5])]))})]}function R5(e,t){let n,r,s;switch(e.tag){case 1:{const i=t.tokens,o=t.state;let l;const u=N5(o,i);l=u.tag===0?u.fields[0][0]:void 0;let a;const c=T5(o,i);a=c.tag===0?c.fields[0][0]:void 0;let f;const d=I5(o,i);f=d.tag===1?new be(1,[d.fields[0][0]]):new be(0,[d.fields[0][0]]);let g;const w=P5(o,i);if(w.tag===1){const h=w.fields[0][2][0][0],$=h.slice(w.fields[0][2][0][1],h.length);Me(F("%O"))($),g=new be(1,[w.fields[0][0]])}else g=new be(0,[w.fields[0][0]]);let v;const _=D5(i);if(_.tag===1){const h=_.fields[0][2][0][1]|0,$=_.fields[0],C=Vt(Qw,_.fields[0][2][0][0]);lt(C,h,"["+J(h,C)+"]"),v=new be(1,[Pu(Se(" ",C),$[0],$[1],$[2])])}else v=new be(0,[_.fields[0][0]]);const p=v.tag===0?RI(h=>u_($=>[$,!0],h),c5(v.fields[0])):void 0;return[new Rl(t.input,t.state,t.tokens,l,a,f,g,v,p,le(h=>h.tag===1?new be(1,[Fg(h.fields[0])]):new be(0,[Fg(h.fields[0])]),p)),ne()]}case 2:return[new Rl(t.input,t.state,t.tokens,t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,new be(0,[VM(e.fields[0])])),ne()];case 3:return Me(F("%O"))(e.fields[0]),[t,ne()];default:{const i=e.fields[0];switch(i.tag){case 0:{const o=i.fields[0];return[new Rl((n=t.input,new Jf(o,n.variableNames,n.preterm)),new Ci(P(uc(ci(o,[" "],void 0,0),{Compare:cn})),t.state.variableNames),t.tokens,t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,t.judgementResultTree),P(l=>{l(new oi(1,[]))})]}case 1:{const o=i.fields[0];return[new Rl((r=t.input,new Jf(r.symbolNames,o,r.preterm)),new Ci(t.state.symbolNames,P(uc(ci(o,[" "],void 0,0),{Compare:cn}))),t.tokens,t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,t.judgementResultTree),P(l=>{l(new oi(1,[]))})]}default:{const o=i.fields[0];return[new Rl((s=t.input,new Jf(s.symbolNames,s.variableNames,o)),t.state,br(w5(o)),t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,t.judgementResultTree),P(l=>{l(new oi(1,[]))})]}}}}}function F5(e,t){try{return R5(e,t)}catch(n){return[t,P(r=>{r(new oi(3,[n]))})]}}function z5(e,t){const n=r=>{if(r.tag===0)try{return`${r.fields[0][0][0]}:${Qw(J(r.fields[0][0][1],e))} [${Se(";",he(n,r.fields[0][1]))}]`}catch{return Me(F("okashii")),"okashi"}else return""};return n(t)}function L5(e,t){let n;return N.createElement("div",Qe(X([["style",{userSelect:"text"}],["height",1e3],["width",1e4],(n=A(y(()=>E(S(N.createElement("textarea",{value:e.input.symbolNames,onChange:r=>{t(new oi(0,[new Xf(0,[r.target.value])]))}})),y(()=>E(S(N.createElement("textarea",{value:e.input.variableNames,onChange:r=>{t(new oi(0,[new Xf(1,[r.target.value])]))}})),y(()=>E(S(N.createElement("textarea",{value:e.input.preterm,style:{width:1e4,height:300},onChange:r=>{t(new oi(0,[new Xf(2,[r.target.value])]))}})),y(()=>E(S(N.createElement("pre",{children:Se(" ",Vt(Qw,e.tokens))})),y(()=>E(S(N.createElement("pre",{children:Ae(e.parsed)})),y(()=>E(S(N.createElement("pre",{children:Ae(e.preterm)})),y(()=>{let r;return E(S((r=A(y(()=>{let s;const i=e.context;return i.tag===0?oe(o=>{const l=P(N.createElement("span",{children:Ae(o)}));return N.createElement("ul",{children:we.Children.toArray(Array.from(l))})},i.fields[0].preContext):S((s=P(Ae(i.fields[0])),N.createElement("p",{children:we.Children.toArray(Array.from(s))})))})),N.createElement("ol",{children:we.Children.toArray(Array.from(r))}))),y(()=>{let s;return E(S((s=A(y(()=>{let i;const o=e.signature;return o.tag===0?oe(l=>{const u=P(N.createElement("span",{children:P2(l[0],l[1],l[2])}));return N.createElement("ul",{children:we.Children.toArray(Array.from(u))})},lr(o.fields[0].symbols)):S((i=P(Ae(o.fields[0])),N.createElement("p",{children:we.Children.toArray(Array.from(i))})))})),N.createElement("ol",{children:we.Children.toArray(Array.from(s))}))),y(()=>{let i,o;return E((i=e.judgement,i.tag===0?S(N.createElement("span",{children:C1(i.fields[0])})):S((o=P(z5(e.tokens,i.fields[0])),N.createElement("p",{children:we.Children.toArray(Array.from(o))})))),y(()=>{let l;const u=e.judgementResultTree;if(u==null)return Oe();{const a=u;if(a.tag===1){const c=f=>{let d,g;const w=f.current,v=w[1];if(v!=null){const _=v;return P((d=P((g=A(y(()=>E(S(N.createElement("span",{style:{color:"orange"},children:_})),y(()=>E(S(N.createElement("span",{style:{color:"red"},children:C1(w[0])})),y(()=>oe(p=>{let h;return N.createElement("li",Qe(P((h=c(p),["children",we.Children.toArray(Array.from(h))]))))},u1(f)))))))),N.createElement("li",{children:we.Children.toArray(Array.from(g))}))),N.createElement("ul",{children:we.Children.toArray(Array.from(d))})))}else return A(y(()=>dt(_=>{const p=c(_);return Y(p)?Oe():S(N.createElement("li",{children:we.Children.toArray(Array.from(p))}))},u1(f))))};return c(a.fields[0])}else{const c=f=>{let d;const g=f.current,w=g[0][0],v=g[1];return N.createElement("ul",Qe(P((d=A(y(()=>{let _,p,h;return E((_=g[0][1],_!=null?(p=_,S(N.createElement("li",Qe(X([["onClick",$=>{Me(F("clicked!")),t(new oi(2,[new $l([[w,p],!v],f.redoData,f.undoData)]))}],(h=[N.createElement("span",{style:Qe(A(y(()=>v?S(["color","blue"]):E(S(["color","black"]),y(()=>S(["fontSize","30px"])))))),children:p}),N.createElement("span",{children:C1(w)})],["children",we.Children.toArray(Array.from(h))])]))))):Oe()),y(()=>v?oe($=>{let C;return N.createElement("li",Qe(P((C=[c($)],["children",we.Children.toArray(Array.from(C))]))))},u1(f)):Oe()))})),["children",we.Children.toArray(Array.from(d))]))))};return S(N.createElement("div",Qe(X([["style",{color:"green"}],(l=[c(a.fields[0])],["children",we.Children.toArray(Array.from(l))])]))))}}}))}))}))})))))))))))))),["children",we.Children.toArray(Array.from(n))])])))}function A5(e,t){const n=(r,s)=>{e:for(;;){const i=r,o=s,l=i%o|0;if(l===0)return o|0;r=o,s=l;continue e}};return Math.abs(e)>Math.abs(t)?n(e,t)|0:n(t,e)|0}class nr extends ue{constructor(t,n){super(),this.numurator=t|0,this.denominator=n|0}toString(){const t=this;return Ne(F("%O/%O"))(t.numurator)(t.denominator)}}function Ou(e){if(e.numurator===0)return new nr(0,1);{const t=A5(e.numurator,e.denominator)|0,n=~~(e.numurator/t)|0,r=~~(e.denominator/t)|0,s=ik(r)|0;return new nr(n*s,r*s)}}function G5(e){return new nr(e,1)}class Od extends ue{constructor(t){super(),this.variables=t}toString(){return Se(" ",Cu(n=>{const r=n[0]|0,s=n[1]|0;switch(s){case 0:return;case 1:return Ne(F("X%O"))(r);default:return Ne(F("X%O^%O"))(r)(s)}},oc(this.variables)))}}Te(z(),z())>0;function B5(e,t){const n=ng(t.variables,{GetZero:()=>0,Add:(s,i)=>s+i})|0,r=ng(e.variables,{GetZero:()=>0,Add:(s,i)=>s+i})|0;return n<r?!0:n===r&&SE(cn,Hs(t.variables),Hs(e.variables))<0}function np(e,t){return new Od(wd((n,r)=>{const s=n-r|0;if(s<0)throw new Error("not dividable");return s|0},t.variables,e.variables))}class Si extends ue{constructor(t,n){super(),this.coefficient=t,this.monomial=n}toString(){const t=this,n=Ae(t.monomial);return Ne(F("(%O)%O"))(t.coefficient)(n)}}function b5(e,t){let n,r;return new Si((n=t.coefficient,r=e.coefficient,r.numurator===0?(()=>{throw new Error})():Ou(new nr(n.numurator*r.denominator,n.denominator*r.numurator))),np(e.monomial,t.monomial))}function U5(e,t){try{return b5(e,t)}catch{return}}class go extends ue{constructor(t){super(),this.monomials=t}toString(){const t=this;return nh(t.monomials)?"0":Se(" + ",oe(Ae,t.monomials))}}const e$=new go(z());function Oo(e,t){const n=(r,s)=>{Me(F("add: %O %O"))(r)(s);let i,o,l,u,a,c;switch(Y(r)?(i=0,o=s):Y(s)?(i=0,o=r):(i=1,l=H(r),u=L(r),a=H(s),c=L(s)),i){case 0:return o;default:if(B5(a.monomial,l.monomial))return A(y(()=>E(S(a),y(()=>n(r,c)))));if(ee(l.monomial,a.monomial)){let f;const d=l.coefficient,g=a.coefficient;return f=Ou(new nr(d.numurator*g.denominator+g.numurator*d.denominator,d.denominator*g.denominator)),A(y(()=>{let w,v;return E(ee(f,new nr(0,1))?Oe():S(new Si((w=l.coefficient,v=a.coefficient,Ou(new nr(w.numurator*v.denominator+v.numurator*w.denominator,w.denominator*v.denominator))),l.monomial)),y(()=>n(u,c)))}))}else return A(y(()=>E(S(l),y(()=>n(u,s)))))}};return new go(n(t.monomials,e.monomials))}function j5(e){return Vc(Oo,e$,e)}function A2(e){return new go(he(t=>{let n;return new Si((n=t.coefficient,new nr(L3(n.numurator),n.denominator)),t.monomial)},e.monomials))}function H5(e){return new go(L(e.monomials))}function rp(e,t){return ee(e.coefficient,new nr(0,1))?e$:new go(he(n=>{let r,s;return new Si((r=e.coefficient,s=n.coefficient,Ou(new nr(r.numurator*s.numurator,r.denominator*s.denominator))),new Od(wd((i,o)=>i+o,n.monomial.variables,e.monomial.variables)))},t.monomials))}function W5(e){return eh(0,e.monomials)}function G2(e){return new go(P(e))}function Yf(e){return j5(oe(G2,e))}function Z5(e){return e.monomials}function K5(e){const t=e.monomials;if(Y(t))throw new Error("input is zero");return new go(he(n=>{let r,s;return new Si((r=n.coefficient,s=H(t).coefficient,s.numurator===0?(()=>{throw new Error})():Ou(new nr(r.numurator*s.denominator,r.denominator*s.numurator))),n.monomial)},e.monomials))}function q5(e){const t=e.monomials;if(!Y(t))return new go(he(n=>{let r,s;return new Si((r=n.coefficient,s=H(t).coefficient,s.numurator===0?(()=>{throw new Error})():Ou(new nr(r.numurator*s.denominator,r.denominator*s.numurator))),n.monomial)},e.monomials))}class Q5 extends ue{constructor(t,n){super(),this.pair=t,this.Br=n}}class J5 extends ue{constructor(t){super(),this.SExpresstion=t}}class X5 extends ue{constructor(t,n){super(),this.normalForm=t,this.log=n}}class Ry extends ue{constructor(t,n){super(),this.newB=t,this.newG=n}}class B2 extends ue{constructor(t,n,r){super(),this.F=t,this.G=n,this.B=r}}function Y5(e){const t=e,n=r=>{if(Y(r))return z();{const s=L(r);return A(y(()=>E(oe(i=>[H(r),i],s),y(()=>n(s)))))}};return new B2(t,he(K5,t),n(t))}function eN(e){Me(F("A"));const t=e.B;if(!Y(t))return new Q5(H(t),L(t))}function tN(e,t){Me(F("B"));const n=tg(e.monomials).monomial,r=tg(t.monomials).monomial,s=new Od(wd(sc,n.variables,r.variables)),i=np(n,s),o=np(r,s),l=rp(new Si(new nr(1,1),i),e);return new J5(Oo(A2(rp(new Si(new nr(1,1),o),t)),l))}function nN(e,t){return le(n=>H5(A2(rp(n,t))),U5(W5(t),e))}function rN(e,t){let n=!0,r;return r=((i,o)=>{e:for(;;){const l=i,u=o;n=!0;const a=Qt((d,g)=>{let w;const v=g;return w=((p,h,$)=>{t:for(;;){const C=p,k=h,T=$;if(Y(T))return[Oo(Yf(T),C),k];{const D=L(T),V=H(T),U=nN(V,v);if(U!=null){const O=U;n=!1;const B=Oo(O,C);p=B,h=Ee([Oo(C,Yf(T)),Oo(B,Yf(D)),O,v],k),$=D;continue t}else{p=Oo(G2(V),C),h=k,$=D;continue t}}}})(e$,d[1],Z5(d[0])),[w[0],w[1]]},[l,u],e.G),c=a[0],f=a[1];if(n)return[c,f];i=c,o=f;continue e}})(t.SExpresstion,z()),new X5(r[0],r[1])}function sN(e,t,n){const r=q5(n.normalForm);if(r!=null){const s=r;return new Ry(A(y(()=>E(oe(i=>[i,s],e.G),y(()=>t.Br)))),Ee(s,e.G))}else return new Ry(t.Br,e.G)}class iN extends ue{constructor(t,n,r,s,i){super(),this.A=t,this.B=n,this.C=r,this.DE=s,this.newState=i}}function oN(e){const t=eN(e);if(t!=null){const n=t;let r;const s=n.pair;r=tN(s[0],s[1]);const i=rN(e,r),o=sN(e,n,i);return new iN(n,r,i,o,new B2(e.F,o.newG,o.newB))}else return}class lN extends ue{constructor(t,n){super(),this.initialState=t,this.log=n}}function uN(e){const t=e.log;return Y(t)?e.initialState.G:H(t).newState.G}function aN(e){const t=Y5(e),n=(r,s)=>{e:for(;;){const i=r,l=oN(s);if(l!=null){const u=l;r=Ee(u,i),s=u.newState;continue e}else return i}};return new lN(t,n(z(),t))}function cN(e,t){try{return A(oe(n=>{const r=Yf(oe(s=>{const i=A(ci(s,[" "],void 0,0)),o=he(l=>Xn(l,511,!1,32),L(i));if(Zr(o)!==e)throw new Error("length not match");return new Si(G5(Xn(H(i),511,!1,32)),new Od(o))},ci(n,["+"],void 0,0)));return Me(F("p: %O"))(r),r},ci(t,[`
`],void 0,0)))}catch{return}}function Qi(e){const t=A(y(()=>{const n=pm(e.monomials);if(n!=null){const r=n;return E(S(N.createElement("span",{children:[Ae(r.coefficient)]})),y(()=>E(dt(s=>{let i,o;return S((i=X(["X",N.createElement("sub",{children:[s[0]]}),N.createElement("sup",{children:[(o=io(s[1]),Ne(F("(%O)"))(o))]})]),N.createElement("span",{children:we.Children.toArray(Array.from(i))})))},oc(r.monomial.variables)),y(()=>dt(s=>E(S(" + "),y(()=>E(S(N.createElement("span",{children:[Ae(s.coefficient)]})),y(()=>dt(i=>{let o,l;return S((o=X(["X",N.createElement("sub",{children:[i[0]]}),N.createElement("sup",{children:[(l=io(i[1]),Ne(F("(%O)"))(l))]})]),N.createElement("span",{children:we.Children.toArray(Array.from(o))})))},oc(s.monomial.variables)))))),sx(e.monomials))))))}else return Oe()}));return N.createElement("span",{children:we.Children.toArray(Array.from(t))})}let e0=class extends ue{constructor(t,n,r,s){super(),this.n=t|0,this.inputString=n,this.input=r,this.state=s}},dc=class extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Input","ChangeN","Buchberger"]}};function fN(){return[new e0(2,"",void 0,void 0),P(e=>{e(new dc(0,[`1 1 0+1 0 1+-3 0 0
1 1 0+-1 0 1+-1 0 0`]))})]}function dN(e,t){switch(Me(F("msg: %O"))(e),e.tag){case 1:return[new e0(e.fields[0],t.inputString,t.input,t.state),P(n=>{n(new dc(2,[]))})];case 2:{const n=cN(t.n,t.inputString);return[new e0(t.n,t.inputString,n,le(aN,n)),ne()]}default:return[new e0(t.n,e.fields[0],t.input,t.state),P(n=>{n(new dc(2,[]))})]}}function hN(e){let t,n;const r=X([N.createElement("h1",{children:["G:"]}),(t=A(y(()=>dt(s=>{let i;return S((i=P(Qi(s[1])),N.createElement("li",{children:we.Children.toArray(Array.from(i))})))},_0(lr(e.G))))),N.createElement("ul",{children:we.Children.toArray(Array.from(t))})),N.createElement("h1",{children:["B:"]}),(n=A(y(()=>dt(s=>{let i;return S((i=X(["(",Qi(s[1][0]),", ",Qi(s[1][1]),")"]),N.createElement("li",{children:we.Children.toArray(Array.from(i))})))},_0(lr(e.B))))),N.createElement("ul",{children:we.Children.toArray(Array.from(n))}))]);return N.createElement("div",{children:we.Children.toArray(Array.from(r))})}function pN(e){let t,n,r,s,i,o,l;const u=X([N.createElement("h1",{children:["pair"]}),(t=P((n=P(Ae(e.B.SExpresstion)),N.createElement("li",{children:we.Children.toArray(Array.from(n))}))),N.createElement("ul",{children:we.Children.toArray(Array.from(t))})),N.createElement("h1",{children:["rewrite"]}),(r=A(y(()=>oe(a=>{const c=P(Ae(a));return N.createElement("li",{children:we.Children.toArray(Array.from(c))})},e.C.log))),N.createElement("ul",{children:we.Children.toArray(Array.from(r))})),N.createElement("h1",{children:["normal form"]}),(s=P((i=P(Ae(e.C.normalForm)),N.createElement("li",{children:we.Children.toArray(Array.from(i))}))),N.createElement("ul",{children:we.Children.toArray(Array.from(s))})),N.createElement("h1",{children:["G:"]}),(o=A(y(()=>dt(a=>{let c;return S((c=P(Qi(a[1])),N.createElement("li",{children:we.Children.toArray(Array.from(c))})))},_0(lr(e.newState.G))))),N.createElement("ul",{children:we.Children.toArray(Array.from(o))})),N.createElement("h1",{children:["B:"]}),(l=A(y(()=>dt(a=>{let c;return S((c=X(["(",Qi(a[1][0]),", ",Qi(a[1][1]),")"]),N.createElement("li",{children:we.Children.toArray(Array.from(c))})))},_0(lr(e.newState.B))))),N.createElement("ul",{children:we.Children.toArray(Array.from(l))}))]);return N.createElement("div",{children:we.Children.toArray(Array.from(u))})}function wN(e,t){const n=A(y(()=>E(S(N.createElement("input",{value:e.n,type:"number",onChange:r=>{const s=r.target.valueAsNumber;s!=null&&!Number.isNaN(s)&&t(new dc(1,[d0(s)]))}})),y(()=>E(S(N.createElement("textarea",{value:e.inputString,onChange:r=>{t(new dc(0,[r.target.value]))}})),y(()=>E(S(N.createElement("h1",{children:["F ="]})),y(()=>{let r;return E(S((r=A(y(()=>{const s=e.input;return s!=null?oe(i=>{const o=P(Qi(i));return N.createElement("li",{children:we.Children.toArray(Array.from(o))})},s):Oe()})),N.createElement("ul",{children:we.Children.toArray(Array.from(r))}))),y(()=>{const s=e.state;if(s!=null){const i=s;return E(S(N.createElement("h1",{children:[""]})),y(()=>{let o;const l=uN(i);return E(S((o=A(y(()=>oe(u=>{const a=P(Qi(u));return N.createElement("li",{children:we.Children.toArray(Array.from(a))})},l))),N.createElement("ul",{children:we.Children.toArray(Array.from(o))}))),y(()=>{let u;return S((u=A(y(()=>E(oe(a=>{const c=P(pN(a));return N.createElement("li",{children:we.Children.toArray(Array.from(c))})},i.log),y(()=>{let a;return S((a=P(hN(i.initialState)),N.createElement("li",{children:we.Children.toArray(Array.from(a))})))})))),N.createElement("ul",{children:we.Children.toArray(Array.from(u))})))}))}))}else return Oe()}))}))))))));return N.createElement("div",{children:we.Children.toArray(Array.from(n))})}var b2={exports:{}},Pr={},U2={exports:{}},j2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,Q){var re=I.length;I.push(Q);e:for(;0<re;){var _e=re-1>>>1,ye=I[_e];if(0<s(ye,Q))I[_e]=Q,I[re]=ye,re=_e;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Q=I[0],re=I.pop();if(re!==Q){I[0]=re;e:for(var _e=0,ye=I.length,Ye=ye>>>1;_e<Ye;){var at=2*(_e+1)-1,Mt=I[at],mt=at+1,hn=I[mt];if(0>s(Mt,re))mt<ye&&0>s(hn,Mt)?(I[_e]=hn,I[mt]=re,_e=mt):(I[_e]=Mt,I[at]=re,_e=at);else if(mt<ye&&0>s(hn,re))I[_e]=hn,I[mt]=re,_e=mt;else break e}}return Q}function s(I,Q){var re=I.sortIndex-Q.sortIndex;return re!==0?re:I.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],a=[],c=1,f=null,d=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(I){for(var Q=n(a);Q!==null;){if(Q.callback===null)r(a);else if(Q.startTime<=I)r(a),Q.sortIndex=Q.expirationTime,t(u,Q);else break;Q=n(a)}}function C(I){if(v=!1,$(I),!w)if(n(u)!==null)w=!0,te(k);else{var Q=n(a);Q!==null&&R(C,Q.startTime-I)}}function k(I,Q){w=!1,v&&(v=!1,p(V),V=-1),g=!0;var re=d;try{for($(Q),f=n(u);f!==null&&(!(f.expirationTime>Q)||I&&!B());){var _e=f.callback;if(typeof _e=="function"){f.callback=null,d=f.priorityLevel;var ye=_e(f.expirationTime<=Q);Q=e.unstable_now(),typeof ye=="function"?f.callback=ye:f===n(u)&&r(u),$(Q)}else r(u);f=n(u)}if(f!==null)var Ye=!0;else{var at=n(a);at!==null&&R(C,at.startTime-Q),Ye=!1}return Ye}finally{f=null,d=re,g=!1}}var T=!1,D=null,V=-1,U=5,O=-1;function B(){return!(e.unstable_now()-O<U)}function Z(){if(D!==null){var I=e.unstable_now();O=I;var Q=!0;try{Q=D(!0,I)}finally{Q?j():(T=!1,D=null)}}else T=!1}var j;if(typeof h=="function")j=function(){h(Z)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,W=ie.port2;ie.port1.onmessage=Z,j=function(){W.postMessage(null)}}else j=function(){_(Z,0)};function te(I){D=I,T||(T=!0,j())}function R(I,Q){V=_(function(){I(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,te(k))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(I){switch(d){case 1:case 2:case 3:var Q=3;break;default:Q=d}var re=d;d=Q;try{return I()}finally{d=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,Q){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var re=d;d=I;try{return Q()}finally{d=re}},e.unstable_scheduleCallback=function(I,Q,re){var _e=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,I){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,I={id:c++,callback:Q,priorityLevel:I,startTime:re,expirationTime:ye,sortIndex:-1},re>_e?(I.sortIndex=re,t(a,I),n(u)===null&&I===n(a)&&(v?(p(V),V=-1):v=!0,R(C,re-_e))):(I.sortIndex=ye,t(u,I),w||g||(w=!0,te(k))),I},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(I){var Q=d;return function(){var re=d;d=Q;try{return I.apply(this,arguments)}finally{d=re}}}})(j2);U2.exports=j2;var $N=U2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2=N,Mr=$N;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W2=new Set,hc={};function gl(e,t){Ru(e,t),Ru(e+"Capture",t)}function Ru(e,t){for(hc[e]=t,e=0;e<t.length;e++)W2.add(t[e])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,gN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fy={},zy={};function yN(e){return sp.call(zy,e)?!0:sp.call(Fy,e)?!1:gN.test(e)?zy[e]=!0:(Fy[e]=!0,!1)}function vN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mN(e,t,n,r){if(t===null||typeof t>"u"||vN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mn[e]=new Hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mn[t]=new Hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mn[e]=new Hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mn[e]=new Hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mn[e]=new Hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mn[e]=new Hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mn[e]=new Hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mn[e]=new Hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mn[e]=new Hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var t$=/[\-:]([a-z])/g;function n$(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(t$,n$);Mn[t]=new Hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(t$,n$);Mn[t]=new Hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(t$,n$);Mn[t]=new Hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mn[e]=new Hn(e,1,!1,e.toLowerCase(),null,!1,!1)});Mn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mn[e]=new Hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function r$(e,t,n,r){var s=Mn.hasOwnProperty(t)?Mn[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mN(t,n,s,r)&&(n=null),r||s===null?yN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ti=H2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gf=Symbol.for("react.element"),Ul=Symbol.for("react.portal"),jl=Symbol.for("react.fragment"),s$=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),Z2=Symbol.for("react.provider"),K2=Symbol.for("react.context"),i$=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),o$=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),q2=Symbol.for("react.offscreen"),Ly=Symbol.iterator;function va(e){return e===null||typeof e!="object"?null:(e=Ly&&e[Ly]||e["@@iterator"],typeof e=="function"?e:null)}var Bt=Object.assign,S1;function Oa(e){if(S1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);S1=t&&t[1]||""}return`
`+S1+e}var k1=!1;function E1(e,t){if(!e||k1)return"";k1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var s=a.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{k1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Oa(e):""}function _N(e){switch(e.tag){case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return e=E1(e.type,!1),e;case 11:return e=E1(e.type.render,!1),e;case 1:return e=E1(e.type,!0),e;default:return""}}function up(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jl:return"Fragment";case Ul:return"Portal";case ip:return"Profiler";case s$:return"StrictMode";case op:return"Suspense";case lp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case K2:return(e.displayName||"Context")+".Consumer";case Z2:return(e._context.displayName||"Context")+".Provider";case i$:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case o$:return t=e.displayName||null,t!==null?t:up(e.type)||"Memo";case Fi:t=e._payload,e=e._init;try{return up(e(t))}catch{}}return null}function CN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return up(t);case 8:return t===s$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ao(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Q2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SN(e){var t=Q2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yf(e){e._valueTracker||(e._valueTracker=SN(e))}function J2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function B0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ap(e,t){var n=t.checked;return Bt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ay(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ao(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function X2(e,t){t=t.checked,t!=null&&r$(e,"checked",t,!1)}function cp(e,t){X2(e,t);var n=ao(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?fp(e,t.type,n):t.hasOwnProperty("defaultValue")&&fp(e,t.type,ao(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function fp(e,t,n){(t!=="number"||B0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ra=Array.isArray;function fu(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ao(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return Bt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function By(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(se(92));if(Ra(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ao(n)}}function Y2(e,t){var n=ao(t.value),r=ao(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function by(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vf,tC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vf=vf||document.createElement("div"),vf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kN=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){kN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function nC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function rC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var EN=Bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(e,t){if(t){if(EN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function wp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function l$(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gp=null,du=null,hu=null;function Uy(e){if(e=qc(e)){if(typeof gp!="function")throw Error(se(280));var t=e.stateNode;t&&(t=Ad(t),gp(e.stateNode,e.type,t))}}function sC(e){du?hu?hu.push(e):hu=[e]:du=e}function iC(){if(du){var e=du,t=hu;if(hu=du=null,Uy(e),t)for(e=0;e<t.length;e++)Uy(t[e])}}function oC(e,t){return e(t)}function lC(){}var x1=!1;function uC(e,t,n){if(x1)return e(t,n);x1=!0;try{return oC(e,t,n)}finally{x1=!1,(du!==null||hu!==null)&&(lC(),iC())}}function wc(e,t){var n=e.stateNode;if(n===null)return null;var r=Ad(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var yp=!1;if(ki)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){yp=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{yp=!1}function xN(e,t,n,r,s,i,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(c){this.onError(c)}}var Wa=!1,b0=null,U0=!1,vp=null,MN={onError:function(e){Wa=!0,b0=e}};function TN(e,t,n,r,s,i,o,l,u){Wa=!1,b0=null,xN.apply(MN,arguments)}function IN(e,t,n,r,s,i,o,l,u){if(TN.apply(this,arguments),Wa){if(Wa){var a=b0;Wa=!1,b0=null}else throw Error(se(198));U0||(U0=!0,vp=a)}}function yl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function aC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jy(e){if(yl(e)!==e)throw Error(se(188))}function PN(e){var t=e.alternate;if(!t){if(t=yl(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return jy(s),e;if(i===r)return jy(s),t;i=i.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function cC(e){return e=PN(e),e!==null?fC(e):null}function fC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fC(e);if(t!==null)return t;e=e.sibling}return null}var dC=Mr.unstable_scheduleCallback,Hy=Mr.unstable_cancelCallback,DN=Mr.unstable_shouldYield,NN=Mr.unstable_requestPaint,Zt=Mr.unstable_now,VN=Mr.unstable_getCurrentPriorityLevel,u$=Mr.unstable_ImmediatePriority,hC=Mr.unstable_UserBlockingPriority,j0=Mr.unstable_NormalPriority,ON=Mr.unstable_LowPriority,pC=Mr.unstable_IdlePriority,Rd=null,Us=null;function RN(e){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(Rd,e,void 0,(e.current.flags&128)===128)}catch{}}var gs=Math.clz32?Math.clz32:LN,FN=Math.log,zN=Math.LN2;function LN(e){return e>>>=0,e===0?32:31-(FN(e)/zN|0)|0}var mf=64,_f=4194304;function Fa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function H0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Fa(l):(i&=o,i!==0&&(r=Fa(i)))}else o=n&~s,o!==0?r=Fa(o):i!==0&&(r=Fa(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-gs(t),s=1<<n,r|=e[n],t&=~s;return r}function AN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GN(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-gs(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=AN(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function mp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wC(){var e=mf;return mf<<=1,!(mf&4194240)&&(mf=64),e}function M1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gs(t),e[t]=n}function BN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-gs(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function a$(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-gs(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ht=0;function $C(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gC,c$,yC,vC,mC,_p=!1,Cf=[],Ji=null,Xi=null,Yi=null,$c=new Map,gc=new Map,Gi=[],bN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wy(e,t){switch(e){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Xi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":$c.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(t.pointerId)}}function _a(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=qc(t),t!==null&&c$(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function UN(e,t,n,r,s){switch(t){case"focusin":return Ji=_a(Ji,e,t,n,r,s),!0;case"dragenter":return Xi=_a(Xi,e,t,n,r,s),!0;case"mouseover":return Yi=_a(Yi,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return $c.set(i,_a($c.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,gc.set(i,_a(gc.get(i)||null,e,t,n,r,s)),!0}return!1}function _C(e){var t=jo(e.target);if(t!==null){var n=yl(t);if(n!==null){if(t=n.tag,t===13){if(t=aC(n),t!==null){e.blockedOn=t,mC(e.priority,function(){yC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function t0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return t=qc(n),t!==null&&c$(t),e.blockedOn=n,!1;t.shift()}return!0}function Zy(e,t,n){t0(e)&&n.delete(t)}function jN(){_p=!1,Ji!==null&&t0(Ji)&&(Ji=null),Xi!==null&&t0(Xi)&&(Xi=null),Yi!==null&&t0(Yi)&&(Yi=null),$c.forEach(Zy),gc.forEach(Zy)}function Ca(e,t){e.blockedOn===t&&(e.blockedOn=null,_p||(_p=!0,Mr.unstable_scheduleCallback(Mr.unstable_NormalPriority,jN)))}function yc(e){function t(s){return Ca(s,e)}if(0<Cf.length){Ca(Cf[0],e);for(var n=1;n<Cf.length;n++){var r=Cf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ji!==null&&Ca(Ji,e),Xi!==null&&Ca(Xi,e),Yi!==null&&Ca(Yi,e),$c.forEach(t),gc.forEach(t),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)_C(n),n.blockedOn===null&&Gi.shift()}var pu=Ti.ReactCurrentBatchConfig,W0=!0;function HN(e,t,n,r){var s=ht,i=pu.transition;pu.transition=null;try{ht=1,f$(e,t,n,r)}finally{ht=s,pu.transition=i}}function WN(e,t,n,r){var s=ht,i=pu.transition;pu.transition=null;try{ht=4,f$(e,t,n,r)}finally{ht=s,pu.transition=i}}function f$(e,t,n,r){if(W0){var s=Cp(e,t,n,r);if(s===null)z1(e,t,r,Z0,n),Wy(e,r);else if(UN(s,e,t,n,r))r.stopPropagation();else if(Wy(e,r),t&4&&-1<bN.indexOf(e)){for(;s!==null;){var i=qc(s);if(i!==null&&gC(i),i=Cp(e,t,n,r),i===null&&z1(e,t,r,Z0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else z1(e,t,r,null,n)}}var Z0=null;function Cp(e,t,n,r){if(Z0=null,e=l$(r),e=jo(e),e!==null)if(t=yl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=aC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Z0=e,null}function CC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VN()){case u$:return 1;case hC:return 4;case j0:case ON:return 16;case pC:return 536870912;default:return 16}default:return 16}}var Wi=null,d$=null,n0=null;function SC(){if(n0)return n0;var e,t=d$,n=t.length,r,s="value"in Wi?Wi.value:Wi.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return n0=s.slice(e,1<r?1-r:void 0)}function r0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sf(){return!0}function Ky(){return!1}function Dr(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Sf:Ky,this.isPropagationStopped=Ky,this}return Bt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sf)},persist:function(){},isPersistent:Sf}),t}var Yu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h$=Dr(Yu),Kc=Bt({},Yu,{view:0,detail:0}),ZN=Dr(Kc),T1,I1,Sa,Fd=Bt({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:p$,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(T1=e.screenX-Sa.screenX,I1=e.screenY-Sa.screenY):I1=T1=0,Sa=e),T1)},movementY:function(e){return"movementY"in e?e.movementY:I1}}),qy=Dr(Fd),KN=Bt({},Fd,{dataTransfer:0}),qN=Dr(KN),QN=Bt({},Kc,{relatedTarget:0}),P1=Dr(QN),JN=Bt({},Yu,{animationName:0,elapsedTime:0,pseudoElement:0}),XN=Dr(JN),YN=Bt({},Yu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e7=Dr(YN),t7=Bt({},Yu,{data:0}),Qy=Dr(t7),n7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s7[e])?!!t[e]:!1}function p$(){return i7}var o7=Bt({},Kc,{key:function(e){if(e.key){var t=n7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=r0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:p$,charCode:function(e){return e.type==="keypress"?r0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?r0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l7=Dr(o7),u7=Bt({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jy=Dr(u7),a7=Bt({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:p$}),c7=Dr(a7),f7=Bt({},Yu,{propertyName:0,elapsedTime:0,pseudoElement:0}),d7=Dr(f7),h7=Bt({},Fd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p7=Dr(h7),w7=[9,13,27,32],w$=ki&&"CompositionEvent"in window,Za=null;ki&&"documentMode"in document&&(Za=document.documentMode);var $7=ki&&"TextEvent"in window&&!Za,kC=ki&&(!w$||Za&&8<Za&&11>=Za),Xy=" ",Yy=!1;function EC(e,t){switch(e){case"keyup":return w7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hl=!1;function g7(e,t){switch(e){case"compositionend":return xC(t);case"keypress":return t.which!==32?null:(Yy=!0,Xy);case"textInput":return e=t.data,e===Xy&&Yy?null:e;default:return null}}function y7(e,t){if(Hl)return e==="compositionend"||!w$&&EC(e,t)?(e=SC(),n0=d$=Wi=null,Hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kC&&t.locale!=="ko"?null:t.data;default:return null}}var v7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!v7[e.type]:t==="textarea"}function MC(e,t,n,r){sC(r),t=K0(t,"onChange"),0<t.length&&(n=new h$("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ka=null,vc=null;function m7(e){LC(e,0)}function zd(e){var t=Kl(e);if(J2(t))return e}function _7(e,t){if(e==="change")return t}var TC=!1;if(ki){var D1;if(ki){var N1="oninput"in document;if(!N1){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),N1=typeof tv.oninput=="function"}D1=N1}else D1=!1;TC=D1&&(!document.documentMode||9<document.documentMode)}function nv(){Ka&&(Ka.detachEvent("onpropertychange",IC),vc=Ka=null)}function IC(e){if(e.propertyName==="value"&&zd(vc)){var t=[];MC(t,vc,e,l$(e)),uC(m7,t)}}function C7(e,t,n){e==="focusin"?(nv(),Ka=t,vc=n,Ka.attachEvent("onpropertychange",IC)):e==="focusout"&&nv()}function S7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zd(vc)}function k7(e,t){if(e==="click")return zd(t)}function E7(e,t){if(e==="input"||e==="change")return zd(t)}function x7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ms=typeof Object.is=="function"?Object.is:x7;function mc(e,t){if(ms(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!sp.call(t,s)||!ms(e[s],t[s]))return!1}return!0}function rv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sv(e,t){var n=rv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function PC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function DC(){for(var e=window,t=B0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=B0(e.document)}return t}function $$(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function M7(e){var t=DC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&PC(n.ownerDocument.documentElement,n)){if(r!==null&&$$(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=sv(n,i);var o=sv(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T7=ki&&"documentMode"in document&&11>=document.documentMode,Wl=null,Sp=null,qa=null,kp=!1;function iv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kp||Wl==null||Wl!==B0(r)||(r=Wl,"selectionStart"in r&&$$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qa&&mc(qa,r)||(qa=r,r=K0(Sp,"onSelect"),0<r.length&&(t=new h$("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wl)))}function kf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zl={animationend:kf("Animation","AnimationEnd"),animationiteration:kf("Animation","AnimationIteration"),animationstart:kf("Animation","AnimationStart"),transitionend:kf("Transition","TransitionEnd")},V1={},NC={};ki&&(NC=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function Ld(e){if(V1[e])return V1[e];if(!Zl[e])return e;var t=Zl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NC)return V1[e]=t[n];return e}var VC=Ld("animationend"),OC=Ld("animationiteration"),RC=Ld("animationstart"),FC=Ld("transitionend"),zC=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yo(e,t){zC.set(e,t),gl(t,[e])}for(var O1=0;O1<ov.length;O1++){var R1=ov[O1],I7=R1.toLowerCase(),P7=R1[0].toUpperCase()+R1.slice(1);yo(I7,"on"+P7)}yo(VC,"onAnimationEnd");yo(OC,"onAnimationIteration");yo(RC,"onAnimationStart");yo("dblclick","onDoubleClick");yo("focusin","onFocus");yo("focusout","onBlur");yo(FC,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gl("onBeforeInput",["compositionend","keypress","textInput","paste"]);gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D7=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function lv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,IN(r,t,void 0,e),e.currentTarget=null}function LC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;lv(s,l,a),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;lv(s,l,a),i=u}}}if(U0)throw e=vp,U0=!1,vp=null,e}function Tt(e,t){var n=t[Ip];n===void 0&&(n=t[Ip]=new Set);var r=e+"__bubble";n.has(r)||(AC(t,e,2,!1),n.add(r))}function F1(e,t,n){var r=0;t&&(r|=4),AC(n,e,r,t)}var Ef="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Ef]){e[Ef]=!0,W2.forEach(function(n){n!=="selectionchange"&&(D7.has(n)||F1(n,!1,e),F1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ef]||(t[Ef]=!0,F1("selectionchange",!1,t))}}function AC(e,t,n,r){switch(CC(t)){case 1:var s=HN;break;case 4:s=WN;break;default:s=f$}n=s.bind(null,t,n,e),s=void 0,!yp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function z1(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=jo(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}uC(function(){var a=i,c=l$(n),f=[];e:{var d=zC.get(e);if(d!==void 0){var g=h$,w=e;switch(e){case"keypress":if(r0(n)===0)break e;case"keydown":case"keyup":g=l7;break;case"focusin":w="focus",g=P1;break;case"focusout":w="blur",g=P1;break;case"beforeblur":case"afterblur":g=P1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=qN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=c7;break;case VC:case OC:case RC:g=XN;break;case FC:g=d7;break;case"scroll":g=ZN;break;case"wheel":g=p7;break;case"copy":case"cut":case"paste":g=e7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Jy}var v=(t&4)!==0,_=!v&&e==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var h=a,$;h!==null;){$=h;var C=$.stateNode;if($.tag===5&&C!==null&&($=C,p!==null&&(C=wc(h,p),C!=null&&v.push(Cc(h,C,$)))),_)break;h=h.return}0<v.length&&(d=new g(d,w,null,n,c),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==$p&&(w=n.relatedTarget||n.fromElement)&&(jo(w)||w[Ei]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=a,w=w?jo(w):null,w!==null&&(_=yl(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=a),g!==w)){if(v=qy,C="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(v=Jy,C="onPointerLeave",p="onPointerEnter",h="pointer"),_=g==null?d:Kl(g),$=w==null?d:Kl(w),d=new v(C,h+"leave",g,n,c),d.target=_,d.relatedTarget=$,C=null,jo(c)===a&&(v=new v(p,h+"enter",w,n,c),v.target=$,v.relatedTarget=_,C=v),_=C,g&&w)t:{for(v=g,p=w,h=0,$=v;$;$=Dl($))h++;for($=0,C=p;C;C=Dl(C))$++;for(;0<h-$;)v=Dl(v),h--;for(;0<$-h;)p=Dl(p),$--;for(;h--;){if(v===p||p!==null&&v===p.alternate)break t;v=Dl(v),p=Dl(p)}v=null}else v=null;g!==null&&uv(f,d,g,v,!1),w!==null&&_!==null&&uv(f,_,w,v,!0)}}e:{if(d=a?Kl(a):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=_7;else if(ev(d))if(TC)k=E7;else{k=S7;var T=C7}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=k7);if(k&&(k=k(e,a))){MC(f,k,n,c);break e}T&&T(e,d,a),e==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&fp(d,"number",d.value)}switch(T=a?Kl(a):window,e){case"focusin":(ev(T)||T.contentEditable==="true")&&(Wl=T,Sp=a,qa=null);break;case"focusout":qa=Sp=Wl=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,iv(f,n,c);break;case"selectionchange":if(T7)break;case"keydown":case"keyup":iv(f,n,c)}var D;if(w$)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else Hl?EC(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(kC&&n.locale!=="ko"&&(Hl||V!=="onCompositionStart"?V==="onCompositionEnd"&&Hl&&(D=SC()):(Wi=c,d$="value"in Wi?Wi.value:Wi.textContent,Hl=!0)),T=K0(a,V),0<T.length&&(V=new Qy(V,e,null,n,c),f.push({event:V,listeners:T}),D?V.data=D:(D=xC(n),D!==null&&(V.data=D)))),(D=$7?g7(e,n):y7(e,n))&&(a=K0(a,"onBeforeInput"),0<a.length&&(c=new Qy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=D))}LC(f,t)})}function Cc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function K0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wc(e,n),i!=null&&r.unshift(Cc(e,i,s)),i=wc(e,t),i!=null&&r.push(Cc(e,i,s))),e=e.return}return r}function Dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uv(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,s?(u=wc(n,i),u!=null&&o.unshift(Cc(n,u,l))):s||(u=wc(n,i),u!=null&&o.push(Cc(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var N7=/\r\n?/g,V7=/\u0000|\uFFFD/g;function av(e){return(typeof e=="string"?e:""+e).replace(N7,`
`).replace(V7,"")}function xf(e,t,n){if(t=av(t),av(e)!==t&&n)throw Error(se(425))}function q0(){}var Ep=null,xp=null;function Mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,O7=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,R7=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(e){return cv.resolve(null).then(e).catch(F7)}:Tp;function F7(e){setTimeout(function(){throw e})}function L1(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),yc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);yc(t)}function eo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ea=Math.random().toString(36).slice(2),Rs="__reactFiber$"+ea,Sc="__reactProps$"+ea,Ei="__reactContainer$"+ea,Ip="__reactEvents$"+ea,z7="__reactListeners$"+ea,L7="__reactHandles$"+ea;function jo(e){var t=e[Rs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[Rs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fv(e);e!==null;){if(n=e[Rs])return n;e=fv(e)}return t}e=n,n=e.parentNode}return null}function qc(e){return e=e[Rs]||e[Ei],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function Ad(e){return e[Sc]||null}var Pp=[],ql=-1;function vo(e){return{current:e}}function Nt(e){0>ql||(e.current=Pp[ql],Pp[ql]=null,ql--)}function xt(e,t){ql++,Pp[ql]=e.current,e.current=t}var co={},Rn=vo(co),rr=vo(!1),ul=co;function Fu(e,t){var n=e.type.contextTypes;if(!n)return co;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function sr(e){return e=e.childContextTypes,e!=null}function Q0(){Nt(rr),Nt(Rn)}function dv(e,t,n){if(Rn.current!==co)throw Error(se(168));xt(Rn,t),xt(rr,n)}function GC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(se(108,CN(e)||"Unknown",s));return Bt({},n,r)}function J0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||co,ul=Rn.current,xt(Rn,e),xt(rr,rr.current),!0}function hv(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=GC(e,t,ul),r.__reactInternalMemoizedMergedChildContext=e,Nt(rr),Nt(Rn),xt(Rn,e)):Nt(rr),xt(rr,n)}var ti=null,Gd=!1,A1=!1;function BC(e){ti===null?ti=[e]:ti.push(e)}function A7(e){Gd=!0,BC(e)}function mo(){if(!A1&&ti!==null){A1=!0;var e=0,t=ht;try{var n=ti;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ti=null,Gd=!1}catch(s){throw ti!==null&&(ti=ti.slice(e+1)),dC(u$,mo),s}finally{ht=t,A1=!1}}return null}var Ql=[],Jl=0,X0=null,Y0=0,Ar=[],Gr=0,al=null,li=1,ui="";function Po(e,t){Ql[Jl++]=Y0,Ql[Jl++]=X0,X0=e,Y0=t}function bC(e,t,n){Ar[Gr++]=li,Ar[Gr++]=ui,Ar[Gr++]=al,al=e;var r=li;e=ui;var s=32-gs(r)-1;r&=~(1<<s),n+=1;var i=32-gs(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,li=1<<32-gs(t)+s|n<<s|r,ui=i+e}else li=1<<i|n<<s|r,ui=e}function g$(e){e.return!==null&&(Po(e,1),bC(e,1,0))}function y$(e){for(;e===X0;)X0=Ql[--Jl],Ql[Jl]=null,Y0=Ql[--Jl],Ql[Jl]=null;for(;e===al;)al=Ar[--Gr],Ar[Gr]=null,ui=Ar[--Gr],Ar[Gr]=null,li=Ar[--Gr],Ar[Gr]=null}var Er=null,Sr=null,Rt=!1,ds=null;function UC(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function pv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Er=e,Sr=eo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Er=e,Sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=al!==null?{id:li,overflow:ui}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Er=e,Sr=null,!0):!1;default:return!1}}function Dp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Np(e){if(Rt){var t=Sr;if(t){var n=t;if(!pv(e,t)){if(Dp(e))throw Error(se(418));t=eo(n.nextSibling);var r=Er;t&&pv(e,t)?UC(r,n):(e.flags=e.flags&-4097|2,Rt=!1,Er=e)}}else{if(Dp(e))throw Error(se(418));e.flags=e.flags&-4097|2,Rt=!1,Er=e}}}function wv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Er=e}function Mf(e){if(e!==Er)return!1;if(!Rt)return wv(e),Rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mp(e.type,e.memoizedProps)),t&&(t=Sr)){if(Dp(e))throw jC(),Error(se(418));for(;t;)UC(e,t),t=eo(t.nextSibling)}if(wv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sr=eo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sr=null}}else Sr=Er?eo(e.stateNode.nextSibling):null;return!0}function jC(){for(var e=Sr;e;)e=eo(e.nextSibling)}function zu(){Sr=Er=null,Rt=!1}function v$(e){ds===null?ds=[e]:ds.push(e)}var G7=Ti.ReactCurrentBatchConfig;function as(e,t){if(e&&e.defaultProps){t=Bt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var ed=vo(null),td=null,Xl=null,m$=null;function _$(){m$=Xl=td=null}function C$(e){var t=ed.current;Nt(ed),e._currentValue=t}function Vp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wu(e,t){td=e,m$=Xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tr=!0),e.firstContext=null)}function es(e){var t=e._currentValue;if(m$!==e)if(e={context:e,memoizedValue:t,next:null},Xl===null){if(td===null)throw Error(se(308));Xl=e,td.dependencies={lanes:0,firstContext:e}}else Xl=Xl.next=e;return t}var Ho=null;function S$(e){Ho===null?Ho=[e]:Ho.push(e)}function HC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,S$(t)):(n.next=s.next,s.next=n),t.interleaved=n,xi(e,r)}function xi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zi=!1;function k$(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function to(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xi(e,n)}return s=r.interleaved,s===null?(t.next=t,S$(r)):(t.next=s.next,s.next=t),r.interleaved=t,xi(e,n)}function s0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,a$(e,n)}}function $v(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nd(e,t,n,r){var s=e.updateQueue;zi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?i=a:o.next=a,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=a:l.next=a,c.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,c=a=u=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(d=t,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,d=typeof w=="function"?w.call(g,f,d):w,d==null)break e;f=Bt({},f,d);break e;case 2:zi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(a=c=g,u=f):c=c.next=g,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(u=f),s.baseState=u,s.firstBaseUpdate=a,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fl|=o,e.lanes=o,e.memoizedState=f}}function gv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var ZC=new H2.Component().refs;function Op(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Bt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Bd={isMounted:function(e){return(e=e._reactInternals)?yl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bn(),s=ro(e),i=fi(r,s);i.payload=t,n!=null&&(i.callback=n),t=to(e,i,s),t!==null&&(ys(t,e,s,r),s0(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bn(),s=ro(e),i=fi(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=to(e,i,s),t!==null&&(ys(t,e,s,r),s0(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),r=ro(e),s=fi(n,r);s.tag=2,t!=null&&(s.callback=t),t=to(e,s,r),t!==null&&(ys(t,e,r,n),s0(t,e,r))}};function yv(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!mc(n,r)||!mc(s,i):!0}function KC(e,t,n){var r=!1,s=co,i=t.contextType;return typeof i=="object"&&i!==null?i=es(i):(s=sr(t)?ul:Rn.current,r=t.contextTypes,i=(r=r!=null)?Fu(e,s):co),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function vv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bd.enqueueReplaceState(t,t.state,null)}function Rp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=ZC,k$(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=es(i):(i=sr(t)?ul:Rn.current,s.context=Fu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Op(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Bd.enqueueReplaceState(s,s.state,null),nd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ka(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;l===ZC&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function Tf(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mv(e){var t=e._init;return t(e._payload)}function qC(e){function t(p,h){if(e){var $=p.deletions;$===null?(p.deletions=[h],p.flags|=16):$.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=so(p,h),p.index=0,p.sibling=null,p}function i(p,h,$){return p.index=$,e?($=p.alternate,$!==null?($=$.index,$<h?(p.flags|=2,h):$):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,$,C){return h===null||h.tag!==6?(h=W1($,p.mode,C),h.return=p,h):(h=s(h,$),h.return=p,h)}function u(p,h,$,C){var k=$.type;return k===jl?c(p,h,$.props.children,C,$.key):h!==null&&(h.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fi&&mv(k)===h.type)?(C=s(h,$.props),C.ref=ka(p,h,$),C.return=p,C):(C=c0($.type,$.key,$.props,null,p.mode,C),C.ref=ka(p,h,$),C.return=p,C)}function a(p,h,$,C){return h===null||h.tag!==4||h.stateNode.containerInfo!==$.containerInfo||h.stateNode.implementation!==$.implementation?(h=Z1($,p.mode,C),h.return=p,h):(h=s(h,$.children||[]),h.return=p,h)}function c(p,h,$,C,k){return h===null||h.tag!==7?(h=Xo($,p.mode,C,k),h.return=p,h):(h=s(h,$),h.return=p,h)}function f(p,h,$){if(typeof h=="string"&&h!==""||typeof h=="number")return h=W1(""+h,p.mode,$),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case gf:return $=c0(h.type,h.key,h.props,null,p.mode,$),$.ref=ka(p,null,h),$.return=p,$;case Ul:return h=Z1(h,p.mode,$),h.return=p,h;case Fi:var C=h._init;return f(p,C(h._payload),$)}if(Ra(h)||va(h))return h=Xo(h,p.mode,$,null),h.return=p,h;Tf(p,h)}return null}function d(p,h,$,C){var k=h!==null?h.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return k!==null?null:l(p,h,""+$,C);if(typeof $=="object"&&$!==null){switch($.$$typeof){case gf:return $.key===k?u(p,h,$,C):null;case Ul:return $.key===k?a(p,h,$,C):null;case Fi:return k=$._init,d(p,h,k($._payload),C)}if(Ra($)||va($))return k!==null?null:c(p,h,$,C,null);Tf(p,$)}return null}function g(p,h,$,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get($)||null,l(h,p,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gf:return p=p.get(C.key===null?$:C.key)||null,u(h,p,C,k);case Ul:return p=p.get(C.key===null?$:C.key)||null,a(h,p,C,k);case Fi:var T=C._init;return g(p,h,$,T(C._payload),k)}if(Ra(C)||va(C))return p=p.get($)||null,c(h,p,C,k,null);Tf(h,C)}return null}function w(p,h,$,C){for(var k=null,T=null,D=h,V=h=0,U=null;D!==null&&V<$.length;V++){D.index>V?(U=D,D=null):U=D.sibling;var O=d(p,D,$[V],C);if(O===null){D===null&&(D=U);break}e&&D&&O.alternate===null&&t(p,D),h=i(O,h,V),T===null?k=O:T.sibling=O,T=O,D=U}if(V===$.length)return n(p,D),Rt&&Po(p,V),k;if(D===null){for(;V<$.length;V++)D=f(p,$[V],C),D!==null&&(h=i(D,h,V),T===null?k=D:T.sibling=D,T=D);return Rt&&Po(p,V),k}for(D=r(p,D);V<$.length;V++)U=g(D,p,V,$[V],C),U!==null&&(e&&U.alternate!==null&&D.delete(U.key===null?V:U.key),h=i(U,h,V),T===null?k=U:T.sibling=U,T=U);return e&&D.forEach(function(B){return t(p,B)}),Rt&&Po(p,V),k}function v(p,h,$,C){var k=va($);if(typeof k!="function")throw Error(se(150));if($=k.call($),$==null)throw Error(se(151));for(var T=k=null,D=h,V=h=0,U=null,O=$.next();D!==null&&!O.done;V++,O=$.next()){D.index>V?(U=D,D=null):U=D.sibling;var B=d(p,D,O.value,C);if(B===null){D===null&&(D=U);break}e&&D&&B.alternate===null&&t(p,D),h=i(B,h,V),T===null?k=B:T.sibling=B,T=B,D=U}if(O.done)return n(p,D),Rt&&Po(p,V),k;if(D===null){for(;!O.done;V++,O=$.next())O=f(p,O.value,C),O!==null&&(h=i(O,h,V),T===null?k=O:T.sibling=O,T=O);return Rt&&Po(p,V),k}for(D=r(p,D);!O.done;V++,O=$.next())O=g(D,p,V,O.value,C),O!==null&&(e&&O.alternate!==null&&D.delete(O.key===null?V:O.key),h=i(O,h,V),T===null?k=O:T.sibling=O,T=O);return e&&D.forEach(function(Z){return t(p,Z)}),Rt&&Po(p,V),k}function _(p,h,$,C){if(typeof $=="object"&&$!==null&&$.type===jl&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case gf:e:{for(var k=$.key,T=h;T!==null;){if(T.key===k){if(k=$.type,k===jl){if(T.tag===7){n(p,T.sibling),h=s(T,$.props.children),h.return=p,p=h;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Fi&&mv(k)===T.type){n(p,T.sibling),h=s(T,$.props),h.ref=ka(p,T,$),h.return=p,p=h;break e}n(p,T);break}else t(p,T);T=T.sibling}$.type===jl?(h=Xo($.props.children,p.mode,C,$.key),h.return=p,p=h):(C=c0($.type,$.key,$.props,null,p.mode,C),C.ref=ka(p,h,$),C.return=p,p=C)}return o(p);case Ul:e:{for(T=$.key;h!==null;){if(h.key===T)if(h.tag===4&&h.stateNode.containerInfo===$.containerInfo&&h.stateNode.implementation===$.implementation){n(p,h.sibling),h=s(h,$.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Z1($,p.mode,C),h.return=p,p=h}return o(p);case Fi:return T=$._init,_(p,h,T($._payload),C)}if(Ra($))return w(p,h,$,C);if(va($))return v(p,h,$,C);Tf(p,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,$),h.return=p,p=h):(n(p,h),h=W1($,p.mode,C),h.return=p,p=h),o(p)):n(p,h)}return _}var Lu=qC(!0),QC=qC(!1),Qc={},js=vo(Qc),kc=vo(Qc),Ec=vo(Qc);function Wo(e){if(e===Qc)throw Error(se(174));return e}function E$(e,t){switch(xt(Ec,t),xt(kc,e),xt(js,Qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hp(t,e)}Nt(js),xt(js,t)}function Au(){Nt(js),Nt(kc),Nt(Ec)}function JC(e){Wo(Ec.current);var t=Wo(js.current),n=hp(t,e.type);t!==n&&(xt(kc,e),xt(js,n))}function x$(e){kc.current===e&&(Nt(js),Nt(kc))}var Lt=vo(0);function rd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G1=[];function M$(){for(var e=0;e<G1.length;e++)G1[e]._workInProgressVersionPrimary=null;G1.length=0}var i0=Ti.ReactCurrentDispatcher,B1=Ti.ReactCurrentBatchConfig,cl=0,Gt=null,an=null,$n=null,sd=!1,Qa=!1,xc=0,B7=0;function Tn(){throw Error(se(321))}function T$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ms(e[n],t[n]))return!1;return!0}function I$(e,t,n,r,s,i){if(cl=i,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,i0.current=e===null||e.memoizedState===null?H7:W7,e=n(r,s),Qa){i=0;do{if(Qa=!1,xc=0,25<=i)throw Error(se(301));i+=1,$n=an=null,t.updateQueue=null,i0.current=Z7,e=n(r,s)}while(Qa)}if(i0.current=id,t=an!==null&&an.next!==null,cl=0,$n=an=Gt=null,sd=!1,t)throw Error(se(300));return e}function P$(){var e=xc!==0;return xc=0,e}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?Gt.memoizedState=$n=e:$n=$n.next=e,$n}function ts(){if(an===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=an.next;var t=$n===null?Gt.memoizedState:$n.next;if(t!==null)$n=t,an=e;else{if(e===null)throw Error(se(310));an=e,e={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},$n===null?Gt.memoizedState=$n=e:$n=$n.next=e}return $n}function Mc(e,t){return typeof t=="function"?t(e):t}function b1(e){var t=ts(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=an,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,a=i;do{var c=a.lane;if((cl&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Gt.lanes|=c,fl|=c}a=a.next}while(a!==null&&a!==i);u===null?o=r:u.next=l,ms(r,t.memoizedState)||(tr=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Gt.lanes|=i,fl|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function U1(e){var t=ts(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ms(i,t.memoizedState)||(tr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function XC(){}function YC(e,t){var n=Gt,r=ts(),s=t(),i=!ms(r.memoizedState,s);if(i&&(r.memoizedState=s,tr=!0),r=r.queue,D$(nS.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||$n!==null&&$n.memoizedState.tag&1){if(n.flags|=2048,Tc(9,tS.bind(null,n,r,s,t),void 0,null),vn===null)throw Error(se(349));cl&30||eS(n,t,s)}return s}function eS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tS(e,t,n,r){t.value=n,t.getSnapshot=r,rS(t)&&sS(e)}function nS(e,t,n){return n(function(){rS(t)&&sS(e)})}function rS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ms(e,n)}catch{return!0}}function sS(e){var t=xi(e,1);t!==null&&ys(t,e,1,-1)}function _v(e){var t=Ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:e},t.queue=e,e=e.dispatch=j7.bind(null,Gt,e),[t.memoizedState,e]}function Tc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function iS(){return ts().memoizedState}function o0(e,t,n,r){var s=Ds();Gt.flags|=e,s.memoizedState=Tc(1|t,n,void 0,r===void 0?null:r)}function bd(e,t,n,r){var s=ts();r=r===void 0?null:r;var i=void 0;if(an!==null){var o=an.memoizedState;if(i=o.destroy,r!==null&&T$(r,o.deps)){s.memoizedState=Tc(t,n,i,r);return}}Gt.flags|=e,s.memoizedState=Tc(1|t,n,i,r)}function Cv(e,t){return o0(8390656,8,e,t)}function D$(e,t){return bd(2048,8,e,t)}function oS(e,t){return bd(4,2,e,t)}function lS(e,t){return bd(4,4,e,t)}function uS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aS(e,t,n){return n=n!=null?n.concat([e]):null,bd(4,4,uS.bind(null,t,e),n)}function N$(){}function cS(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fS(e,t){var n=ts();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&T$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dS(e,t,n){return cl&21?(ms(n,t)||(n=wC(),Gt.lanes|=n,fl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tr=!0),e.memoizedState=n)}function b7(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=B1.transition;B1.transition={};try{e(!1),t()}finally{ht=n,B1.transition=r}}function hS(){return ts().memoizedState}function U7(e,t,n){var r=ro(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pS(e))wS(t,n);else if(n=HC(e,t,n,r),n!==null){var s=bn();ys(n,e,r,s),$S(n,t,r)}}function j7(e,t,n){var r=ro(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pS(e))wS(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ms(l,o)){var u=t.interleaved;u===null?(s.next=s,S$(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=HC(e,t,s,r),n!==null&&(s=bn(),ys(n,e,r,s),$S(n,t,r))}}function pS(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function wS(e,t){Qa=sd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $S(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,a$(e,n)}}var id={readContext:es,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},H7={readContext:es,useCallback:function(e,t){return Ds().memoizedState=[e,t===void 0?null:t],e},useContext:es,useEffect:Cv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,o0(4194308,4,uS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return o0(4194308,4,e,t)},useInsertionEffect:function(e,t){return o0(4,2,e,t)},useMemo:function(e,t){var n=Ds();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ds();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=U7.bind(null,Gt,e),[r.memoizedState,e]},useRef:function(e){var t=Ds();return e={current:e},t.memoizedState=e},useState:_v,useDebugValue:N$,useDeferredValue:function(e){return Ds().memoizedState=e},useTransition:function(){var e=_v(!1),t=e[0];return e=b7.bind(null,e[1]),Ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Gt,s=Ds();if(Rt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),vn===null)throw Error(se(349));cl&30||eS(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Cv(nS.bind(null,r,i,e),[e]),r.flags|=2048,Tc(9,tS.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ds(),t=vn.identifierPrefix;if(Rt){var n=ui,r=li;n=(r&~(1<<32-gs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=xc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=B7++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},W7={readContext:es,useCallback:cS,useContext:es,useEffect:D$,useImperativeHandle:aS,useInsertionEffect:oS,useLayoutEffect:lS,useMemo:fS,useReducer:b1,useRef:iS,useState:function(){return b1(Mc)},useDebugValue:N$,useDeferredValue:function(e){var t=ts();return dS(t,an.memoizedState,e)},useTransition:function(){var e=b1(Mc)[0],t=ts().memoizedState;return[e,t]},useMutableSource:XC,useSyncExternalStore:YC,useId:hS,unstable_isNewReconciler:!1},Z7={readContext:es,useCallback:cS,useContext:es,useEffect:D$,useImperativeHandle:aS,useInsertionEffect:oS,useLayoutEffect:lS,useMemo:fS,useReducer:U1,useRef:iS,useState:function(){return U1(Mc)},useDebugValue:N$,useDeferredValue:function(e){var t=ts();return an===null?t.memoizedState=e:dS(t,an.memoizedState,e)},useTransition:function(){var e=U1(Mc)[0],t=ts().memoizedState;return[e,t]},useMutableSource:XC,useSyncExternalStore:YC,useId:hS,unstable_isNewReconciler:!1};function Gu(e,t){try{var n="",r=t;do n+=_N(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function j1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var K7=typeof WeakMap=="function"?WeakMap:Map;function gS(e,t,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ld||(ld=!0,Wp=r),Fp(e,t)},n}function yS(e,t,n){n=fi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Fp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fp(e,t),typeof r!="function"&&(no===null?no=new Set([this]):no.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Sv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new K7;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=uV.bind(null,e,t,n),t.then(e,e))}function kv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ev(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fi(-1,1),t.tag=2,to(n,t,1))),n.lanes|=1),e)}var q7=Ti.ReactCurrentOwner,tr=!1;function Gn(e,t,n,r){t.child=e===null?QC(t,null,n,r):Lu(t,e.child,n,r)}function xv(e,t,n,r,s){n=n.render;var i=t.ref;return wu(t,s),r=I$(e,t,n,r,i,s),n=P$(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mi(e,t,s)):(Rt&&n&&g$(t),t.flags|=1,Gn(e,t,r,s),t.child)}function Mv(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!G$(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,vS(e,t,i,r,s)):(e=c0(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mc,n(o,r)&&e.ref===t.ref)return Mi(e,t,s)}return t.flags|=1,e=so(i,r),e.ref=t.ref,e.return=t,t.child=e}function vS(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(mc(i,r)&&e.ref===t.ref)if(tr=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(tr=!0);else return t.lanes=e.lanes,Mi(e,t,s)}return zp(e,t,n,r,s)}function mS(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(eu,mr),mr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xt(eu,mr),mr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xt(eu,mr),mr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,xt(eu,mr),mr|=r;return Gn(e,t,s,n),t.child}function _S(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zp(e,t,n,r,s){var i=sr(n)?ul:Rn.current;return i=Fu(t,i),wu(t,s),n=I$(e,t,n,r,i,s),r=P$(),e!==null&&!tr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Mi(e,t,s)):(Rt&&r&&g$(t),t.flags|=1,Gn(e,t,n,s),t.child)}function Tv(e,t,n,r,s){if(sr(n)){var i=!0;J0(t)}else i=!1;if(wu(t,s),t.stateNode===null)l0(e,t),KC(t,n,r),Rp(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=es(a):(a=sr(n)?ul:Rn.current,a=Fu(t,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&vv(t,o,r,a),zi=!1;var d=t.memoizedState;o.state=d,nd(t,r,o,s),u=t.memoizedState,l!==r||d!==u||rr.current||zi?(typeof c=="function"&&(Op(t,n,c,r),u=t.memoizedState),(l=zi||yv(t,n,l,r,d,u,a))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,WC(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:as(t.type,l),o.props=a,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=es(u):(u=sr(n)?ul:Rn.current,u=Fu(t,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==u)&&vv(t,o,r,u),zi=!1,d=t.memoizedState,o.state=d,nd(t,r,o,s);var w=t.memoizedState;l!==f||d!==w||rr.current||zi?(typeof g=="function"&&(Op(t,n,g,r),w=t.memoizedState),(a=zi||yv(t,n,a,r,d,w,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Lp(e,t,n,r,i,s)}function Lp(e,t,n,r,s,i){_S(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&hv(t,n,!1),Mi(e,t,i);r=t.stateNode,q7.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Lu(t,e.child,null,i),t.child=Lu(t,null,l,i)):Gn(e,t,l,i),t.memoizedState=r.state,s&&hv(t,n,!0),t.child}function CS(e){var t=e.stateNode;t.pendingContext?dv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dv(e,t.context,!1),E$(e,t.containerInfo)}function Iv(e,t,n,r,s){return zu(),v$(s),t.flags|=256,Gn(e,t,n,r),t.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Gp(e){return{baseLanes:e,cachePool:null,transitions:null}}function SS(e,t,n){var r=t.pendingProps,s=Lt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),xt(Lt,s&1),e===null)return Np(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Hd(o,r,0,null),e=Xo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gp(n),t.memoizedState=Ap,e):V$(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Q7(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=so(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=so(l,i):(i=Xo(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ap,r}return i=e.child,e=i.sibling,r=so(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function V$(e,t){return t=Hd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function If(e,t,n,r){return r!==null&&v$(r),Lu(t,e.child,null,n),e=V$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Q7(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=j1(Error(se(422))),If(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Hd({mode:"visible",children:r.children},s,0,null),i=Xo(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Lu(t,e.child,null,o),t.child.memoizedState=Gp(o),t.memoizedState=Ap,i);if(!(t.mode&1))return If(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(se(419)),r=j1(i,r,void 0),If(e,t,o,r)}if(l=(o&e.childLanes)!==0,tr||l){if(r=vn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xi(e,s),ys(r,e,s,-1))}return A$(),r=j1(Error(se(421))),If(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=aV.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Sr=eo(s.nextSibling),Er=t,Rt=!0,ds=null,e!==null&&(Ar[Gr++]=li,Ar[Gr++]=ui,Ar[Gr++]=al,li=e.id,ui=e.overflow,al=t),t=V$(t,r.children),t.flags|=4096,t)}function Pv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vp(e.return,t,n)}function H1(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kS(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Gn(e,t,r.children,n),r=Lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pv(e,n,t);else if(e.tag===19)Pv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xt(Lt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),H1(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}H1(t,!0,n,null,i);break;case"together":H1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function l0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=so(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=so(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function J7(e,t,n){switch(t.tag){case 3:CS(t),zu();break;case 5:JC(t);break;case 1:sr(t.type)&&J0(t);break;case 4:E$(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;xt(ed,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xt(Lt,Lt.current&1),t.flags|=128,null):n&t.child.childLanes?SS(e,t,n):(xt(Lt,Lt.current&1),e=Mi(e,t,n),e!==null?e.sibling:null);xt(Lt,Lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xt(Lt,Lt.current),r)break;return null;case 22:case 23:return t.lanes=0,mS(e,t,n)}return Mi(e,t,n)}var ES,Bp,xS,MS;ES=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bp=function(){};xS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Wo(js.current);var i=null;switch(n){case"input":s=ap(e,s),r=ap(e,r),i=[];break;case"select":s=Bt({},s,{value:void 0}),r=Bt({},r,{value:void 0}),i=[];break;case"textarea":s=dp(e,s),r=dp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=q0)}pp(n,r);var o;n=null;for(a in s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style"){var l=s[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hc.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(l=s!=null?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(hc.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&Tt("scroll",e),i||l===u||(i=[])):(i=i||[]).push(a,u))}n&&(i=i||[]).push("style",n);var a=i;(t.updateQueue=a)&&(t.flags|=4)}};MS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ea(e,t){if(!Rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function In(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function X7(e,t,n){var r=t.pendingProps;switch(y$(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(t),null;case 1:return sr(t.type)&&Q0(),In(t),null;case 3:return r=t.stateNode,Au(),Nt(rr),Nt(Rn),M$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Mf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ds!==null&&(qp(ds),ds=null))),Bp(e,t),In(t),null;case 5:x$(t);var s=Wo(Ec.current);if(n=t.type,e!==null&&t.stateNode!=null)xS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return In(t),null}if(e=Wo(js.current),Mf(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rs]=t,r[Sc]=i,e=(t.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(s=0;s<za.length;s++)Tt(za[s],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":Ay(r,i),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Tt("invalid",r);break;case"textarea":By(r,i),Tt("invalid",r)}pp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&xf(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&xf(r.textContent,l,e),s=["children",""+l]):hc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Tt("scroll",r)}switch(n){case"input":yf(r),Gy(r,i,!0);break;case"textarea":yf(r),by(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=q0)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rs]=t,e[Sc]=r,ES(e,t,!1,!1),t.stateNode=e;e:{switch(o=wp(n,r),n){case"dialog":Tt("cancel",e),Tt("close",e),s=r;break;case"iframe":case"object":case"embed":Tt("load",e),s=r;break;case"video":case"audio":for(s=0;s<za.length;s++)Tt(za[s],e);s=r;break;case"source":Tt("error",e),s=r;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),s=r;break;case"details":Tt("toggle",e),s=r;break;case"input":Ay(e,r),s=ap(e,r),Tt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Bt({},r,{value:void 0}),Tt("invalid",e);break;case"textarea":By(e,r),s=dp(e,r),Tt("invalid",e);break;default:s=r}pp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?rC(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&tC(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pc(e,u):typeof u=="number"&&pc(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hc.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Tt("scroll",e):u!=null&&r$(e,i,u,o))}switch(n){case"input":yf(e),Gy(e,r,!1);break;case"textarea":yf(e),by(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ao(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?fu(e,!!r.multiple,i,!1):r.defaultValue!=null&&fu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=q0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return In(t),null;case 6:if(e&&t.stateNode!=null)MS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(n=Wo(Ec.current),Wo(js.current),Mf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rs]=t,(i=r.nodeValue!==n)&&(e=Er,e!==null))switch(e.tag){case 3:xf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xf(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rs]=t,t.stateNode=r}return In(t),null;case 13:if(Nt(Lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rt&&Sr!==null&&t.mode&1&&!(t.flags&128))jC(),zu(),t.flags|=98560,i=!1;else if(i=Mf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Rs]=t}else zu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;In(t),i=!1}else ds!==null&&(qp(ds),ds=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Lt.current&1?fn===0&&(fn=3):A$())),t.updateQueue!==null&&(t.flags|=4),In(t),null);case 4:return Au(),Bp(e,t),e===null&&_c(t.stateNode.containerInfo),In(t),null;case 10:return C$(t.type._context),In(t),null;case 17:return sr(t.type)&&Q0(),In(t),null;case 19:if(Nt(Lt),i=t.memoizedState,i===null)return In(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Ea(i,!1);else{if(fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=rd(e),o!==null){for(t.flags|=128,Ea(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xt(Lt,Lt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Zt()>Bu&&(t.flags|=128,r=!0,Ea(i,!1),t.lanes=4194304)}else{if(!r)if(e=rd(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ea(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Rt)return In(t),null}else 2*Zt()-i.renderingStartTime>Bu&&n!==1073741824&&(t.flags|=128,r=!0,Ea(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Zt(),t.sibling=null,n=Lt.current,xt(Lt,r?n&1|2:n&1),t):(In(t),null);case 22:case 23:return L$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mr&1073741824&&(In(t),t.subtreeFlags&6&&(t.flags|=8192)):In(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function Y7(e,t){switch(y$(t),t.tag){case 1:return sr(t.type)&&Q0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Au(),Nt(rr),Nt(Rn),M$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return x$(t),null;case 13:if(Nt(Lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));zu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Nt(Lt),null;case 4:return Au(),null;case 10:return C$(t.type._context),null;case 22:case 23:return L$(),null;case 24:return null;default:return null}}var Pf=!1,Nn=!1,eV=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Yl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function bp(e,t,n){try{n()}catch(r){bt(e,t,r)}}var Dv=!1;function tV(e,t){if(Ep=W0,e=DC(),$$(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,c=0,f=e,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===n&&++a===s&&(l=o),d===i&&++c===r&&(u=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:e,selectionRange:n},W0=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:as(t.type,v),_);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var $=t.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(C){bt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return w=Dv,Dv=!1,w}function Ja(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&bp(t,n,i)}s=s.next}while(s!==r)}}function Ud(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Up(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function TS(e){var t=e.alternate;t!==null&&(e.alternate=null,TS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rs],delete t[Sc],delete t[Ip],delete t[z7],delete t[L7])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function IS(e){return e.tag===5||e.tag===3||e.tag===4}function Nv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||IS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=q0));else if(r!==4&&(e=e.child,e!==null))for(jp(e,t,n),e=e.sibling;e!==null;)jp(e,t,n),e=e.sibling}function Hp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Hp(e,t,n),e=e.sibling;e!==null;)Hp(e,t,n),e=e.sibling}var Cn=null,fs=!1;function Oi(e,t,n){for(n=n.child;n!==null;)PS(e,t,n),n=n.sibling}function PS(e,t,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(Rd,n)}catch{}switch(n.tag){case 5:Nn||Yl(n,t);case 6:var r=Cn,s=fs;Cn=null,Oi(e,t,n),Cn=r,fs=s,Cn!==null&&(fs?(e=Cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Cn.removeChild(n.stateNode));break;case 18:Cn!==null&&(fs?(e=Cn,n=n.stateNode,e.nodeType===8?L1(e.parentNode,n):e.nodeType===1&&L1(e,n),yc(e)):L1(Cn,n.stateNode));break;case 4:r=Cn,s=fs,Cn=n.stateNode.containerInfo,fs=!0,Oi(e,t,n),Cn=r,fs=s;break;case 0:case 11:case 14:case 15:if(!Nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bp(n,t,o),s=s.next}while(s!==r)}Oi(e,t,n);break;case 1:if(!Nn&&(Yl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){bt(n,t,l)}Oi(e,t,n);break;case 21:Oi(e,t,n);break;case 22:n.mode&1?(Nn=(r=Nn)||n.memoizedState!==null,Oi(e,t,n),Nn=r):Oi(e,t,n);break;default:Oi(e,t,n)}}function Vv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eV),t.forEach(function(r){var s=cV.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Cn=l.stateNode,fs=!1;break e;case 3:Cn=l.stateNode.containerInfo,fs=!0;break e;case 4:Cn=l.stateNode.containerInfo,fs=!0;break e}l=l.return}if(Cn===null)throw Error(se(160));PS(i,o,s),Cn=null,fs=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(a){bt(s,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DS(t,e),t=t.sibling}function DS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),Is(e),r&4){try{Ja(3,e,e.return),Ud(3,e)}catch(v){bt(e,e.return,v)}try{Ja(5,e,e.return)}catch(v){bt(e,e.return,v)}}break;case 1:rs(t,e),Is(e),r&512&&n!==null&&Yl(n,n.return);break;case 5:if(rs(t,e),Is(e),r&512&&n!==null&&Yl(n,n.return),e.flags&32){var s=e.stateNode;try{pc(s,"")}catch(v){bt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&X2(s,i),wp(l,o);var a=wp(l,i);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?rC(s,f):c==="dangerouslySetInnerHTML"?tC(s,f):c==="children"?pc(s,f):r$(s,c,f,a)}switch(l){case"input":cp(s,i);break;case"textarea":Y2(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?fu(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?fu(s,!!i.multiple,i.defaultValue,!0):fu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Sc]=i}catch(v){bt(e,e.return,v)}}break;case 6:if(rs(t,e),Is(e),r&4){if(e.stateNode===null)throw Error(se(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){bt(e,e.return,v)}}break;case 3:if(rs(t,e),Is(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(t.containerInfo)}catch(v){bt(e,e.return,v)}break;case 4:rs(t,e),Is(e);break;case 13:rs(t,e),Is(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(F$=Zt())),r&4&&Vv(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Nn=(a=Nn)||c,rs(t,e),Nn=a):rs(t,e),Is(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!c&&e.mode&1)for(ge=e,c=e.child;c!==null;){for(f=ge=c;ge!==null;){switch(d=ge,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ja(4,d,d.return);break;case 1:Yl(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){bt(r,n,v)}}break;case 5:Yl(d,d.return);break;case 22:if(d.memoizedState!==null){Rv(f);continue}}g!==null?(g.return=d,ge=g):Rv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,a?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=nC("display",o))}catch(v){bt(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(v){bt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),Is(e),r&4&&Vv(e);break;case 21:break;default:rs(t,e),Is(e)}}function Is(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(IS(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pc(s,""),r.flags&=-33);var i=Nv(e);Hp(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Nv(e);jp(e,l,o);break;default:throw Error(se(161))}}catch(u){bt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nV(e,t,n){ge=e,NS(e)}function NS(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var s=ge,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Pf;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Nn;l=Pf;var a=Nn;if(Pf=o,(Nn=u)&&!a)for(ge=s;ge!==null;)o=ge,u=o.child,o.tag===22&&o.memoizedState!==null?Fv(s):u!==null?(u.return=o,ge=u):Fv(s);for(;i!==null;)ge=i,NS(i),i=i.sibling;ge=s,Pf=l,Nn=a}Ov(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ge=i):Ov(e)}}function Ov(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nn||Ud(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Nn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:as(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gv(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gv(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&yc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Nn||t.flags&512&&Up(t)}catch(d){bt(t,t.return,d)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Rv(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Fv(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ud(4,t)}catch(u){bt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){bt(t,s,u)}}var i=t.return;try{Up(t)}catch(u){bt(t,i,u)}break;case 5:var o=t.return;try{Up(t)}catch(u){bt(t,o,u)}}}catch(u){bt(t,t.return,u)}if(t===e){ge=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ge=l;break}ge=t.return}}var rV=Math.ceil,od=Ti.ReactCurrentDispatcher,O$=Ti.ReactCurrentOwner,Qr=Ti.ReactCurrentBatchConfig,Je=0,vn=null,en=null,xn=0,mr=0,eu=vo(0),fn=0,Ic=null,fl=0,jd=0,R$=0,Xa=null,Yn=null,F$=0,Bu=1/0,Ys=null,ld=!1,Wp=null,no=null,Df=!1,Zi=null,ud=0,Ya=0,Zp=null,u0=-1,a0=0;function bn(){return Je&6?Zt():u0!==-1?u0:u0=Zt()}function ro(e){return e.mode&1?Je&2&&xn!==0?xn&-xn:G7.transition!==null?(a0===0&&(a0=wC()),a0):(e=ht,e!==0||(e=window.event,e=e===void 0?16:CC(e.type)),e):1}function ys(e,t,n,r){if(50<Ya)throw Ya=0,Zp=null,Error(se(185));Zc(e,n,r),(!(Je&2)||e!==vn)&&(e===vn&&(!(Je&2)&&(jd|=n),fn===4&&Bi(e,xn)),ir(e,r),n===1&&Je===0&&!(t.mode&1)&&(Bu=Zt()+500,Gd&&mo()))}function ir(e,t){var n=e.callbackNode;GN(e,t);var r=H0(e,e===vn?xn:0);if(r===0)n!==null&&Hy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hy(n),t===1)e.tag===0?A7(zv.bind(null,e)):BC(zv.bind(null,e)),R7(function(){!(Je&6)&&mo()}),n=null;else{switch($C(r)){case 1:n=u$;break;case 4:n=hC;break;case 16:n=j0;break;case 536870912:n=pC;break;default:n=j0}n=GS(n,VS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function VS(e,t){if(u0=-1,a0=0,Je&6)throw Error(se(327));var n=e.callbackNode;if($u()&&e.callbackNode!==n)return null;var r=H0(e,e===vn?xn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ad(e,r);else{t=r;var s=Je;Je|=2;var i=RS();(vn!==e||xn!==t)&&(Ys=null,Bu=Zt()+500,Jo(e,t));do try{oV();break}catch(l){OS(e,l)}while(!0);_$(),od.current=i,Je=s,en!==null?t=0:(vn=null,xn=0,t=fn)}if(t!==0){if(t===2&&(s=mp(e),s!==0&&(r=s,t=Kp(e,s))),t===1)throw n=Ic,Jo(e,0),Bi(e,r),ir(e,Zt()),n;if(t===6)Bi(e,r);else{if(s=e.current.alternate,!(r&30)&&!sV(s)&&(t=ad(e,r),t===2&&(i=mp(e),i!==0&&(r=i,t=Kp(e,i))),t===1))throw n=Ic,Jo(e,0),Bi(e,r),ir(e,Zt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:Do(e,Yn,Ys);break;case 3:if(Bi(e,r),(r&130023424)===r&&(t=F$+500-Zt(),10<t)){if(H0(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){bn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Tp(Do.bind(null,e,Yn,Ys),t);break}Do(e,Yn,Ys);break;case 4:if(Bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-gs(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rV(r/1960))-r,10<r){e.timeoutHandle=Tp(Do.bind(null,e,Yn,Ys),r);break}Do(e,Yn,Ys);break;case 5:Do(e,Yn,Ys);break;default:throw Error(se(329))}}}return ir(e,Zt()),e.callbackNode===n?VS.bind(null,e):null}function Kp(e,t){var n=Xa;return e.current.memoizedState.isDehydrated&&(Jo(e,t).flags|=256),e=ad(e,t),e!==2&&(t=Yn,Yn=n,t!==null&&qp(t)),e}function qp(e){Yn===null?Yn=e:Yn.push.apply(Yn,e)}function sV(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ms(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bi(e,t){for(t&=~R$,t&=~jd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-gs(t),r=1<<n;e[n]=-1,t&=~r}}function zv(e){if(Je&6)throw Error(se(327));$u();var t=H0(e,0);if(!(t&1))return ir(e,Zt()),null;var n=ad(e,t);if(e.tag!==0&&n===2){var r=mp(e);r!==0&&(t=r,n=Kp(e,r))}if(n===1)throw n=Ic,Jo(e,0),Bi(e,t),ir(e,Zt()),n;if(n===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Do(e,Yn,Ys),ir(e,Zt()),null}function z$(e,t){var n=Je;Je|=1;try{return e(t)}finally{Je=n,Je===0&&(Bu=Zt()+500,Gd&&mo())}}function dl(e){Zi!==null&&Zi.tag===0&&!(Je&6)&&$u();var t=Je;Je|=1;var n=Qr.transition,r=ht;try{if(Qr.transition=null,ht=1,e)return e()}finally{ht=r,Qr.transition=n,Je=t,!(Je&6)&&mo()}}function L$(){mr=eu.current,Nt(eu)}function Jo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,O7(n)),en!==null)for(n=en.return;n!==null;){var r=n;switch(y$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Q0();break;case 3:Au(),Nt(rr),Nt(Rn),M$();break;case 5:x$(r);break;case 4:Au();break;case 13:Nt(Lt);break;case 19:Nt(Lt);break;case 10:C$(r.type._context);break;case 22:case 23:L$()}n=n.return}if(vn=e,en=e=so(e.current,null),xn=mr=t,fn=0,Ic=null,R$=jd=fl=0,Yn=Xa=null,Ho!==null){for(t=0;t<Ho.length;t++)if(n=Ho[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ho=null}return e}function OS(e,t){do{var n=en;try{if(_$(),i0.current=id,sd){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sd=!1}if(cl=0,$n=an=Gt=null,Qa=!1,xc=0,O$.current=null,n===null||n.return===null){fn=1,Ic=t,en=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=xn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=kv(o);if(g!==null){g.flags&=-257,Ev(g,o,l,i,t),g.mode&1&&Sv(i,a,t),t=g,u=a;var w=t.updateQueue;if(w===null){var v=new Set;v.add(u),t.updateQueue=v}else w.add(u);break e}else{if(!(t&1)){Sv(i,a,t),A$();break e}u=Error(se(426))}}else if(Rt&&l.mode&1){var _=kv(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Ev(_,o,l,i,t),v$(Gu(u,l));break e}}i=u=Gu(u,l),fn!==4&&(fn=2),Xa===null?Xa=[i]:Xa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=gS(i,u,t);$v(i,p);break e;case 1:l=u;var h=i.type,$=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(no===null||!no.has($)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=yS(i,l,t);$v(i,C);break e}}i=i.return}while(i!==null)}zS(n)}catch(k){t=k,en===n&&n!==null&&(en=n=n.return);continue}break}while(!0)}function RS(){var e=od.current;return od.current=id,e===null?id:e}function A$(){(fn===0||fn===3||fn===2)&&(fn=4),vn===null||!(fl&268435455)&&!(jd&268435455)||Bi(vn,xn)}function ad(e,t){var n=Je;Je|=2;var r=RS();(vn!==e||xn!==t)&&(Ys=null,Jo(e,t));do try{iV();break}catch(s){OS(e,s)}while(!0);if(_$(),Je=n,od.current=r,en!==null)throw Error(se(261));return vn=null,xn=0,fn}function iV(){for(;en!==null;)FS(en)}function oV(){for(;en!==null&&!DN();)FS(en)}function FS(e){var t=AS(e.alternate,e,mr);e.memoizedProps=e.pendingProps,t===null?zS(e):en=t,O$.current=null}function zS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Y7(n,t),n!==null){n.flags&=32767,en=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fn=6,en=null;return}}else if(n=X7(n,t,mr),n!==null){en=n;return}if(t=t.sibling,t!==null){en=t;return}en=t=e}while(t!==null);fn===0&&(fn=5)}function Do(e,t,n){var r=ht,s=Qr.transition;try{Qr.transition=null,ht=1,lV(e,t,n,r)}finally{Qr.transition=s,ht=r}return null}function lV(e,t,n,r){do $u();while(Zi!==null);if(Je&6)throw Error(se(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(BN(e,i),e===vn&&(en=vn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Df||(Df=!0,GS(j0,function(){return $u(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qr.transition,Qr.transition=null;var o=ht;ht=1;var l=Je;Je|=4,O$.current=null,tV(e,n),DS(n,e),M7(xp),W0=!!Ep,xp=Ep=null,e.current=n,nV(n),NN(),Je=l,ht=o,Qr.transition=i}else e.current=n;if(Df&&(Df=!1,Zi=e,ud=s),i=e.pendingLanes,i===0&&(no=null),RN(n.stateNode),ir(e,Zt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ld)throw ld=!1,e=Wp,Wp=null,e;return ud&1&&e.tag!==0&&$u(),i=e.pendingLanes,i&1?e===Zp?Ya++:(Ya=0,Zp=e):Ya=0,mo(),null}function $u(){if(Zi!==null){var e=$C(ud),t=Qr.transition,n=ht;try{if(Qr.transition=null,ht=16>e?16:e,Zi===null)var r=!1;else{if(e=Zi,Zi=null,ud=0,Je&6)throw Error(se(331));var s=Je;for(Je|=4,ge=e.current;ge!==null;){var i=ge,o=i.child;if(ge.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for(ge=a;ge!==null;){var c=ge;switch(c.tag){case 0:case 11:case 15:Ja(8,c,i)}var f=c.child;if(f!==null)f.return=c,ge=f;else for(;ge!==null;){c=ge;var d=c.sibling,g=c.return;if(TS(c),c===a){ge=null;break}if(d!==null){d.return=g,ge=d;break}ge=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}ge=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ge=o;else e:for(;ge!==null;){if(i=ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ja(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,ge=p;break e}ge=i.return}}var h=e.current;for(ge=h;ge!==null;){o=ge;var $=o.child;if(o.subtreeFlags&2064&&$!==null)$.return=o,ge=$;else e:for(o=h;ge!==null;){if(l=ge,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ud(9,l)}}catch(k){bt(l,l.return,k)}if(l===o){ge=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ge=C;break e}ge=l.return}}if(Je=s,mo(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(Rd,e)}catch{}r=!0}return r}finally{ht=n,Qr.transition=t}}return!1}function Lv(e,t,n){t=Gu(n,t),t=gS(e,t,1),e=to(e,t,1),t=bn(),e!==null&&(Zc(e,1,t),ir(e,t))}function bt(e,t,n){if(e.tag===3)Lv(e,e,n);else for(;t!==null;){if(t.tag===3){Lv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(no===null||!no.has(r))){e=Gu(n,e),e=yS(t,e,1),t=to(t,e,1),e=bn(),t!==null&&(Zc(t,1,e),ir(t,e));break}}t=t.return}}function uV(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&n,vn===e&&(xn&n)===n&&(fn===4||fn===3&&(xn&130023424)===xn&&500>Zt()-F$?Jo(e,0):R$|=n),ir(e,t)}function LS(e,t){t===0&&(e.mode&1?(t=_f,_f<<=1,!(_f&130023424)&&(_f=4194304)):t=1);var n=bn();e=xi(e,t),e!==null&&(Zc(e,t,n),ir(e,n))}function aV(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LS(e,n)}function cV(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),LS(e,n)}var AS;AS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rr.current)tr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tr=!1,J7(e,t,n);tr=!!(e.flags&131072)}else tr=!1,Rt&&t.flags&1048576&&bC(t,Y0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;l0(e,t),e=t.pendingProps;var s=Fu(t,Rn.current);wu(t,n),s=I$(null,t,r,e,s,n);var i=P$();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,sr(r)?(i=!0,J0(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,k$(t),s.updater=Bd,t.stateNode=s,s._reactInternals=t,Rp(t,r,e,n),t=Lp(null,t,r,!0,i,n)):(t.tag=0,Rt&&i&&g$(t),Gn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(l0(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=dV(r),e=as(r,e),s){case 0:t=zp(null,t,r,e,n);break e;case 1:t=Tv(null,t,r,e,n);break e;case 11:t=xv(null,t,r,e,n);break e;case 14:t=Mv(null,t,r,as(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),zp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),Tv(e,t,r,s,n);case 3:e:{if(CS(t),e===null)throw Error(se(387));r=t.pendingProps,i=t.memoizedState,s=i.element,WC(e,t),nd(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gu(Error(se(423)),t),t=Iv(e,t,r,n,s);break e}else if(r!==s){s=Gu(Error(se(424)),t),t=Iv(e,t,r,n,s);break e}else for(Sr=eo(t.stateNode.containerInfo.firstChild),Er=t,Rt=!0,ds=null,n=QC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zu(),r===s){t=Mi(e,t,n);break e}Gn(e,t,r,n)}t=t.child}return t;case 5:return JC(t),e===null&&Np(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Mp(r,s)?o=null:i!==null&&Mp(r,i)&&(t.flags|=32),_S(e,t),Gn(e,t,o,n),t.child;case 6:return e===null&&Np(t),null;case 13:return SS(e,t,n);case 4:return E$(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Lu(t,null,r,n):Gn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),xv(e,t,r,s,n);case 7:return Gn(e,t,t.pendingProps,n),t.child;case 8:return Gn(e,t,t.pendingProps.children,n),t.child;case 12:return Gn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,xt(ed,r._currentValue),r._currentValue=o,i!==null)if(ms(i.value,o)){if(i.children===s.children&&!rr.current){t=Mi(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=fi(-1,n&-n),u.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Vp(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vp(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Gn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,wu(t,n),s=es(s),r=r(s),t.flags|=1,Gn(e,t,r,n),t.child;case 14:return r=t.type,s=as(r,t.pendingProps),s=as(r.type,s),Mv(e,t,r,s,n);case 15:return vS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:as(r,s),l0(e,t),t.tag=1,sr(r)?(e=!0,J0(t)):e=!1,wu(t,n),KC(t,r,s),Rp(t,r,s,n),Lp(null,t,r,!0,e,n);case 19:return kS(e,t,n);case 22:return mS(e,t,n)}throw Error(se(156,t.tag))};function GS(e,t){return dC(e,t)}function fV(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(e,t,n,r){return new fV(e,t,n,r)}function G$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dV(e){if(typeof e=="function")return G$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i$)return 11;if(e===o$)return 14}return 2}function so(e,t){var n=e.alternate;return n===null?(n=Hr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function c0(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")G$(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case jl:return Xo(n.children,s,i,t);case s$:o=8,s|=8;break;case ip:return e=Hr(12,n,t,s|2),e.elementType=ip,e.lanes=i,e;case op:return e=Hr(13,n,t,s),e.elementType=op,e.lanes=i,e;case lp:return e=Hr(19,n,t,s),e.elementType=lp,e.lanes=i,e;case q2:return Hd(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z2:o=10;break e;case K2:o=9;break e;case i$:o=11;break e;case o$:o=14;break e;case Fi:o=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=Hr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Xo(e,t,n,r){return e=Hr(7,e,r,t),e.lanes=n,e}function Hd(e,t,n,r){return e=Hr(22,e,r,t),e.elementType=q2,e.lanes=n,e.stateNode={isHidden:!1},e}function W1(e,t,n){return e=Hr(6,e,null,t),e.lanes=n,e}function Z1(e,t,n){return t=Hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hV(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M1(0),this.expirationTimes=M1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function B$(e,t,n,r,s,i,o,l,u){return e=new hV(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},k$(i),e}function pV(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ul,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function BS(e){if(!e)return co;e=e._reactInternals;e:{if(yl(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(sr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var n=e.type;if(sr(n))return GC(e,n,t)}return t}function bS(e,t,n,r,s,i,o,l,u){return e=B$(n,r,!0,e,s,i,o,l,u),e.context=BS(null),n=e.current,r=bn(),s=ro(n),i=fi(r,s),i.callback=t??null,to(n,i,s),e.current.lanes=s,Zc(e,s,r),ir(e,r),e}function Wd(e,t,n,r){var s=t.current,i=bn(),o=ro(s);return n=BS(n),t.context===null?t.context=n:t.pendingContext=n,t=fi(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=to(s,t,o),e!==null&&(ys(e,s,o,i),s0(e,s,o)),o}function cd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Av(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function b$(e,t){Av(e,t),(e=e.alternate)&&Av(e,t)}function wV(){return null}var US=typeof reportError=="function"?reportError:function(e){console.error(e)};function U$(e){this._internalRoot=e}Zd.prototype.render=U$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));Wd(e,t,null,null)};Zd.prototype.unmount=U$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dl(function(){Wd(null,e,null,null)}),t[Ei]=null}};function Zd(e){this._internalRoot=e}Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=vC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gi.length&&t!==0&&t<Gi[n].priority;n++);Gi.splice(n,0,e),n===0&&_C(e)}};function j$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function $V(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var a=cd(o);i.call(a)}}var o=bS(t,r,e,0,null,!1,!1,"",Gv);return e._reactRootContainer=o,e[Ei]=o.current,_c(e.nodeType===8?e.parentNode:e),dl(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var a=cd(u);l.call(a)}}var u=B$(e,0,!1,null,null,!1,!1,"",Gv);return e._reactRootContainer=u,e[Ei]=u.current,_c(e.nodeType===8?e.parentNode:e),dl(function(){Wd(t,u,n,r)}),u}function qd(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=cd(o);l.call(u)}}Wd(t,o,e,s)}else o=$V(n,t,e,s,r);return cd(o)}gC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Fa(t.pendingLanes);n!==0&&(a$(t,n|1),ir(t,Zt()),!(Je&6)&&(Bu=Zt()+500,mo()))}break;case 13:dl(function(){var r=xi(e,1);if(r!==null){var s=bn();ys(r,e,1,s)}}),b$(e,1)}};c$=function(e){if(e.tag===13){var t=xi(e,134217728);if(t!==null){var n=bn();ys(t,e,134217728,n)}b$(e,134217728)}};yC=function(e){if(e.tag===13){var t=ro(e),n=xi(e,t);if(n!==null){var r=bn();ys(n,e,t,r)}b$(e,t)}};vC=function(){return ht};mC=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};gp=function(e,t,n){switch(t){case"input":if(cp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ad(r);if(!s)throw Error(se(90));J2(r),cp(r,s)}}}break;case"textarea":Y2(e,n);break;case"select":t=n.value,t!=null&&fu(e,!!n.multiple,t,!1)}};oC=z$;lC=dl;var gV={usingClientEntryPoint:!1,Events:[qc,Kl,Ad,sC,iC,z$]},xa={findFiberByHostInstance:jo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yV={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cC(e),e===null?null:e.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{Rd=Nf.inject(yV),Us=Nf}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gV;Pr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!j$(t))throw Error(se(200));return pV(e,t,null,n)};Pr.createRoot=function(e,t){if(!j$(e))throw Error(se(299));var n=!1,r="",s=US;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=B$(e,1,!1,null,null,n,!1,r,s),e[Ei]=t.current,_c(e.nodeType===8?e.parentNode:e),new U$(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=cC(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return dl(e)};Pr.hydrate=function(e,t,n){if(!Kd(t))throw Error(se(200));return qd(null,e,t,!0,n)};Pr.hydrateRoot=function(e,t,n){if(!j$(e))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=US;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bS(t,null,e,1,n??null,s,!1,i,o),e[Ei]=t.current,_c(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Zd(t)};Pr.render=function(e,t,n){if(!Kd(t))throw Error(se(200));return qd(null,e,t,!1,n)};Pr.unmountComponentAtNode=function(e){if(!Kd(e))throw Error(se(40));return e._reactRootContainer?(dl(function(){qd(null,null,e,!1,function(){e._reactRootContainer=null,e[Ei]=null})}),!0):!1};Pr.unstable_batchedUpdates=z$;Pr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Kd(n))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return qd(e,t,n,!1,r)};Pr.version="18.2.0-next-9e3b772b8-20220608";function jS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jS)}catch(e){console.error(e)}}jS(),b2.exports=Pr;var HS=b2.exports,WS,Bv=HS;WS=Bv.createRoot,Bv.hydrateRoot;class vV extends ue{constructor(t,n,r){super(),this.model=t,this.render=n,this.equal=r}}class mV extends N.Component{constructor(t){super(t)}shouldComponentUpdate(t,n){const r=this;return!r.props.equal(r.props.model,t.model)}render(){return this.props.render()}}function _V(e,t,n,r){const s=new vV(n,()=>t(n,r),e);return N.createElement(mV,s)}const CV=(()=>{try{return Xn(N.version.slice(void 0,2),511,!1,32)>=18}catch{return!1}})();function SV(e,t,n){let r;return Y3(gu(CV?(r=WS(document.getElementById(t)),s=>i=>{r.render(e(o=>l=>o===l,Ig(n),s,i))}):s=>i=>{HS.render(e(o=>l=>o===l,Ig(n),s,i),document.getElementById(t))}),n)}function kV(e,t){return SV((n,r,s,i)=>_V(gu(n),gu(r),s,i),e,t)}class No extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["StringDiagramPage","GraphPage","PolyGraphPage","OekakiPage","MultiOekakiPage","InterpreterPage","UemuraLogicalFrameworkPage","TermRewritingPage"]}}function EV(e){switch(e.tag){case 1:return"graph";case 2:return"polygraph";case 3:return"oekaki";case 4:return"multi oekaki";case 5:return"interpreter";case 6:return"ulf";case 7:return"";default:return""}}const xV=X([new No(1,[]),new No(0,[]),new No(2,[]),new No(3,[]),new No(5,[]),new No(7,[])]);class Ps extends ue{constructor(t,n,r,s,i,o,l,u,a){super(),this.stringDiagram=t,this.graph=n,this.polyGraph=r,this.oekaki=s,this.multiOekaki=i,this.interpreter=o,this.uemuraLogicalFramework=l,this.termRewriting=u,this.page=a}}class ft extends fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["GraphMsg","StringDiagramMsg","PolyGraphMsg","OekakiMsg","MultiOekakiMsg","InterpreterMsg","UemuraLogicalFrameworkMsg","TermRewritingMsg","ChangePage"]}}function MV(){const e=i_(),t=F_(),n=_P(),r=XP(),s=wD(),i=s5(),o=O5(),l=fN();return[new Ps(e[0],t[0],n[0],r[0],s[0],i[0],o[0],l[0],new No(0,[])),tn(X([Sn(u=>new ft(1,[u]),e[1]),Sn(u=>new ft(0,[u]),t[1]),Sn(u=>new ft(2,[u]),n[1]),Sn(u=>new ft(3,[u]),r[1]),Sn(u=>new ft(4,[u]),s[1]),Sn(u=>new ft(5,[u]),i[1]),Sn(u=>new ft(6,[u]),o[1]),Sn(u=>new ft(7,[u]),l[1])]))]}function TV(e,t){switch(e.tag){case 1:{const n=o_(e.fields[0],t.stringDiagram);return[new Ps(n[0],t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.termRewriting,t.page),Sn(r=>new ft(1,[r]),n[1])]}case 2:{const n=IP(e.fields[0],t.polyGraph);return[new Ps(t.stringDiagram,t.graph,n[0],t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.termRewriting,t.page),Sn(r=>new ft(2,[r]),n[1])]}case 3:{const n=rD(e.fields[0],t.oekaki);return[new Ps(t.stringDiagram,t.graph,t.polyGraph,n[0],t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.termRewriting,t.page),Sn(r=>new ft(3,[r]),n[1])]}case 4:{const n=yD(e.fields[0],t.multiOekaki);return[new Ps(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,n[0],t.interpreter,t.uemuraLogicalFramework,t.termRewriting,t.page),Sn(r=>new ft(4,[r]),n[1])]}case 5:{const n=i5(e.fields[0],t.interpreter);return[new Ps(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,n[0],t.uemuraLogicalFramework,t.termRewriting,t.page),Sn(r=>new ft(5,[r]),n[1])]}case 6:{const n=F5(e.fields[0],t.uemuraLogicalFramework);return[new Ps(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,n[0],t.termRewriting,t.page),Sn(r=>new ft(6,[r]),n[1])]}case 7:{const n=dN(e.fields[0],t.termRewriting);return[new Ps(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,n[0],t.page),Sn(r=>new ft(7,[r]),n[1])]}case 8:return[new Ps(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.termRewriting,e.fields[0]),ne()];default:{const n=B_(e.fields[0],t.graph);return[new Ps(t.stringDiagram,n[0],t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.termRewriting,t.page),Sn(r=>new ft(0,[r]),n[1])]}}}function IV(e,t){const n=A(y(()=>{let r,s;return E(S((r=P((s=A(y(()=>oe(i=>N.createElement("button",{children:EV(i),onClick:o=>{t(new ft(8,[i]))}}),xV))),N.createElement("ol",{children:we.Children.toArray(Array.from(s))}))),N.createElement("nav",{children:we.Children.toArray(Array.from(r))}))),y(()=>{const i=e.page;return i.tag===1?S(b_(e.graph,o=>{t(new ft(0,[o]))})):i.tag===2?S(NP(e.polyGraph,o=>{t(new ft(2,[o]))})):i.tag===3?S(sD(e.oekaki,o=>{t(new ft(3,[o]))})):i.tag===4?S(_D(e.multiOekaki,o=>{t(new ft(4,[o]))})):i.tag===5?S(o5(e.interpreter,o=>{t(new ft(5,[o]))})):i.tag===6?S(L5(e.uemuraLogicalFramework,o=>{t(new ft(6,[o]))})):i.tag===7?S(wN(e.termRewriting,o=>{t(new ft(7,[o]))})):S(l_(e.stringDiagram,o=>{t(new ft(1,[o]))}))}))}));return N.createElement("div",{children:we.Children.toArray(Array.from(n))})}function PV(e,t,n,r){return he(s=>[Ee(n,s[0]),i=>s[1](o=>i(r(o)))],t(e))}function DV(e){return A(y(()=>{switch(e.page.tag){case 1:return he(n=>[Ee("graph",n[0]),r=>n[1](s=>{r(new ft(0,[s]))})],U_(e.graph));case 0:return he(n=>[Ee("stringDiagram",n[0]),r=>n[1](s=>{r(new ft(1,[s]))})],TM(e.stringDiagram));case 2:return he(n=>[Ee("polygraph",n[0]),r=>n[1](s=>{r(new ft(2,[s]))})],VP(e.polyGraph));case 3:return PV(e.oekaki,iD,"oekaki",n=>new ft(3,[n]));default:return Oe()}}))}const NV=Xm(DV,kw(MV,TV,IV));nM(kV("root",NV));
//# sourceMappingURL=index-CcixYELP.js.map
