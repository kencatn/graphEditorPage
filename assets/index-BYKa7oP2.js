(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gs(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function vS(e){return e!=null&&typeof e=="object"&&Symbol.iterator in e}function _S(e){return e!=null&&typeof e.GetEnumerator=="function"}function mS(e){return e!=null&&typeof e.CompareTo=="function"}function CS(e){return e!=null&&typeof e.Equals=="function"}function wv(e){return e!=null&&typeof e.GetHashCode=="function"}function SS(e){return e!=null&&typeof e.Dispose=="function"}function Ue(e){SS(e)&&e.Dispose()}function gn(){return null}function Jf(e,t){var n,r;return((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===((r=Object.getPrototypeOf(t))==null?void 0:r.constructor)}class kS{constructor(t){this.iter=t,this.current=gn()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Je(e){return _S(e)?e.GetEnumerator():new kS(e[Symbol.iterator]())}function Vu(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class on{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function Mt(e,t){return e.toString(10).padStart(t,"0")}function D1(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function au(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}function v$(e,t){return e=e<0&&t!=null&&t!==10?0xffffffffffffffffn+e+1n:e,e.toString(t)}class ni{static id(t){return ni.idMap.has(t)||ni.idMap.set(t,++ni.count),ni.idMap.get(t)}}ni.idMap=new WeakMap;ni.count=0;function vc(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function Ha(e){return e*2654435761|0}function $v(e){return vc(e.toString(32))}function Ou(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function xS(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Ha(e);case"bigint":return $v(e);case"string":return vc(e);default:return Ha(ni.id(e))}}function ES(e){return wv(e)?e.GetHashCode():xS(e)}function MS(e){return e.getTime()}function gv(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=mn(e[r]);return Ou(n)}function mn(e){var t;if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Ha(e);case"bigint":return $v(e);case"string":return vc(e);default:{if(wv(e))return e.GetHashCode();if(gs(e))return gv(e);if(e instanceof Date)return MS(e);if(((t=Object.getPrototypeOf(e))==null?void 0:t.constructor)===Object){const n=Object.values(e).map(r=>mn(r));return Ou(n)}else return Ha(ni.id(e))}}}function ji(e){return ES(e)}function N1(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Wa(e,t){return N1(e,t,ee)}function TS(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!ee(e[n[s]],t[r[s]]))return!1;return!0}function ee(e,t){var n;return e===t?!0:e==null?t==null:t==null?!1:CS(e)?e.Equals(t):gs(e)?gs(t)&&Wa(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&yv(e,t)===0:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object&&TS(e,t)}function yv(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+D1(e),r=t.getTime()+D1(t)),n===r?0:n<r?-1:1}function wn(e,t){return e===t?0:e<t?-1:1}function IS(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function Wr(e,t){return IS(e,t,Me)}function PS(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,i=0;s<n.length;s++){const o=n[s];if(o!==r[s])return o<r[s]?-1:1;if(i=Me(e[o],t[o]),i!==0)return i}return 0}function Me(e,t){var n;return e===t?0:e==null?t==null?0:-1:t==null?1:mS(e)?e.CompareTo(t):gs(e)?gs(t)?Wr(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?yv(e,t):-1:((n=Object.getPrototypeOf(e))==null?void 0:n.constructor)===Object?PS(e,t):-1}function tt(e){const t={};for(const n of e)t[n[0]]=n[1];return t}function V1(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),i=r-s,o=1e-8,l=i>.5-o&&i<.5+o?s%2===0?s:s+1:Math.round(r);return t?l/n:l}const vv=new WeakMap;function cu(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return vv.set(t,e),t}function Ih(e){return vv.get(e)??(t=>n=>e(t,n))}function Ph(e){let t=0,n="[";for(const r of e){if(t===0)n+=je(r);else if(t===100){n+="; ...";break}else n+="; "+je(r);t++}return n+"]"}function je(e,t=0){var n;if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return Ph(e);{const r=(n=Object.getPrototypeOf(e))==null?void 0:n.constructor;return r===Object&&t<10?"{ "+Object.entries(e).map(([s,i])=>s+" = "+je(i,t+1)).join(`
  `)+" }":(r==null?void 0:r.name)??""}}return String(e)}function DS(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=je(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>je(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class ce{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return DS(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>mn(n));return t.splice(0,0,Ha(this.tag)),Ou(t)}Equals(t){return this===t?!0:Jf(this,t)&&this.tag===t.tag?Wa(this.fields,t.fields):!1}CompareTo(t){return this===t?0:Jf(this,t)?this.tag===t.tag?Wr(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function NS(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function VS(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+je(n)).join(`
  `)+" }"}function OS(e){const t=Object.values(e).map(n=>mn(n));return Ou(t)}function RS(e,t){if(e===t)return!0;if(Jf(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!ee(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function zS(e,t){if(e===t)return 0;if(Jf(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=Me(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class de{toJSON(){return NS(this)}toString(){return VS(this)}GetHashCode(){return OS(this)}Equals(t){return RS(this,t)}CompareTo(t){return zS(this,t)}}class ai{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}var gt={},FS=28,LS=1,Zo=1e6,_$=1e6,GS=-29,AS=29,BS=!1,_c="[big.js] ",ol=_c+"Invalid ",Q0=ol+"decimal places",US=ol+"rounding mode",_v=_c+"Division by zero",zs=void 0,bS=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function mv(){function e(t){var n=this;if(!(n instanceof e))return t===zs?mv():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice(),jS(n);else{if(typeof t!="string"){if(e.strict===!0)throw TypeError(ol+"number");t=t===0&&1/t<0?"-0":String(t)}HS(n,t)}n.constructor=e}return e.prototype=gt,e.DP=FS,e.RM=LS,e.NE=GS,e.PE=AS,e.strict=BS,e}function jS(e){if(e.c.length>1&&!e.c[0]){let t=e.c.findIndex(n=>n);e.c=e.c.slice(t),e.e=e.e-t}}function HS(e,t){var n,r,s;if(!bS.test(t))throw Error(ol+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),s=t.length,r=0;r<n&&r<s&&t.charAt(r)=="0";)++r;if(r==s)e.c=[e.e=0];else for(e.e=n-r-1,e.c=[],n=0;r<s;)e.c[n++]=+t.charAt(r++);return e=uo(e,Vn.DP+1,Vn.RM),e}function uo(e,t,n,r){var s=e.c;if(n===zs&&(n=Vn.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(US);if(t<1)r=n===3&&(r||!!s[0])||t===0&&(n===1&&s[0]>=5||n===2&&(s[0]>5||s[0]===5&&(r||s[1]!==zs))),s.length=1,r?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){const i=s.findIndex((o,l)=>l>=t&&o>0)<0;if(r=n===1&&s[t]>=5||n===2&&(s[t]>5||s[t]===5&&(r||s[t+1]!==zs||s[t-1]&1))||n===3&&(r||!i),s.length=t--,r)for(;++s[t]>9;)s[t]=0,t--||(++e.e,s.unshift(1));for(t=s.length;!s[--t];)s.pop()}return e}function Ru(e,t,n){var r=e.e,s=e.c.join(""),i=s.length;if(t)s=s.charAt(0)+(i>1?"."+s.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)s="0"+s;s="0."+s}else if(r>0)if(++r>i)for(r-=i;r--;)s+="0";else r<i&&(s=s.slice(0,r)+"."+s.slice(r));else i>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&n?"-"+s:s}gt.abs=function(){var e=new this.constructor(this);return e.s=1,e};gt.cmp=function(s){var t,n=this.constructor,r=new n(this),s=new n(s),i=r.c,o=s.c,l=r.s,u=s.s,a=r.e,c=s.e;if(!i[0]||!o[0])return i[0]?l:o[0]?-u:0;if(l!=u)return l;if(t=l<0,a!=c)return a>c^t?1:-1;for(u=Math.max(i.length,o.length),l=0;l<u;l++)if(a=l<i.length?i[l]:0,c=l<o.length?o[l]:0,a!=c)return a>c^t?1:-1;return 0};gt.div=function(r){var t=this.constructor,n=new t(this),r=new t(r),s=n.c,i=r.c,o=n.s==r.s?1:-1,l=t.DP;if(l!==~~l||l<0||l>Zo)throw Error(Q0);if(!i[0])throw Error(_v);if(!s[0])return r.s=o,r.c=[r.e=0],r;var u,a,c,f,d,g=i.slice(),w=u=i.length,v=s.length,_=s.slice(0,u),h=_.length,p=r,$=p.c=[],C=0,k=l+(p.e=n.e-r.e)+1;for(p.s=o,o=k<0?0:k,g.unshift(0);h++<u;)_.push(0);do{for(c=0;c<10;c++){if(u!=(h=_.length))f=u>h?1:-1;else for(d=-1,f=0;++d<u;)if(i[d]!=_[d]){f=i[d]>_[d]?1:-1;break}if(f<0){for(a=h==u?i:g;h;){if(_[--h]<a[h]){for(d=h;d&&!_[--d];)_[d]=9;--_[d],_[h]+=10}_[h]-=a[h]}for(;!_[0];)_.shift()}else break}$[C++]=f?c:++c,_[0]&&f?_[h]=s[w]||0:_=[s[w]]}while((w++<v||_[0]!==zs)&&o--);return!$[0]&&C!=1&&($.shift(),p.e--,k--),C>k&&uo(p,k,t.RM,_[0]!==zs),p};gt.eq=function(e){return this.cmp(e)===0};gt.gt=function(e){return this.cmp(e)>0};gt.gte=function(e){return this.cmp(e)>-1};gt.lt=function(e){return this.cmp(e)<0};gt.lte=function(e){return this.cmp(e)<1};gt.minus=gt.sub=function(l){var t,n,r,s,i=this.constructor,o=new i(this),l=new i(l),u=o.s,a=l.s;if(u!=a)return l.s=-a,o.plus(l);var c=o.c.slice(),f=o.e,d=l.c,g=l.e;if(!c[0]||!d[0])return d[0]?l.s=-a:c[0]?l=new i(o):l.s=1,l;if(u=f-g){for((s=u<0)?(u=-u,r=c):(g=f,r=d),r.reverse(),a=u;a--;)r.push(0);r.reverse()}else for(n=((s=c.length<d.length)?c:d).length,u=a=0;a<n;a++)if(c[a]!=d[a]){s=c[a]<d[a];break}if(s&&(r=c,c=d,d=r,l.s=-l.s),(a=(n=d.length)-(t=c.length))>0)for(;a--;)c[t++]=0;for(a=t;n>u;){if(c[--n]<d[n]){for(t=n;t&&!c[--t];)c[t]=9;--c[t],c[n]+=10}c[n]-=d[n]}for(;c[--a]===0;)c.pop();for(;c[0]===0;)c.shift(),--g;return c[0]||(l.s=1,c=[g=0]),l.c=c,l.e=g,l};gt.mod=function(s){var t,n=this.constructor,r=new n(this),s=new n(s),i=r.s,o=s.s;if(!s.c[0])throw Error(_v);return r.s=s.s=1,t=s.cmp(r)==1,r.s=i,s.s=o,t?new n(r):(i=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(s),n.DP=i,n.RM=o,this.minus(r.times(s)))};gt.plus=gt.add=function(o){var t,n,r,s=this.constructor,i=new s(this),o=new s(o);if(i.s!=o.s)return o.s=-o.s,i.minus(o);var l=i.e,u=i.c,a=o.e,c=o.c;if(!u[0]||!c[0])return c[0]||(u[0]?o=new s(i):o.s=i.s),o;if(u=u.slice(),t=l-a){for(t>0?(a=l,r=c):(t=-t,r=u),r.reverse();t--;)r.push(0);r.reverse()}for(u.length-c.length<0&&(r=c,c=u,u=r),t=c.length,n=0;t;u[t]%=10)n=(u[--t]=u[t]+c[t]+n)/10|0;for(n&&(u.unshift(n),++a),t=u.length;u[--t]===0;)u.pop();return o.c=u,o.e=a,o};gt.pow=function(e){var t=this.constructor,n=new t(this),r=new t("1"),s=new t("1"),i=e<0;if(e!==~~e||e<-_$||e>_$)throw Error(ol+"exponent");for(i&&(e=-e);e&1&&(r=r.times(n)),e>>=1,!!e;)n=n.times(n);return i?s.div(r):r};gt.prec=function(e,t){if(e!==~~e||e<1||e>Zo)throw Error(ol+"precision");return uo(new this.constructor(this),e,t)};gt.round=function(e,t){if(e===zs)e=0;else if(e!==~~e||e<-Zo||e>Zo)throw Error(Q0);return uo(new this.constructor(this),e+this.e+1,t)};gt.sqrt=function(){var e,t,n,r=this.constructor,s=new r(this),i=s.s,o=s.e,l=new r("0.5");if(!s.c[0])return new r(s);if(i<0)throw Error(_c+"No square root");i=Math.sqrt(s+""),i===0||i===1/0?(t=s.c.join(""),t.length+o&1||(t+="0"),i=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new r((i==1/0?"5e":(i=i.toExponential()).slice(0,i.indexOf("e")+1))+o)):e=new r(i+""),o=e.e+(r.DP+=4);do n=e,e=l.times(n.plus(s.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return uo(e,(r.DP-=4)+e.e+1,r.RM)};gt.times=gt.mul=function(s){var t,n=this.constructor,r=new n(this),s=new n(s),i=r.c,o=s.c,l=i.length,u=o.length,a=r.e,c=s.e;if(s.s=r.s==s.s?1:-1,!i[0]||!o[0])return s.c=[s.e=0],s;for(s.e=a+c,l<u&&(t=i,i=o,o=t,c=l,l=u,u=c),t=new Array(c=l+u);c--;)t[c]=0;for(a=u;a--;){for(u=0,c=l+a;c>a;)u=t[c]+o[a]*i[c-a-1]+u,t[c--]=u%10,u=u/10|0;t[c]=u}for(u?++s.e:t.shift(),a=t.length;!t[--a];)t.pop();return s.c=t,s};gt.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==zs){if(e!==~~e||e<0||e>Zo)throw Error(Q0);for(n=uo(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Ru(n,!0,!!r)};gt.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==zs){if(e!==~~e||e<0||e>Zo)throw Error(Q0);for(n=uo(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Ru(n,!1,!!r)};gt.toJSON=gt.toString=function(){var e=this,t=e.constructor;return Ru(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};gt.toNumber=function(){var e=Number(Ru(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(_c+"Imprecise conversion");return e};gt.toPrecision=function(e,t){var n=this,r=n.constructor,s=n.c[0];if(e!==zs){if(e!==~~e||e<1||e>Zo)throw Error(ol+"precision");for(n=uo(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Ru(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!s)};gt.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(_c+"valueOf disallowed");return Ru(e,e.e<=t.NE||e.e>=t.PE,!0)};var Vn=mv();const ll=Symbol("numeric");function Cv(e){return typeof e=="number"||typeof e=="bigint"||(e==null?void 0:e[ll])}function WS(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function O1(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[ll]().multiply(t)}function mf(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[ll]().toFixed(t)}function Yf(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[ll]().toPrecision(t)}function Xf(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[ll]().toExponential(t)}function e0(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[ll]().toHex()}Vn.prototype.GetHashCode=function(){return Ou([this.s,this.e].concat(this.c))};Vn.prototype.Equals=function(e){return!this.cmp(e)};Vn.prototype.CompareTo=function(e){return this.cmp(e)};Vn.prototype[ll]=function(){const e=this;return{multiply:t=>e.mul(t),toPrecision:t=>e.toPrecision(t),toExponential:t=>e.toExponential(t),toFixed:t=>e.toFixed(t),toHex:()=>(Number(e)>>>0).toString(16)}};new Vn(0);new Vn(1);new Vn(-1);new Vn("79228162514264337593543950335");new Vn("-79228162514264337593543950335");function ZS(e){return e.toString()}function KS(e,t){const n=new Uint8Array(t*301/1e3+1|0);let r=1;for(let s=e.length-1;s>=0;s--){let i=e[s];for(let o=0;o<r;o++){const l=n[o]*16+i|0;n[o]=l%10|0,i=l/10|0}for(;i>0;)n[r++]=i%10|0,i=i/10|0}return n.slice(0,r)}function Od(e,t,n){for(let r=0;r<8;r++)e[n+r]=t>>r*4&15}function qS(e,t,n,r,s){const o=new Uint8Array(24);Od(o,e,0),Od(o,t,8),Od(o,n,16);const l=KS(o,96);s=s&127;const u=new Vn(0);return u.c=Array.from(l.reverse()),u.e=l.length-s-1,u.s=r?-1:1,new Vn(u)}class QS{constructor(t,n,r,s){this.declaringType=t,this.tag=n,this.name=r,this.fields=s}}let lr=class{constructor(t,n,r,s,i,o,l){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=i,this.cases=o,this.enumCases=l}toString(){return tn(this)}GetHashCode(){return Sv(this)}Equals(t){return t0(this,t)}};function sr(e){return e.generics!=null?e.generics:[]}function Sv(e){const t=vc(e.fullname),n=sr(e).map(Sv);return Ou([t,...n])}function t0(e,t){return e.fullname===""?t.fullname===""&&N1(n0(e),n0(t),([n,r],[s,i])=>n===s&&t0(r,i)):e.fullname===t.fullname&&N1(sr(e),sr(t),t0)}function Bo(e,t,n,r){return new lr(e,t,n,r)}function ur(e,t,n,r){return new lr(e,t,n,void 0,r)}function Mr(e,t,n,r){const s=new lr(e,t,n,void 0,void 0,()=>{const i=n.prototype.cases();return r().map((o,l)=>new QS(s,l,i[l],o))});return s}function Tt(...e){return new lr("System.Tuple`"+e.length,e)}function Br(e){return new lr("Microsoft.FSharp.Core.FSharpOption`1",[e])}function R1(e){return new lr("Microsoft.FSharp.Collections.FSharpList`1",[e])}const Cf=new lr("Microsoft.FSharp.Core.Unit"),Za=new lr("System.String"),li=new lr("System.Boolean"),qe=new lr("System.Int32"),et=new lr("System.Double");function un(e){if(Array.isArray(e))return e[0];if(e instanceof lr){const t=J0(e);if(t!=null)return un(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function tn(e){const t=J0(e);return t!=null?tn(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>tn(n)).join(",")+"]"}function JS(e){return J0(e)!=null}function J0(e){var t;return e.fullname==="[]"&&((t=e.generics)==null?void 0:t.length)===1?e.generics[0]:void 0}function YS(e){return e.enumCases!=null&&e.enumCases.length>0}function XS(e){var t;return(t=e.generics)==null?void 0:t[0]}function kv(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function n0(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function ek(e){if(xv(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function tk(e){if(Dh(e)&&e.generics!=null){const t=e.generics;return[t[0],t[1]]}else throw new Error(`${e.fullname} is not an F# function type`)}function nk(e){return e instanceof lr?e.cases!=null:e instanceof ce}function rk(e){return e instanceof lr?e.fields!=null:e instanceof de}function xv(e){return e.fullname.startsWith("System.Tuple")}function Dh(e){return e.fullname==="Microsoft.FSharp.Core.FSharpFunc`2"}function sk(e,t){const r=kv(t)[e.tag];if(r==null)throw new Error(`Cannot find case ${e.name} in union type`);return[r,e.fields]}function ik(e){return e.fields==null?[]:e.fields}function ok(e,t){return e[t[0]]}function ks(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function lk(e,t){const n=n0(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,i],o)=>(r[s]=t[o],r),{})}BigInt.prototype.toJSON=function(){return`${this.toString()}`};const uk=0n;function ak(e){return BigInt(e)}function Rd(e){return BigInt(Math.trunc(e))}function ck(e){return BigInt(e)}function Il(e){return BigInt.asIntN(64,e)}function m$(e){return BigInt.asUintN(64,e)}function fk(e){return Number(e)}function C$(e){const t=Number(BigInt.asUintN(32,e)),n=Number(BigInt.asUintN(32,e>>32n)),r=Number(BigInt.asUintN(32,e>>64n)),s=e<uk;return qS(t,n,r,s,0)}function dk(e){return e.toString()}function pk(e){return BigInt(e)}const hk=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wk=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],$k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gk=["January","February","March","April","May","June","July","August","September","October","November","December"];function wr(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function S$(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function yk(e,t){let n=t;const r=e[t];let s="",i=!1;for(;t<e.length;){t++;const o=e[t];if(o===r){i=!0;break}else if(o==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=o}if(!i)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function Nh(e,t,n){let r=0,s=0,i="";const o=n?Y0(e.getTime(),1):e;for(;r<t.length;){const l=t[r];switch(l){case"d":switch(s=wr(t,r,"d"),r+=s,s){case 1:i+=o.getDate();break;case 2:i+=Mt(o.getDate(),2);break;case 3:i+=hk[M$(o)];break;case 4:i+=wk[M$(o)];break}break;case"f":if(s=wr(t,r,"f"),r+=s,s<=3){const _=10**(3-s);i+=Mt(Math.floor(Ac(o)/_),s)}else s<=7&&(i+=(""+Ac(o)).padEnd(s,"0"));break;case"F":if(s=wr(t,r,"F"),r+=s,s<=3){const _=10**(3-s),h=Math.floor(Ac(o)/_);h!=0&&(i+=Mt(h,s))}else if(s<=7){const _=Ac(o);_!=0&&(i+=Mt(_,3))}break;case"g":s=wr(t,r,"g"),r+=s,s<=2&&(i+="A.D.");break;case"h":switch(s=wr(t,r,"h"),r+=s,s){case 1:i+=Gc(o)%12;break;case 2:i+=Mt(Gc(o)%12,2);break}break;case"H":switch(s=wr(t,r,"H"),r+=s,s){case 1:i+=Gc(o);break;case 2:i+=Mt(Gc(o),2);break}break;case"K":switch(s=wr(t,r,"K"),r+=s,s){case 1:switch(k$(o)){case 1:i+="Z";break;case 2:i+=Kl(o.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=wr(t,r,"m"),r+=s,s){case 1:i+=x$(o);break;case 2:i+=Mt(x$(o),2);break}break;case"M":switch(s=wr(t,r,"M"),r+=s,s){case 1:i+=Bc(o);break;case 2:i+=Mt(Bc(o),2);break;case 3:i+=$k[Bc(o)-1];break;case 4:i+=gk[Bc(o)-1];break}break;case"s":switch(s=wr(t,r,"s"),r+=s,s){case 1:i+=E$(o);break;case 2:i+=Mt(E$(o),2);break}break;case"t":switch(s=wr(t,r,"t"),r+=s,s){case 1:i+=o.getHours()<12?"A":"P";break;case 2:i+=o.getHours()<12?"AM":"PM";break}break;case"y":switch(s=wr(t,r,"y"),r+=s,s){case 1:i+=o.getFullYear()%100;break;case 2:i+=Mt(o.getFullYear()%100,2);break;case 3:i+=Mt(o.getFullYear(),3);break;case 4:i+=Mt(o.getFullYear(),4);break;case 5:i+=Mt(o.getFullYear(),5);break}break;case"z":s=wr(t,r,"z"),r+=s;let u="";switch(k$(o)){case 1:u="+00:00";break;case 2:u=Kl(o.getTimezoneOffset()*-6e4);break;case 0:u=Kl(Mk(o).getTimezoneOffset()*-6e4);break}const a=u[0]==="-"?"-":"+",c=parseInt(u.substring(1,3),10),f=parseInt(u.substring(4,6),10);switch(s){case 1:i+=`${a}${c}`;break;case 2:i+=`${a}${Mt(c,2)}`;break;default:i+=`${a}${Mt(c,2)}:${Mt(f,2)}`;break}break;case":":i+=":",r++;break;case"/":i+="/",r++;break;case"'":case'"':const[d,g]=yk(t,r);i+=d,r+=g;break;case"%":const w=S$(t,r);if(w>=0&&w!==37)r+=2,i+=Nh(o,String.fromCharCode(w),n);else throw new Error("Invalid format string");break;case"\\":const v=S$(t,r);if(v>=0)r+=2,i+=String.fromCharCode(v);else throw new Error("Invalid format string");break;default:r++,i+=l;break}}return i}function k$(e){return e.kind||0}function vk(e,t){return Il((BigInt(e)+62135596800000n+BigInt(t))*10000n)}function _k(e){return Number(BigInt(e)/10000n-62135596800000n)}function Kl(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+Mt(n,2)+":"+Mt(r,2)}function r0(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function mk(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return Mt(e.getFullYear(),4)+"-"+Mt(e.getMonth()+1,2)+"-"+Mt(e.getDate(),2)+"T"+Mt(e.getHours(),2)+":"+Mt(e.getMinutes(),2)+":"+Mt(e.getSeconds(),2)+"."+Mt(e.getMilliseconds(),3)+(n?Kl(e.getTimezoneOffset()*-6e4):"")}}function Ck(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+Kl(t)}function Sk(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Kl(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return r0(n,"first");case"T":case"t":return r0(n,"second");case"O":case"o":return Ck(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return Nh(n,t,!0)}function kk(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?r0(e,"first"):e.toLocaleDateString();case"T":case"t":return n?r0(e,"second"):e.toLocaleTimeString();case"O":case"o":return mk(e,n);default:throw new Error("Unrecognized Date print format")}else return Nh(e,t,n)}function fu(e,t,n){return e.offset!=null?Sk(e,t):kk(e,t)}function Y0(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function xk(e){return vk(e.getTime(),D1(e))}function Ev(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let i,o=0;if(s[2]!=null){const l=s[2].split(":"),u=parseInt(l[0],10);o=u*3600+parseInt(l[1]||"0",10)*60+parseFloat(l[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&u<12&&(o+=720)}if(s[4]!=null){if(s[1]!=null)i=new Date(s[1]+" UTC");else{const l=new Date;i=new Date(l.getUTCFullYear()+"/"+(l.getUTCMonth()+1)+"/"+l.getUTCDate())}if(s[4]==="Z")r="Z";else{let l=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(l*=-1),r=l,o-=l*60}}else if(s[1]!=null)i=new Date(s[1]);else{const l=new Date;i=new Date(l.getFullYear()+"/"+(l.getMonth()+1)+"/"+l.getDate())}n=new Date(i.getTime()+o*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-i.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function Ek(e,t=!1){const[n,r]=Ev(e),s=r!=null?t&&r==="Z"?1:2:0;return Y0(n.getTime(),s)}function Mk(e){return e.kind===2?e:Y0(e.getTime(),2)}function Gc(e){return e.kind===1?e.getUTCHours():e.getHours()}function Ac(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function x$(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Bc(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function E$(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function M$(e){return e.kind===1?e.getUTCDay():e.getDay()}function Vh(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const ra=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,Tk=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Mv(e,t){return WS(e,t)<0}function L(e){return{input:e,cont:Pk(e)}}function Oh(e,t){return typeof t=="string"?e(t):t.cont(e)}function Te(e){return Oh(t=>console.log(t),e)}function Ge(e){return Oh(t=>t,e)}function Xe(e){return Oh(t=>{throw new Error(t)},e)}function Ik(e,t,n,r,s){let i="";if(t=t||"",s=s||"",Cv(e))switch(s.toLowerCase()!=="x"&&(Mv(e,0)?(e=O1(e,-1),i="-"):t.indexOf(" ")>=0?i=" ":t.indexOf("+")>=0&&(i="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=mf(e,r);break;case"g":case"G":e=r!=null?Yf(e,r):Yf(e);break;case"e":case"E":e=r!=null?Xf(e,r):Xf(e);break;case"x":e=e0(e);break;case"X":e=e0(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=fu(e):e=je(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=i+e;else{const o=t.indexOf("0")>=0,l=t.indexOf("-")>=0,u=l||!o?" ":"0";u==="0"?(e=Ka(e,n-i.length,u,l),e=i+e):e=Ka(i+e,n,u,l)}return e}function Tv(e,t,n,r="",s=-1){return(...i)=>{let o=r;const l=t.slice(),u=n.slice();for(const a of i){const[,,c,f,d,g]=u[0];let w=f;if(s>=0)w=s,s=-1;else if(w==="*"){if(a<0)throw new Error("Non-negative number required");s=a;continue}o+=l[0],o+=Ik(a,c,w,d,g),l.splice(0,1),u.splice(0,1)}return u.length===0?(o+=l[0],e(o)):Tv(e,l,u,o,s)}}function Pk(e){return t=>{ra.lastIndex=0;const n=[],r=[];let s=0,i=ra.exec(e);for(;i;){const o=i.index+(i[1]||"").length;n.push(e.substring(s,o).replace(/%%/g,"%")),r.push(i),s=ra.lastIndex,ra.lastIndex-=1,i=ra.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Tv(t,n,r))}}function Iv(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(Tk,(r,s,i,o,l,u)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let a=t[s];if(Cv(a))switch(l=l==null?null:parseInt(l,10),o){case"f":case"F":l=l??2,a=mf(a,l);break;case"g":case"G":a=l!=null?Yf(a,l):Yf(a);break;case"e":case"E":a=l!=null?Xf(a,l):Xf(a);break;case"p":case"P":l=l??2,a=mf(O1(a,100),l)+" %";break;case"d":case"D":a=l!=null?zd(String(a),l,"0"):String(a);break;case"x":case"X":a=l!=null?zd(e0(a),l,"0"):e0(a),o==="X"&&(a=a.toUpperCase());break;default:if(u){let c="";a=u.replace(/([0#,]+)(\.[0#]+)?/,(f,d,g)=>{Mv(a,0)&&(a=O1(a,-1),c="-"),g=g==null?"":g.substring(1),a=mf(a,Math.max(g.length,0));let[w,v]=a.split(".");v||(v="");const _=d.replace(/,/g,"").replace(/^#+/,"").length;w=zd(w,_,"0");const h=g.replace(/#+$/,"").length;if(h>v.length?v=Rk(v,h,"0"):h<v.length&&(v=v.substring(0,h)+v.substring(h).replace(/0+$/,"")),d.indexOf(",")>0){const p=w.length%3,$=Math.floor(w.length/3);let C=p>0?w.substr(0,p)+($>0?",":""):"";for(let k=0;k<$;k++)C+=w.substr(p+k*3,3)+(k<$-1?",":"");w=C}return v.length>0?w+"."+v:w}),a=c+a}}else a instanceof Date?a=fu(a,u||o):a=je(a);return i=parseInt((i||" ").substring(1),10),isNaN(i)||(a=Ka(String(a),Math.abs(i)," ",i<0)),a})}function z1(e,t){const n=e.lastIndexOf(t);return n>=0&&n===e.length-t.length}function Dk(e,t){if(e<0)throw new Error("String length must be non-negative");const n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r);return n.join("")}function Nk(e){return typeof e!="string"||e.length===0}function Se(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Vk(e){throw new Error("The environment doesn't support '"+e+"', please use a polyfill.")}function Ok(e){const t=typeof atob=="function"?atob(e):Vk("atob"),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}function Ka(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function zd(e,t,n){return Ka(e,t,n)}function Rk(e,t,n){return Ka(e,t,n,!0)}function Uc(e,t,n){return e.replace(new RegExp(Vh(t),"g"),n)}function T$(e,t){return Dk(e,()=>t)}function du(e,t,n,r){if(n=typeof n=="number"?n:void 0,r=typeof r=="number"?r:0,n&&n<0)throw new Error("Count cannot be less than zero");if(n===0)return[];const s=(r&1)===1,i=(r&2)===2;t=t||[],t=t.filter(c=>c).map(Vh),t=t.length>0?t:["\\s"];const o=[],l=new RegExp(t.join("|"),"g");let u=!0,a=0;do{const c=l.exec(e);if(c===null){const f=i?e.substring(a).trim():e.substring(a);(!s||f.length>0)&&o.push(f),u=!1}else{const f=i?e.substring(a,c.index).trim():e.substring(a,c.index);(!s||f.length>0)&&(n!=null&&o.length+1===n?(o.push(i?e.substring(a).trim():e.substring(a)),u=!1):o.push(f)),a=l.lastIndex}}while(u);return o}function zk(e,...t){if(t.length===0)return e.trim();const n="["+Vh(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function Fk(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return n!=null?e.substr(t,n):e.substr(t)}class pu{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return mn(this.value)}Equals(t){return t==null?!1:ee(this.value,t instanceof pu?t.value:t)}CompareTo(t){return t==null?1:Me(this.value,t instanceof pu?t.value:t)}}function G(e){if(e==null)throw new Error("Option has no value");return e instanceof pu?e.value:e}function ht(e){return e==null||e instanceof pu?new pu(e):e}function Ia(e){return e==null?[]:[G(e)]}function Rh(e,t){return e!=null?G(e):t}function oe(e,t){return t!=null?ht(e(G(t))):void 0}function Lk(e,t){return t!=null?e(G(t)):void 0}const Gk="The index was outside the range of elements in the collection.",X0="Collection was empty.";function hu(e,t){return typeof e=="function"?new e(t):new Array(t)}function Ak(e,t){if(e!=null&&/\S/.test(e)){const n=+e.replace("_","");if(!Number.isNaN(n))return t.contents=n,!0}return!1}function s0(e){const t=new ai(0);if(Ak(e,t))return t.contents;throw new Error(`The input string ${e} was not in a correct format.`)}function i0(e,t){return e>t?e:t}function Pv(e,t){return e<t?e:t}function Bk(){throw new Error("An index satisfying the predicate was not found in the collection.")}function Uk(){throw new Error("Arrays had different lengths")}function Fs(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function F1(e,t,n){const r=t.length|0,s=hu(n,r);for(let i=0;i<=r-1;i++)lt(s,i,e(i,J(i,t)));return s}function Nt(e,t,n){const r=t.length|0,s=hu(n,r);for(let i=0;i<=r-1;i++)lt(s,i,e(J(i,t)));return s}function bk(e,t,n,r){if(t.length!==n.length)throw new Error("Arrays had different lengths");const s=hu(r,t.length);for(let i=0;i<=t.length-1;i++)lt(s,i,e(J(i,t),J(i,n)));return s}function jk(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(n.length|0){case 0:return hu(t,0);case 1:return J(0,n);default:{let s=0,i=0;for(let l=0;l<=n.length-1;l++){const u=J(l,n);i=i+u.length|0}const o=hu(t,i);for(let l=0;l<=n.length-1;l++){const u=J(l,n);for(let a=0;a<=u.length-1;a++)lt(o,s,J(a,u)),s=s+1|0}return o}}}function Hk(e,t){const n=hu(t,1);return lt(n,0,e),n}function Wk(e){return e.slice().reverse()}function Zk(e,t){const n=t.find(e);return n==null?Bk():G(n)}function _l(e,t){return t.find(e)}function Dv(e,t,n){const r=e;return n.reduce(r,t)}function Fd(e,t){e.length!==t.length&&Uk();const n=new Array(e.length);for(let r=0;r<=e.length-1;r++)lt(n,r,[J(r,e),J(r,t)]);return n}function Sf(e,t,n){if(t==null)return n==null;if(n==null)return!1;{let r=0,s=!0;const i=t.length|0,o=n.length|0;if(i>o)return!1;if(i<o)return!1;for(;r<i&&s;)s=e(J(r,t),J(r,n)),r=r+1|0;return s}}function J(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function lt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function Nv(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class xn extends de{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+Se("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,i)=>{e:for(;;){const o=s,l=i,u=o.tail,a=l.tail;if(u!=null)if(a!=null){const c=G(u),f=G(a);if(ee(o.head,l.head)){s=c,i=f;continue e}else return!1}else return!1;else return a==null}})(n,t)}GetHashCode(){return((r,s,i)=>{e:for(;;){const o=r,l=s,u=i,a=u.tail;if(a!=null){const c=G(a);if(o>18)return l|0;r=o+1,s=(l<<1)+mn(u.head)+631*o,i=c;continue e}else return l|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,i)=>{e:for(;;){const o=s,l=i,u=o.tail,a=l.tail;if(u!=null)if(a!=null){const c=G(u),f=G(a),d=Me(o.head,l.head)|0;if(d===0){s=c,i=f;continue e}else return d|0}else return 1;else return a!=null?-1:0}})(this,t)|0}GetEnumerator(){return qk(this)}[Symbol.iterator](){return Vu(Je(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Je(this)}}class Kk{constructor(t){this.xs=t,this.it=this.xs,this.current=gn()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=G(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=gn()}Dispose(){}}function qk(e){return new Kk(e)}function Xt(){return new xn(gn(),void 0)}function mc(e,t){return new xn(e,t)}function ys(e){return e.tail==null}function Vv(e){return((n,r)=>{e:for(;;){const s=n,o=r.tail;if(o!=null){n=s+1,r=G(o);continue e}else return s|0}})(0,e)|0}function eo(e){if(e.tail!=null)return e.head;throw new Error(X0+"\\nParameter name: list")}function On(e){const t=e.tail;if(t!=null)return G(t);throw new Error(X0+"\\nParameter name: list")}function Qk(e,t){return((r,s)=>{e:for(;;){const i=r,o=s,l=o.tail;if(l!=null){if(i===t)return o.head;r=i+1,s=G(l);continue e}else throw new Error(Gk+"\\nParameter name: index")}})(0,e)}function R(){return Xt()}function xe(e,t){return mc(e,t)}function D(e){return mc(e,Xt())}function te(e){return ys(e)}function ds(e){return Vv(e)}function K(e){return eo(e)}function Ov(e){if(!ys(e))return ht(eo(e))}function z(e){return On(e)}function zh(e){e:for(;;){const t=e;if(ys(t))return;{const n=On(t);if(ys(n))return ht(eo(t));e=n;continue e}}}function o0(e){const t=zh(e);if(t==null)throw new Error(X0);return G(t)}function Ur(e){const t=Vv(e)|0,n=Fs(new Array(t),0,t,null);return((s,i)=>{e:for(;;){const o=s,l=i;if(!ys(l)){lt(n,o,eo(l)),s=o+1,i=On(l);continue e}break}})(0,e),n}function nn(e,t,n){let r=t,s=n;for(;!ys(s);)r=e(r,K(s)),s=On(s);return r}function Hs(e){return nn((t,n)=>mc(n,t),Xt(),e)}function Lr(e,t,n){return Nv(e,Ur(t),n)}function Jk(e,t,n,r){let s=t,i=n,o=r;for(;!ys(i)&&!ys(o);)s=e(s,eo(i),eo(o)),i=On(i),o=On(o);return s}function qa(e,t){nn((n,r)=>{e(r)},void 0,t)}function _t(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=mc(J(r,e),n);return n}function Y(e){return _t(e,Xt())}function Yk(e){let t,n;if(gs(e))return Y(e);if(e instanceof xn)return e;{const r=Xt();let s=r;const i=Je(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const u=i["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new xn(u,void 0),t.tail=n,n)}}finally{Ue(i)}const o=s,l=Xt();return o.tail=l,On(r)}}function Ko(e){const t=Xt();let n=t;const r=o=>{n=nn((l,u)=>{const a=new xn(u,void 0);return l.tail=a,a},n,o)};if(gs(e))e.forEach(r);else if(e instanceof xn)qa(r,e);else{const o=Je(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();)r(o["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{Ue(o)}}const s=n,i=Xt();return s.tail=i,On(t)}function wu(e,t){return nn((n,r)=>mc(r,n),t,Hs(e))}function he(e,t){const n=Xt(),r=nn((i,o)=>{const l=new xn(e(o),void 0);return i.tail=l,l},n,t),s=Xt();return r.tail=s,On(n)}function Xk(e,t,n){const r=Xt(),s=Jk((o,l,u)=>{const a=new xn(e(l,u),void 0);return o.tail=a,a},r,t,n),i=Xt();return s.tail=i,On(r)}function ex(e,t){return(r=>{e:for(;;){const s=r;if(ys(s))return;{const i=e(eo(s));if(i==null){r=On(s);continue e}else return i}}})(t)}function l0(e,t){return ex(n=>e(n)?ht(n):void 0,t)}function Rv(e,t){return((r,s)=>{e:for(;;){const i=r,o=s;if(ys(o))return;if(e(eo(o)))return i;r=i+1,s=On(o);continue e}})(0,t)}function I$(e,t){return Qk(t,e)}function Pi(e,t){const n=Xt(),r=nn((i,o)=>{if(e(o)){const l=new xn(o,void 0);return i.tail=l,l}else return i},n,t),s=Xt();return r.tail=s,On(n)}function tx(e,t){const n=Xt(),r=Xt(),s=n,i=nn((u,a)=>{let c,f;const d=u[0],g=u[1];return e(a)?[(c=new xn(a,void 0),d.tail=c,c),g]:[d,(f=new xn(a,void 0),g.tail=f,f)]},[s,r],t),o=Xt();i[0].tail=o;const l=Xt();return i[1].tail=l,[On(s),On(r)]}function ci(e,t){const n=Xt(),r=nn((i,o)=>{const l=e(o);if(l==null)return i;{const u=new xn(G(l),void 0);return i.tail=u,u}},n,t),s=Xt();return r.tail=s,On(n)}function nx(e,t,n){return Rv(r=>n.Equals(e,r),t)!=null}function rx(e,t){if(ys(t))throw new Error(X0);return nn(e,K(t),z(t))}function sx(e,t){return Rv(e,t)!=null}function zv(e,t){return Xk((n,r)=>[n,r],e,t)}function ix(e,t){const n=Ur(t);return n.sort(e),Y(n)}function Fh(e,t,n){return ix((r,s)=>n.Compare(e(r),e(s)),t)}function ox(e,t){return nn((n,r)=>t.Add(n,r),t.GetZero(),e)}function lx(e){throw new Error(e)}const ux="Enumeration already finished.",ax="Enumeration has not started. Call MoveNext.",Fv="The input sequence was empty.",Lh="The input sequence has an insufficient number of elements.",cx="Reset is not supported on this enumerator.";function fx(){throw new Error(cx)}function Gh(){throw new Error(ax)}function L1(){throw new Error(ux)}class dx{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=Je(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+je(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{Ue(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Vu(Je(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function px(e){return new dx(e)}class hx{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){fx()}Dispose(){this.dispose()}}function ed(e,t,n){return new hx(e,t,n)}function wx(e){let t,n,r=!1,s=!1,i;const o=()=>{if(s=!0,n!=null){const l=G(n);try{Ue(l)}finally{n=void 0}}if(t!=null){const l=G(t);try{Ue(l)}finally{t=void 0}}};return ed(()=>(r?s&&L1():Gh(),i!=null?G(i):L1()),()=>{let l;if(r||(r=!0),s)return!1;{let u;for(;u==null;){const a=t,c=n;if(a!=null)if(c!=null){const f=G(c);if(f["System.Collections.IEnumerator.MoveNext"]())i=ht(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),u=!0;else try{Ue(f)}finally{n=void 0}}else{const f=G(a);f["System.Collections.IEnumerator.MoveNext"]()?n=(l=f["System.Collections.Generic.IEnumerator`1.get_Current"](),Je(l)):(o(),u=!1)}else t=Je(e)}return G(u)}},()=>{s||o()})}function $x(e,t){return ed(()=>t["System.Collections.Generic.IEnumerator`1.get_Current"](),()=>t["System.Collections.IEnumerator.MoveNext"](),()=>{try{Ue(t)}finally{e()}})}function Lv(e,t,n){let r=!1,s,i=ht(e());const o=()=>{if(i!=null){const u=G(i);try{n(u)}finally{i=void 0}}},l=()=>{try{o()}finally{s=void 0}};return ed(()=>(r||Gh(),s!=null?G(s):L1()),()=>{if(r||(r=!0),i!=null){const u=G(i);let a;try{a=t(u)}catch(c){throw l(),c}return a!=null?(s=a,!0):(l(),!1)}else return!1},o)}function gx(e,t){let n,r=t;return ed(()=>{if(n!=null){const s=G(n)[0];return G(n)[1],s}else return Gh()},()=>(n=e(r),n!=null?(G(n)[0],r=G(n)[1],!0):!1),()=>{})}function yx(e,t){t==null&&lx(e)}function zu(e){return px(e)}function ir(e){return yx("source",e),Je(e)}function m(e){return zu(()=>Je(e()))}function ps(e){return zu(()=>wx(e))}function Gv(e,t){return zu(()=>gx(e,t))}function Fe(){return m(()=>new Array(0))}function S(e){return m(()=>Hk(e))}function to(e){return e instanceof xn?Ur(e):Array.from(e)}function Q(e){return gs(e)?Y(e):e instanceof xn?e:Yk(e)}function Av(e,t,n){return zu(()=>Lv(e,t,n))}function Bv(e,t,n){return zu(()=>{let r=-1;return Lv(e,s=>(r=r+1|0,t(r,s)),n)})}function E(e,t){return ps([e,t])}function Qa(e,t){return Av(()=>ir(t),n=>{let r;for(;r==null&&n["System.Collections.IEnumerator.MoveNext"]();)r=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return r},n=>{Ue(n)})}function vx(e,t,n){const r=ir(t);try{const s=ir(n);try{let i=0,o=r["System.Collections.IEnumerator.MoveNext"](),l=s["System.Collections.IEnumerator.MoveNext"]();for(;i===0&&o&&l;)i=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,i===0&&(o=r["System.Collections.IEnumerator.MoveNext"](),l=s["System.Collections.IEnumerator.MoveNext"]());return(i!==0?i:o?1:l?-1:0)|0}finally{Ue(s)}}finally{Ue(r)}}function _x(e,t,n){const r=ir(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Ue(r)}}function fs(e,t){return Qa(n=>{if(e(n))return ht(n)},t)}function mx(e,t){const n=ir(t);try{let r=!1;for(;!r&&n["System.Collections.IEnumerator.MoveNext"]();)r=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return r}finally{Ue(n)}}function Cx(e,t){const n=ir(t);try{let r;for(;r==null&&n["System.Collections.IEnumerator.MoveNext"]();){const s=n["System.Collections.Generic.IEnumerator`1.get_Current"]();e(s)&&(r=ht(s))}return r}finally{Ue(n)}}function Ah(e,t,n){const r=ir(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Ue(r)}}function Ls(e,t,n){return Nv(e,to(t),n)}function Uv(e,t){return!mx(n=>!e(n),t)}function P$(e){if(gs(e))return e.length===0;if(e instanceof xn)return te(e);{const t=ir(e);try{return!t["System.Collections.IEnumerator.MoveNext"]()}finally{Ue(t)}}}function td(e,t){Ah((n,r)=>{e(r)},void 0,t)}function bv(e,t){Ah((n,r)=>(e(n,r),n+1|0),0,t)}function Sx(e){const t=ir(e);try{const n=r=>{e:for(;;){const s=r;if(t["System.Collections.IEnumerator.MoveNext"]()){r=t["System.Collections.Generic.IEnumerator`1.get_Current"]();continue e}else return s;break}};return t["System.Collections.IEnumerator.MoveNext"]()?ht(n(t["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0}finally{Ue(t)}}function kx(e){const t=Sx(e);if(t==null)throw new Error(Lh+"\\nParameter name: source");return G(t)}function fe(e,t){return Av(()=>ir(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?ht(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{Ue(n)})}function xx(e,t){return Bv(()=>ir(t),(n,r)=>r["System.Collections.IEnumerator.MoveNext"]()?ht(e(n,r["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{Ue(n)})}function jv(e){return xx((t,n)=>[t,n],e)}function Bh(e,t){const n=ir(t);try{const r=s=>{e:for(;;){const i=s;if(n["System.Collections.IEnumerator.MoveNext"]()){s=e(i,n["System.Collections.Generic.IEnumerator`1.get_Current"]());continue e}else return i;break}};if(n["System.Collections.IEnumerator.MoveNext"]())return r(n["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error(Fv)}finally{Ue(n)}}function Hv(e){return m(()=>Wk(to(e)))}function Ex(e,t){return zu(()=>{const n=ir(t);try{for(let r=1;r<=e;r++)if(!n["System.Collections.IEnumerator.MoveNext"]())throw new Error(Lh+"\\nParameter name: source");return $x(()=>{},n)}catch(r){throw Ue(n),r}})}function Mx(e,t){return Bv(()=>ir(t),(n,r)=>{if(n<e){if(r["System.Collections.IEnumerator.MoveNext"]())return ht(r["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error(Lh+"\\nParameter name: source")}else return},n=>{Ue(n)})}function Ut(e,t){return m(()=>ps(fe(e,t)))}function Tx(e,t){return Bh((n,r)=>t.Compare(r,n)>0?r:n,e)}function Ix(e,t,n){return Bh((r,s)=>n.Compare(e(s),e(r))>0?r:s,t)}function Px(e,t){return Bh((n,r)=>t.Compare(r,n)>0?n:r,e)}function sa(e,t){let n=0;const r=Ah((s,i)=>(n=n+1|0,t.Add(s,i)),t.GetZero(),e);if(n===0)throw new Error(Fv+"\\nParameter name: source");return t.DivideByInt(r,n)}class M extends de{constructor(t,n){super(),this.x=t,this.y=n}}function Ct(e){return ur("Vector.Vector2`1",[e],M,()=>[["x",e],["y",e]])}function Dx(e){return e.y}function D$(e,t){return new M(e(t.x),e(t.y))}function Io(e,t,n){return new M(e(t.x,n.x),e(t.y,n.y))}function nd(e){return Y([e.x,e.y])}function no(e){const t=e.x*e.x+e.y*e.y;return Math.sqrt(t)}function Uh(e,t){let n,r;return no((n=e,r=t,new M(n.x-r.x,n.y-r.y)))}function ul(e){if(no(e)!==0){const t=e,n=no(e);return new M(t.x/n,t.y/n)}else return e}function N$(e){let t,n;const r=no(e);if(r!==0)return t=e,n=r,new M(t.x/n,t.y/n)}function bh(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Nx(e,t){return t.has(e)?!1:(t.add(e),!0)}function V$(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function qo(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}class Ld{constructor(t,n){const r=new ai(gn());this.comparer=n,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const s=Je(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();Gd(r.contents,i)}}finally{Ue(s)}}get[Symbol.toStringTag](){return"HashSet"}toJSON(){const t=this;return Array.from(t)}"System.Collections.IEnumerable.GetEnumerator"(){return Je(this)}GetEnumerator(){return Je(ps(this.hashMap.values()))}[Symbol.iterator](){return Vu(Je(this))}"System.Collections.Generic.ICollection`1.Add2B595"(t){Gd(this,t)}"System.Collections.Generic.ICollection`1.Clear"(){O$(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return z$(this,t)}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){bv((s,i)=>{lt(t,n+s,i)},this)}"System.Collections.Generic.ICollection`1.get_Count"(){return R$(this)|0}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){return F$(this,t)}get size(){return R$(this)|0}add(t){const n=this;return Gd(n,t),n}clear(){O$(this)}delete(t){return F$(this,t)}has(t){return z$(this,t)}keys(){return fe(n=>n,this)}values(){return fe(n=>n,this)}entries(){return fe(n=>[n,n],this)}forEach(t,n){const r=this;td(s=>{t(s,s,r)},r)}}function jh(e,t){const n=e.comparer.GetHashCode(t)|0;let r,s=gn();return r=[bh(e.hashMap,n,new ai(()=>s,i=>{s=i})),s],r[0]?[!0,n,r[1].findIndex(i=>e.comparer.Equals(t,i))]:[!1,n,-1]}function O$(e){e.hashMap.clear()}function R$(e){let t=0,n=Je(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=t+r.length|0}}finally{Ue(n)}return t|0}function Gd(e,t){const n=jh(e,t);return n[0]?n[2]>-1?!1:(qo(e.hashMap,n[1]).push(t),!0):(e.hashMap.set(n[1],[t]),!0)}function z$(e,t){const n=jh(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return!0;default:return!1}}function F$(e,t){const n=jh(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return qo(e.hashMap,n[1]).splice(n[2],1),!0;default:return!1}}class Wv{constructor(t){this.k=t}}function $r(e){return new Wv(e)}function pe(e){return e.k}class Le extends Wv{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function gr(e,t,n,r){return new Le(e,t,n,r)}function Ve(e){return e.left}function De(e){return e.right}function jr(e){return e.h}function Zv(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=G(n);if(s instanceof Le){const i=s;e=Ve(i),t=Zv(De(i),r+1);continue e}else return r+1|0}else return r|0}}function Vx(e){return Zv(e,0)}function Qn(e,t,n){let r,s,i;const o=e;if(o!=null){const c=G(o);i=c instanceof Le?(r=c,jr(r)):1}else i=0;let l;const u=n;if(u!=null){const c=G(u);l=c instanceof Le?(s=c,jr(s)):1}else l=0;const a=(i<l?l:i)|0;return a===0?$r(t):gr(t,e,n,a+1)}function $u(e,t,n){let r,s,i,o,l,u,a,c,f;const d=e;if(d!=null){const v=G(d);f=v instanceof Le?(r=v,jr(r)):1}else f=0;let g;const w=n;if(w!=null){const v=G(w);g=v instanceof Le?(s=v,jr(s)):1}else g=0;if(g>f+2){const v=G(n);if(v instanceof Le){const _=v;if(i=Ve(_),(i!=null?(o=G(i),o instanceof Le?(l=o,jr(l)):1):0)>f+1){const h=G(Ve(_));if(h instanceof Le){const p=h;return Qn(Qn(e,t,Ve(p)),pe(p),Qn(De(p),pe(_),De(_)))}else throw new Error("internal error: Set.rebalance")}else return Qn(Qn(e,t,Ve(_)),pe(_),De(_))}else throw new Error("internal error: Set.rebalance")}else if(f>g+2){const v=G(e);if(v instanceof Le){const _=v;if(u=De(_),(u!=null?(a=G(u),a instanceof Le?(c=a,jr(c)):1):0)>g+1){const h=G(De(_));if(h instanceof Le){const p=h;return Qn(Qn(Ve(_),pe(_),Ve(p)),pe(p),Qn(De(p),t,n))}else throw new Error("internal error: Set.rebalance")}else return Qn(Ve(_),pe(_),Qn(De(_),t,n))}else throw new Error("internal error: Set.rebalance")}else return Qn(e,t,n)}function Cn(e,t,n){if(n!=null){const r=G(n),s=e.Compare(t,pe(r))|0;if(r instanceof Le){const i=r;return s<0?$u(Cn(e,t,Ve(i)),pe(i),De(i)):s===0?n:$u(Ve(i),pe(i),Cn(e,t,De(i)))}else{const i=e.Compare(t,pe(r))|0;return i<0?gr(t,void 0,n,2):i===0?n:gr(t,n,void 0,2)}}else return $r(t)}function gu(e,t,n,r){if(t!=null){const s=G(t);if(r!=null){const i=G(r);if(s instanceof Le){const o=s;if(i instanceof Le){const l=i;return jr(o)+2<jr(l)?$u(gu(e,t,n,Ve(l)),pe(l),De(l)):jr(l)+2<jr(o)?$u(Ve(o),pe(o),gu(e,De(o),n,r)):Qn(t,n,r)}else return Cn(e,n,Cn(e,pe(i),t))}else return Cn(e,n,Cn(e,pe(s),r))}else return Cn(e,n,t)}else return Cn(e,n,r)}function u0(e,t,n){if(n!=null){const r=G(n);if(r instanceof Le){const s=r,i=e.Compare(t,pe(s))|0;if(i<0){const o=u0(e,t,Ve(s));return[o[0],o[1],gu(e,o[2],pe(s),De(s))]}else{if(i===0)return[Ve(s),!0,De(s)];{const o=u0(e,t,De(s));return[gu(e,Ve(s),pe(s),o[0]),o[1],o[2]]}}}else{const s=e.Compare(pe(r),t)|0;return s<0?[n,!1,void 0]:s===0?[void 0,!0,void 0]:[void 0,!1,n]}}else return[void 0,!1,void 0]}function Kv(e){if(e!=null){const t=G(e);if(t instanceof Le){const n=t;if(Ve(n)==null)return[pe(n),De(n)];{const r=Kv(Ve(n));return[r[0],Qn(r[1],pe(n),De(n))]}}else return[pe(t),void 0]}else throw new Error("internal error: Set.spliceOutSuccessor")}function G1(e,t,n){if(n!=null){const r=G(n),s=e.Compare(t,pe(r))|0;if(r instanceof Le){const i=r;if(s<0)return $u(G1(e,t,Ve(i)),pe(i),De(i));if(s===0){if(Ve(i)==null)return De(i);if(De(i)==null)return Ve(i);{const o=Kv(De(i));return Qn(Ve(i),o[0],o[1])}}else return $u(Ve(i),pe(i),G1(e,t,De(i)))}else return s===0?void 0:n}else return n}function qv(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=G(i),l=r.Compare(s,pe(o))|0;if(o instanceof Le){const u=o;if(l<0){e=r,t=s,n=Ve(u);continue e}else{if(l===0)return!0;e=r,t=s,n=De(u);continue e}}else return l===0}else return!1}}function Qv(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=G(r);if(s instanceof Le){const i=s;Qv(n,Ve(i)),n(pe(i)),e=n,t=De(i);continue e}else n(pe(s))}break}}function Jv(e,t,n){e:for(;;){const r=e,s=t,i=n;if(s!=null){const o=G(s);if(o instanceof Le){const l=o;e=r,t=Ve(l),n=r(pe(l),Jv(r,De(l),i));continue e}else return r(pe(o),i)}else return i}}function Ox(e,t,n){return Jv(e,t,n)}function Yv(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=G(i);if(o instanceof Le){const l=o;e=r,t=r(Yv(r,s,Ve(l)),pe(l)),n=De(l);continue e}else return r(s,pe(o))}else return s}}function Rx(e,t,n){return Yv(e,t,n)}function Xv(e,t,n,r){e:for(;;){const s=e,i=t,o=n,l=r;if(o!=null){const u=G(o);if(u instanceof Le){const a=u,c=i(pe(a))?Cn(s,pe(a),l):l;e=s,t=i,n=Ve(a),r=Xv(s,i,De(a),c);continue e}else return i(pe(u))?Cn(s,pe(u),l):l}else return l}}function zx(e,t,n){return Xv(e,t,n,void 0)}function ya(e,t,n){if(t!=null){const r=G(t);if(n!=null){const s=G(n);if(r instanceof Le){const i=r;if(s instanceof Le){const o=s;if(jr(i)>jr(o)){const l=u0(e,pe(i),n);return gu(e,ya(e,Ve(i),l[0]),pe(i),ya(e,De(i),l[2]))}else{const l=u0(e,pe(o),t);return gu(e,ya(e,Ve(o),l[0]),pe(o),ya(e,De(o),l[2]))}}else return Cn(e,pe(s),t)}else return Cn(e,pe(r),n)}else return t}else return n}class Fx extends de{constructor(t,n){super(),this.stack=t,this.started=n}}function e_(e){e:for(;;){const t=e;if(te(t))return R();{const n=K(t),r=z(t);if(n!=null){const s=G(n);if(s instanceof Le){const i=s;e=_t([Ve(i),$r(pe(i)),De(i)],r);continue e}else return t}else{e=r;continue e}}}}function L$(e){return new Fx(e_(D(e)),!1)}function Lx(){throw new Error("Enumeration not started")}function Gx(){throw new Error("Enumeration already started")}function G$(e){if(e.started){const t=e.stack;if(te(t))return Gx();if(K(t)!=null){const n=G(K(t));return pe(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Lx()}function Ax(e){if(e.started){const t=e.stack;if(te(t))return!1;if(K(t)!=null){if(G(K(t))instanceof Le)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=e_(z(t)),!te(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!te(e.stack)}function A$(e){let t=L$(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return G$(t)},"System.Collections.IEnumerator.get_Current"(){return G$(t)},"System.Collections.IEnumerator.MoveNext"(){return Ax(t)},"System.Collections.IEnumerator.Reset"(){t=L$(e)},Dispose(){}}}function Bx(e,t,n){e:for(;;){const r=e,s=t,i=n;if(te(s))return te(i)?0:-1;if(te(i))return 1;if(K(i)!=null)if(K(s)!=null){const o=G(K(s)),l=G(K(i));if(o instanceof Le){const u=o;if(Ve(u)==null)if(l instanceof Le){const a=l;if(Ve(a)==null){const c=r.Compare(pe(u),pe(a))|0;if(c!==0)return c|0;e=r,t=xe(De(u),z(s)),n=xe(De(a),z(i));continue e}else{let c,f,d,g,w;switch(te(s)?te(i)?c=2:K(i)!=null?(c=1,g=z(i),w=G(K(i))):c=2:K(s)!=null?(c=0,f=z(s),d=G(K(s))):te(i)?c=2:K(i)!=null?(c=1,g=z(i),w=G(K(i))):c=2,c){case 0:if(d instanceof Le){const v=d;e=r,t=_t([Ve(v),gr(pe(v),void 0,De(v),0)],f),n=i;continue e}else{e=r,t=_t([void 0,$r(pe(d))],f),n=i;continue e}case 1:if(w instanceof Le){const v=w;e=r,t=s,n=_t([Ve(v),gr(pe(v),void 0,De(v),0)],g);continue e}else{e=r,t=s,n=_t([void 0,$r(pe(w))],g);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const a=r.Compare(pe(u),pe(l))|0;if(a!==0)return a|0;e=r,t=xe(De(u),z(s)),n=xe(void 0,z(i));continue e}else{let a,c,f,d,g;switch(te(s)?te(i)?a=2:K(i)!=null?(a=1,d=z(i),g=G(K(i))):a=2:K(s)!=null?(a=0,c=z(s),f=G(K(s))):te(i)?a=2:K(i)!=null?(a=1,d=z(i),g=G(K(i))):a=2,a){case 0:if(f instanceof Le){const w=f;e=r,t=_t([Ve(w),gr(pe(w),void 0,De(w),0)],c),n=i;continue e}else{e=r,t=_t([void 0,$r(pe(f))],c),n=i;continue e}case 1:if(g instanceof Le){const w=g;e=r,t=s,n=_t([Ve(w),gr(pe(w),void 0,De(w),0)],d);continue e}else{e=r,t=s,n=_t([void 0,$r(pe(g))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(l instanceof Le){const u=l;if(Ve(u)==null){const a=r.Compare(pe(o),pe(u))|0;if(a!==0)return a|0;e=r,t=xe(void 0,z(s)),n=xe(De(u),z(i));continue e}else{let a,c,f,d,g;switch(te(s)?te(i)?a=2:K(i)!=null?(a=1,d=z(i),g=G(K(i))):a=2:K(s)!=null?(a=0,c=z(s),f=G(K(s))):te(i)?a=2:K(i)!=null?(a=1,d=z(i),g=G(K(i))):a=2,a){case 0:if(f instanceof Le){const w=f;e=r,t=_t([Ve(w),gr(pe(w),void 0,De(w),0)],c),n=i;continue e}else{e=r,t=_t([void 0,$r(pe(f))],c),n=i;continue e}case 1:if(g instanceof Le){const w=g;e=r,t=s,n=_t([Ve(w),gr(pe(w),void 0,De(w),0)],d);continue e}else{e=r,t=s,n=_t([void 0,$r(pe(g))],d);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const u=r.Compare(pe(o),pe(l))|0;if(u!==0)return u|0;e=r,t=z(s),n=z(i);continue e}}else{G(K(i));let o,l,u,a,c;switch(te(s)?te(i)?o=2:K(i)!=null?(o=1,a=z(i),c=G(K(i))):o=2:K(s)!=null?(o=0,l=z(s),u=G(K(s))):te(i)?o=2:K(i)!=null?(o=1,a=z(i),c=G(K(i))):o=2,o){case 0:if(u instanceof Le){const f=u;e=r,t=_t([Ve(f),gr(pe(f),void 0,De(f),0)],l),n=i;continue e}else{e=r,t=_t([void 0,$r(pe(u))],l),n=i;continue e}case 1:if(c instanceof Le){const f=c;e=r,t=s,n=_t([Ve(f),gr(pe(f),void 0,De(f),0)],a);continue e}else{e=r,t=s,n=_t([void 0,$r(pe(c))],a);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(K(s)!=null){G(K(s));let o,l,u,a,c;switch(te(s)?te(i)?o=2:K(i)!=null?(o=1,a=z(i),c=G(K(i))):o=2:K(s)!=null?(o=0,l=z(s),u=G(K(s))):te(i)?o=2:K(i)!=null?(o=1,a=z(i),c=G(K(i))):o=2,o){case 0:if(u instanceof Le){const f=u;e=r,t=_t([Ve(f),gr(pe(f),void 0,De(f),0)],l),n=i;continue e}else{e=r,t=_t([void 0,$r(pe(u))],l),n=i;continue e}case 1:if(c instanceof Le){const f=c;e=r,t=s,n=_t([Ve(f),gr(pe(f),void 0,De(f),0)],a);continue e}else{e=r,t=s,n=_t([void 0,$r(pe(c))],a);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=z(s),n=z(i);continue e}}}function B$(e,t,n){return t==null?n==null?0:-1:n==null?1:Bx(e,D(t),D(n))|0}function Ux(e){const t=(n,r)=>{e:for(;;){const s=n,i=r;if(s!=null){const o=G(s);if(o instanceof Le){const l=o;n=Ve(l),r=xe(pe(l),t(De(l),i));continue e}else return xe(pe(o),i)}else return i}};return t(e,R())}function bx(e,t,n){let r=n;Qv(s=>{lt(t,r,s),r=r+1|0},e)}function jx(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Cn(r,i["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=i;continue e}else return s}}function Hx(e,t){return Dv((n,r)=>Cn(e,r,n),void 0,t)}function Wx(e,t){return nn((n,r)=>Cn(e,r,n),void 0,t)}function t_(e,t){if(gs(t))return Hx(e,t);if(t instanceof xn)return Wx(e,t);{const n=Je(t);try{return jx(e,void 0,n)}finally{Ue(n)}}}class Hh{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return eE(this)|0}Equals(t){let n;const r=this;return t instanceof Hh&&(n=t,B$(Zr(r),Ht(r),Ht(n))===0)}toString(){return"set ["+Se("; ",fe(n=>je(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return B$(Zr(n),Ht(n),Ht(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return qv(Zr(n),t,Ht(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){bx(Ht(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Ad(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Ad(this)|0}GetEnumerator(){return A$(Ht(this))}[Symbol.iterator](){return Vu(Je(this))}"System.Collections.IEnumerable.GetEnumerator"(){return A$(Ht(this))}get size(){return Ad(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return n_(this,t)}keys(){return fe(n=>n,this)}values(){return fe(n=>n,this)}entries(){return fe(n=>[n,n],this)}forEach(t,n){const r=this;td(s=>{t(s,s,r)},r)}}function ao(e,t){return new Hh(e,t)}function Zr(e){return e.comparer}function Ht(e){return e.tree}function Zx(e){return ao(e,void 0)}function Kx(e,t){return ao(Zr(e),Cn(Zr(e),t,Ht(e)))}function qx(e,t){return ao(Zr(e),G1(Zr(e),t,Ht(e)))}function Ad(e){return Vx(Ht(e))}function n_(e,t){return qv(Zr(e),t,Ht(e))}function Qx(e,t){return Ht(e)==null?e:ao(Zr(e),zx(Zr(e),t,Ht(e)))}function Jx(e,t,n){return ao(n,Rx((r,s)=>Cn(n,t(s),r),void 0,Ht(e)))}function Yx(e,t){return Ht(t)==null?e:Ht(e)==null?t:ao(Zr(e),ya(Zr(e),Ht(e),Ht(t)))}function Xx(e){return Ux(Ht(e))}function eE(e){let t=0;const n=Je(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+mn(r)+631|0}}finally{Ue(n)}return Math.abs(t)|0}function Kr(e,t){return n_(t,e)}function Fu(e,t){return Kx(t,e)}function Vi(e,t){return qx(t,e)}function r_(e,t){return Yx(e,t)}function co(e){return Zx(e)}function tE(e,t){return Qx(t,e)}function U$(e,t,n){return Ox(e,Ht(t),n)}function Ja(e,t,n){return Jx(t,e,n)}function fi(e,t){return ao(t,t_(t,e))}function A1(e){return Xx(e)}function Ya(e,t){return ao(t,t_(t,e))}class s_{constructor(t,n){this.k=t,this.v=n}}function Qo(e,t){return new s_(e,t)}function We(e){return e.k}function ot(e){return e.v}class St extends s_{constructor(t,n,r,s,i){super(t,n),this.left=r,this.right=s,this.h=i|0}}function Hi(e,t,n,r,s){return new St(e,t,n,r,s)}function nt(e){return e.left}function rt(e){return e.right}function ri(e){return e.h}function i_(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=G(r);if(s instanceof St){const i=s;e=i_(n+1,nt(i)),t=rt(i);continue e}else return n+1|0}else return n|0}}function o_(e){return i_(0,e)}function Jn(e,t,n,r){let s,i,o;const l=e;if(l!=null){const f=G(l);o=f instanceof St?(s=f,ri(s)):1}else o=0;let u;const a=r;if(a!=null){const f=G(a);u=f instanceof St?(i=f,ri(i)):1}else u=0;const c=(o<u?u:o)|0;return c===0?Qo(t,n):Hi(t,n,e,r,c+1)}function yu(e,t,n,r){let s,i,o,l,u,a,c,f,d;const g=e;if(g!=null){const _=G(g);d=_ instanceof St?(s=_,ri(s)):1}else d=0;let w;const v=r;if(v!=null){const _=G(v);w=_ instanceof St?(i=_,ri(i)):1}else w=0;if(w>d+2){const _=G(r);if(_ instanceof St){const h=_;if(o=nt(h),(o!=null?(l=G(o),l instanceof St?(u=l,ri(u)):1):0)>d+1){const p=G(nt(h));if(p instanceof St){const $=p;return Jn(Jn(e,t,n,nt($)),We($),ot($),Jn(rt($),We(h),ot(h),rt(h)))}else throw new Error("internal error: Map.rebalance")}else return Jn(Jn(e,t,n,nt(h)),We(h),ot(h),rt(h))}else throw new Error("internal error: Map.rebalance")}else if(d>w+2){const _=G(e);if(_ instanceof St){const h=_;if(a=rt(h),(a!=null?(c=G(a),c instanceof St?(f=c,ri(f)):1):0)>w+1){const p=G(rt(h));if(p instanceof St){const $=p;return Jn(Jn(nt(h),We(h),ot(h),nt($)),We($),ot($),Jn(rt($),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Jn(nt(h),We(h),ot(h),Jn(rt(h),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Jn(e,t,n,r)}function Jo(e,t,n,r){if(r!=null){const s=G(r),i=e.Compare(t,We(s))|0;if(s instanceof St){const o=s;return i<0?yu(Jo(e,t,n,nt(o)),We(o),ot(o),rt(o)):i===0?Hi(t,n,nt(o),rt(o),ri(o)):yu(nt(o),We(o),ot(o),Jo(e,t,n,rt(o)))}else return i<0?Hi(t,n,void 0,r,2):i===0?Qo(t,n):Hi(t,n,r,void 0,2)}else return Qo(t,n)}function l_(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=G(i),l=r.Compare(s,We(o))|0;if(l===0)return ht(ot(o));if(o instanceof St){const u=o;e=r,t=s,n=l<0?nt(u):rt(u);continue e}else return}else return}}function nE(e,t,n){const r=l_(e,t,n);if(r==null)throw new Error;return G(r)}function b$(e,t,n,r,s){return t(n,r)?Jo(e,n,r,s):s}function u_(e,t,n,r){e:for(;;){const s=e,i=t,o=n,l=r;if(o!=null){const u=G(o);if(u instanceof St){const a=u,c=u_(s,i,nt(a),l),f=b$(s,i,We(a),ot(a),c);e=s,t=i,n=rt(a),r=f;continue e}else return b$(s,i,We(u),ot(u),l)}else return l}}function rE(e,t,n){return u_(e,t,n,void 0)}function Wh(e){if(e!=null){const t=G(e);if(t instanceof St){const n=t;if(nt(n)==null)return[We(n),ot(n),rt(n)];{const r=Wh(nt(n));return[r[0],r[1],Jn(r[2],We(n),ot(n),rt(n))]}}else return[We(t),ot(t),void 0]}else throw new Error("internal error: Map.spliceOutSuccessor")}function B1(e,t,n){if(n!=null){const r=G(n),s=e.Compare(t,We(r))|0;if(r instanceof St){const i=r;if(s<0)return yu(B1(e,t,nt(i)),We(i),ot(i),rt(i));if(s===0){if(nt(i)==null)return rt(i);if(rt(i)==null)return nt(i);{const o=Wh(rt(i));return Jn(nt(i),o[0],o[1],o[2])}}else return yu(nt(i),We(i),ot(i),B1(e,t,rt(i)))}else return s===0?void 0:n}else return void 0}function U1(e,t,n,r){if(r!=null){const s=G(r);if(s instanceof St){const i=s,o=e.Compare(t,We(i))|0;if(o<0)return yu(U1(e,t,n,nt(i)),We(i),ot(i),rt(i));if(o===0){const l=n(ht(ot(i)));if(l!=null)return Hi(t,G(l),nt(i),rt(i),ri(i));if(nt(i)==null)return rt(i);if(rt(i)==null)return nt(i);{const u=Wh(rt(i));return Jn(nt(i),u[0],u[1],u[2])}}else return yu(nt(i),We(i),ot(i),U1(e,t,n,rt(i)))}else{const i=e.Compare(t,We(s))|0;if(i<0){const o=n(void 0);return o!=null?Hi(t,G(o),void 0,r,2):r}else if(i===0){const o=n(ht(ot(s)));return o!=null?Qo(t,G(o)):void 0}else{const o=n(void 0);return o!=null?Hi(t,G(o),r,void 0,2):r}}}else{const s=n(void 0);return s!=null?Qo(t,G(s)):r}}function sE(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=G(i),l=r.Compare(s,We(o))|0;if(o instanceof St){const u=o;if(l<0){e=r,t=s,n=nt(u);continue e}else{if(l===0)return!0;e=r,t=s,n=rt(u);continue e}}else return l===0}else return!1}}function a_(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=G(r);if(s instanceof St){const i=s;a_(n,nt(i)),n(We(i),ot(i)),e=n,t=rt(i);continue e}else n(We(s),ot(s))}break}}function iE(e,t){a_(e,t)}function b1(e,t){if(t!=null){const n=G(t);if(n instanceof St){const r=n,s=b1(e,nt(r)),i=e(We(r),ot(r)),o=b1(e,rt(r));return Hi(We(r),i,s,o,ri(r))}else return Qo(We(n),e(We(n),ot(n)))}else return void 0}function oE(e,t){return b1(e,t)}function c_(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i!=null){const o=G(i);if(o instanceof St){const l=o;e=r,t=r(c_(r,s,nt(l)),We(l),ot(l)),n=rt(l);continue e}else return r(s,We(o),ot(o))}else return s}}function lE(e,t,n){return c_(e,t,n)}function uE(e){const t=(n,r)=>{e:for(;;){const s=n,i=r;if(s!=null){const o=G(s);if(o instanceof St){const l=o;n=nt(l),r=xe([We(l),ot(l)],t(rt(l),i));continue e}else return xe([We(o),ot(o)],i)}else return i}};return t(e,R())}function f_(e,t,n){let r=n;iE((s,i)=>{lt(t,r,[s,i]),r=r+1|0},e)}function aE(e){const t=o_(e)|0,n=Fs(new Array(t),0,t,[null,null]);return f_(e,n,0),n}function cE(e,t){return nn((n,r)=>Jo(e,r[0],r[1],n),void 0,t)}function fE(e,t,n){e:for(;;){const r=e,s=t,i=n;if(i["System.Collections.IEnumerator.MoveNext"]()){const o=i["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=Jo(r,o[0],o[1],s),n=i;continue e}else return s}}function dE(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=J(r,t);n=Jo(e,s[0],s[1],n)}return n}function d_(e,t){if(gs(t))return dE(e,t);if(t instanceof xn)return cE(e,t);{const n=Je(t);try{return fE(e,void 0,n)}finally{Ue(n)}}}class pE extends de{constructor(t,n){super(),this.stack=t,this.started=n}}function p_(e){e:for(;;){const t=e;if(te(t))return R();{const n=z(t),r=K(t);if(r!=null){const s=G(r);if(s instanceof St){const i=s;e=_t([nt(i),Qo(We(i),ot(i)),rt(i)],n);continue e}else return t}else{e=n;continue e}}}}function j$(e){return new pE(p_(D(e)),!1)}function hE(){throw new Error("enumeration not started")}function wE(){throw new Error("enumeration already finished")}function H$(e){if(e.started){const t=e.stack;if(te(t))return wE();if(K(t)!=null){const n=G(K(t));if(n instanceof St)throw new Error("Please report error: Map iterator, unexpected stack for current");return[We(n),ot(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return hE()}function $E(e){if(e.started){const t=e.stack;if(te(t))return!1;if(K(t)!=null){if(G(K(t))instanceof St)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=p_(z(t)),!te(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!te(e.stack)}function W$(e){let t=j$(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return H$(t)},"System.Collections.IEnumerator.get_Current"(){return H$(t)},"System.Collections.IEnumerator.MoveNext"(){return $E(t)},"System.Collections.IEnumerator.Reset"(){t=j$(e)},Dispose(){}}}class a0{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return TE(this)|0}Equals(t){const n=this;if(t instanceof a0){const r=t,s=Je(n);try{const i=Je(r);try{const o=()=>{const l=s["System.Collections.IEnumerator.MoveNext"]();if(l===i["System.Collections.IEnumerator.MoveNext"]())if(l){const u=s["System.Collections.Generic.IEnumerator`1.get_Current"](),a=i["System.Collections.Generic.IEnumerator`1.get_Current"]();return ee(u[0],a[0])&&ee(u[1],a[1])?o():!1}else return!0;else return!1};return o()}finally{Ue(i)}}finally{Ue(s)}}else return!1}toString(){return"map ["+Se("; ",fe(n=>Iv("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return W$(this.tree)}[Symbol.iterator](){return Vu(Je(this))}"System.Collections.IEnumerable.GetEnumerator"(){return W$(this.tree)}CompareTo(t){const n=this;if(t instanceof a0)return vx((s,i)=>{const o=n.comparer.Compare(s[0],i[0])|0;return(o!==0?o:Me(s[1],i[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return H1(n,t[0])&&ee(j1(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){f_(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return kf(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return kf(this)|0}get size(){return kf(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return fe(n=>[n[0],n[1]],this)}get(t){return j1(this,t)}has(t){return H1(this,t)}keys(){return fe(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return fe(n=>n[1],this)}forEach(t,n){const r=this;td(s=>{t(s[1],s[0],r)},r)}}function fo(e,t){return new a0(e,t)}function gE(e){return fo(e,void 0)}function yE(e){return e.tree}function vE(e,t,n){return fo(e.comparer,Jo(e.comparer,t,n,e.tree))}function _E(e,t,n){return fo(e.comparer,U1(e.comparer,t,n,e.tree))}function mE(e){return e.tree==null}function j1(e,t){return nE(e.comparer,t,e.tree)}function CE(e,t){return fo(e.comparer,rE(e.comparer,t,e.tree))}function SE(e,t){return fo(e.comparer,oE(t,e.tree))}function kf(e){return o_(e.tree)}function H1(e,t){return sE(e.comparer,t,e.tree)}function kE(e,t){return fo(e.comparer,B1(e.comparer,t,e.tree))}function xE(e,t){return l_(e.comparer,t,e.tree)}function EE(e){return uE(e.tree)}function ME(e){return aE(e.tree)}function TE(e){const t=(s,i)=>(s<<1)+i+631;let n=0;const r=Je(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,mn(s[0]))|0,n=t(n,mn(s[1]))|0}}finally{Ue(r)}return n|0}function Z$(e){return mE(e)}function Pt(e,t,n){return vE(n,e,t)}function xr(e,t,n){return _E(n,e,t)}function po(e,t){return j1(t,e)}function Zt(e,t){return xE(t,e)}function Sr(e,t){return kE(t,e)}function Uo(e,t){return H1(t,e)}function ql(e,t){return CE(t,e)}function js(e,t){return SE(t,e)}function W1(e,t,n){return lE(e,t,yE(n))}function di(e){return fe(t=>[t[0],t[1]],e)}function ls(e,t){return fo(t,d_(t,e))}function h_(e,t){return fo(t,d_(t,e))}function ti(e){return EE(e)}function IE(e){return ME(e)}function Lt(e){return gE(e)}function PE(e){return kf(e)}function DE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var w_={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=Symbol.for("react.element"),NE=Symbol.for("react.portal"),VE=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),RE=Symbol.for("react.profiler"),zE=Symbol.for("react.provider"),FE=Symbol.for("react.context"),LE=Symbol.for("react.forward_ref"),GE=Symbol.for("react.suspense"),AE=Symbol.for("react.memo"),BE=Symbol.for("react.lazy"),K$=Symbol.iterator;function UE(e){return e===null||typeof e!="object"?null:(e=K$&&e[K$]||e["@@iterator"],typeof e=="function"?e:null)}var $_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g_=Object.assign,y_={};function Lu(e,t,n){this.props=e,this.context=t,this.refs=y_,this.updater=n||$_}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v_(){}v_.prototype=Lu.prototype;function Zh(e,t,n){this.props=e,this.context=t,this.refs=y_,this.updater=n||$_}var Kh=Zh.prototype=new v_;Kh.constructor=Zh;g_(Kh,Lu.prototype);Kh.isPureReactComponent=!0;var q$=Array.isArray,__=Object.prototype.hasOwnProperty,qh={current:null},m_={key:!0,ref:!0,__self:!0,__source:!0};function C_(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)__.call(t,r)&&!m_.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),a=0;a<l;a++)u[a]=arguments[a+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Cc,type:e,key:i,ref:o,props:s,_owner:qh.current}}function bE(e,t){return{$$typeof:Cc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Qh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cc}function jE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Q$=/\/+/g;function Bd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jE(""+e.key):t.toString(36)}function xf(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cc:case NE:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Bd(o,0):r,q$(s)?(n="",e!=null&&(n=e.replace(Q$,"$&/")+"/"),xf(s,t,n,"",function(a){return a})):s!=null&&(Qh(s)&&(s=bE(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Q$,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",q$(e))for(var l=0;l<e.length;l++){i=e[l];var u=r+Bd(i,l);o+=xf(i,t,n,u,s)}else if(u=UE(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=r+Bd(i,l++),o+=xf(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(e,t,n){if(e==null)return e;var r=[],s=0;return xf(e,r,"","",function(i){return t.call(n,i,s++)}),r}function HE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var jn={current:null},Ef={transition:null},WE={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:qh};He.Children={map:bc,forEach:function(e,t,n){bc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bc(e,function(){t++}),t},toArray:function(e){return bc(e,function(t){return t})||[]},only:function(e){if(!Qh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};He.Component=Lu;He.Fragment=VE;He.Profiler=RE;He.PureComponent=Zh;He.StrictMode=OE;He.Suspense=GE;He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WE;He.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g_({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=qh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)__.call(t,u)&&!m_.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var a=0;a<u;a++)l[a]=arguments[a+2];r.children=l}return{$$typeof:Cc,type:e.type,key:s,ref:i,props:r,_owner:o}};He.createContext=function(e){return e={$$typeof:FE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zE,_context:e},e.Consumer=e};He.createElement=C_;He.createFactory=function(e){var t=C_.bind(null,e);return t.type=e,t};He.createRef=function(){return{current:null}};He.forwardRef=function(e){return{$$typeof:LE,render:e}};He.isValidElement=Qh;He.lazy=function(e){return{$$typeof:BE,_payload:{_status:-1,_result:e},_init:HE}};He.memo=function(e,t){return{$$typeof:AE,type:e,compare:t===void 0?null:t}};He.startTransition=function(e){var t=Ef.transition;Ef.transition={};try{e()}finally{Ef.transition=t}};He.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};He.useCallback=function(e,t){return jn.current.useCallback(e,t)};He.useContext=function(e){return jn.current.useContext(e)};He.useDebugValue=function(){};He.useDeferredValue=function(e){return jn.current.useDeferredValue(e)};He.useEffect=function(e,t){return jn.current.useEffect(e,t)};He.useId=function(){return jn.current.useId()};He.useImperativeHandle=function(e,t,n){return jn.current.useImperativeHandle(e,t,n)};He.useInsertionEffect=function(e,t){return jn.current.useInsertionEffect(e,t)};He.useLayoutEffect=function(e,t){return jn.current.useLayoutEffect(e,t)};He.useMemo=function(e,t){return jn.current.useMemo(e,t)};He.useReducer=function(e,t,n){return jn.current.useReducer(e,t,n)};He.useRef=function(e){return jn.current.useRef(e)};He.useState=function(e){return jn.current.useState(e)};He.useSyncExternalStore=function(e,t,n){return jn.current.useSyncExternalStore(e,t,n)};He.useTransition=function(){return jn.current.useTransition()};He.version="18.2.0";w_.exports=He;var H=w_.exports;const ZE=DE(H);function KE(e){return Il(BigInt(e)*10000n)}function Yo(e){return Se(`
`,fe(t=>{const n=t[0],r=t[1];return ds(r)===0?n:n+" "+Se(" ",fe(s=>Se(",",s),r))},e))}function qE(e){console.log(ht(e))}function hs(e,t){const n=e.createSVGPoint();n.x=t.x,n.y=t.y;const r=e.getScreenCTM(),s=n.matrixTransform(r.inverse());return new M(s.x,s.y)}function QE(e,t){const n=e.createSVGPoint();n.x=t.x,n.y=t.y;const r=e.getScreenCTM(),s=n.matrixTransform(r);return new M(s.x,s.y)}function Gs(e){if(e instanceof SVGSVGElement)return e;if(e instanceof SVGElement)return e.ownerSVGElement;throw new Error("it is not svg element")}function JE(e,t,n,r,s){let i,o;const l=ul((i=r,o=n,new M(i.x-o.x,i.y-o.y))),u=new M(l.y,-l.x);let a,c;const f=r;let d;const g=u,w=e;d=new M(g.x*w,g.y*w),c=new M(f.x+d.x,f.y+d.y);let v;const _=l,h=t;v=new M(_.x*h,_.y*h),a=new M(c.x-v.x,c.y-v.y);let p,$;const C=r;let k;const I=u,P=e;k=new M(I.x*P,I.y*P),$=new M(C.x-k.x,C.y-k.y);let N;const U=l,V=t;return N=new M(U.x*V,U.y*V),p=new M($.x-N.x,$.y-N.y),H.createElement("path",tt(Q(m(()=>E(S(["d",Yo(he(A=>[A[0],he(nd,A[1])],Y([["M",D(n)],["L",D(r)],["L",D(a)],["L",D(p)],["L",D(r)]])))]),m(()=>s))))))}class c0 extends de{constructor(t,n,r){super(),this.targetType=t,this.position=n,this.event=r}}class J$ extends de{constructor(t,n,r,s){super(),this.source=t,this.all=n,this.target=r,this.dragData=s}}class Ql extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragStart","Dragging","DragEnd","Click"]}}class ia extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragStarted","Drag","DragComplete","Clicked"]}}function rd(e,t){let n,r,s,i,o,l;switch(e.tag){case 1:{const u=e.fields[0],a=oe(c=>new J$(c.source,xe(u,c.all),u,c.dragData),t);return[a,Q(m(()=>a!=null?S(new ia(1,[a])):Fe()))]}case 2:return[void 0,t!=null?(n=t,ee(n.source.targetType,n.target.targetType)&&(r=(s=n.source.position,i=n.target.position,new M(s.x-i.x,s.y-i.y)),(o=r,l=r,o.x*l.x+o.y*l.y)<Math.pow(5,2))?D(new ia(3,[n.target])):D(new ia(2,[n]))):R()];case 3:return[t,D(new ia(3,[e.fields[0]]))];default:{const u=e.fields[1],a=new J$(u,D(u),u,e.fields[0]);return[a,D(new ia(0,[a]))]}}}function Pl(e,t,n){return Q(m(()=>E(S(["className",Se(" ",["pointer-events-all"])]),m(()=>E(S(["onPointerDown",r=>{n(new Ql(0,[void 0,new c0(t,hs(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]),m(()=>E(S(["onPointerUp",r=>{hs(Gs(r.target),new M(r.clientX,r.clientY)),n(new Ql(2,[]))}]),m(()=>e!=null?S(["onPointerMove",r=>{n(new Ql(1,[new c0(t,hs(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]):Fe()))))))))}function S_(e){return t=>{const n=r=>{e(r,t)};return document.addEventListener("keydown",n),{Dispose(){document.removeEventListener("keydown",n)}}}}class Vs extends de{constructor(t,n,r,s){super(),this.key=t,this.ctrl=n,this.alt=r,this.shift=s}Equals(t){let n;const r=this;return t instanceof Vs?(n=t,Wa([r.key,r.ctrl,r.alt,r.shift],[n.key,n.ctrl,n.alt,n.shift])):Wa([r.key,r.ctrl,r.alt,r.shift],[t.key,t.ctrl,t.alt,t.shift])}GetHashCode(){const t=this;return gv([t.key,t.ctrl,t.alt,t.shift])|0}CompareTo(t){const n=this;if(ee(t,gn()))return 1;if(t instanceof Vs){const r=t;return Wr([n.key,n.ctrl,n.alt,n.shift],[r.key,r.ctrl,r.alt,r.shift])|0}else return Wr([n.key,n.ctrl,n.alt,n.shift],[t.key,t.ctrl,t.alt,t.shift])|0}}function Z1(){return ur("Utils.KeyConfig.KeyBoard",[],Vs,()=>[["key",Za],["ctrl",li],["alt",li],["shift",li]])}function YE(e){return Dv((t,n)=>{switch(n){case"ctrl":return new Vs(t.key,!0,t.alt,t.shift);case"alt":return new Vs(t.key,t.ctrl,!0,t.shift);case"shift":return new Vs(t.key,t.ctrl,t.alt,!0);default:return new Vs(n,t.ctrl,t.alt,t.shift)}},new Vs("",!1,!1,!1),du(e,[" "],void 0,0))}function Jh(e){return he(t=>[YE(t[0]),t[1]],e)}function Yh(e){return h_(e,{Compare:Me})}function K1(e,t){const n=t,r=Zt(new Vs(n.key,n.ctrlKey,n.altKey,n.shiftKey),e);return r!=null?D(G(r)):R()}function XE(e,t){console.error(ht(e),t)}function Y$(e,t,n){qa(r=>{try{r(t)}catch(s){e(s)}},n)}function ne(){return R()}function Bn(e,t){return he(n=>r=>{n(s=>{r(e(s))})},t)}function en(e){return Ko(e)}var q1;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(q1||(q1={}));function e3(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function X$(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function t3(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function n3(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function r3(e,t){if(t&q1.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function k_(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,i,o]=s;if(n=n||r3(i,t),!t3(n).test(o))return e3(s,n)}return null}function Rr(e,t,n,r,s){const i=k_(e,t,s);if(i!=null){let o=Number.parseInt(i.sign+i.digits,i.radix);if(!Number.isNaN(o)){const[l,u]=X$(!0,r);!n&&i.radix!==10&&o>=l&&o<=u&&(o=o<<32-r>>32-r);const[a,c]=X$(n,r);if(o>=a&&o<=c)return o}}throw new Error(`The input string ${e} was not in a correct format.`)}function s3(e,t,n,r,s){try{return s.contents=Rr(e,t,n,r),!0}catch{return!1}}const Re=ZE;function i3(){return R()}function Xh(e){return Se("/",e)}function o3(e,t){const n=new Error("Duplicate SubId");return e(["Duplicate SubId: "+Xh(t),n])}function x_(e,t,n){try{Ue(n)}catch(r){e(["Error stopping subscription: "+Xh(t),r])}}function l3(e,t,n,r){try{return[n,r(t)]}catch(s){e(["Error starting subscription: "+Xh(n),s]);return}}function u3(e,t){qa(n=>{x_(e,n[0],n[1])},t)}function eg(e,t,n,r,s,i){return qa(o=>{o3(e,o)},n),qa(o=>{x_(e,o[0],o[1])},r),wu(s,ci(o=>l3(e,t,o[0],o[1]),i))}function a3(){return[R(),co({Compare:Me}),R()]}function c3(e,t,n,r,s){return Kr(e,r)?[xe(e,n),r,s]:[n,Fu(e,r),xe([e,t],s)]}function f3(e){return Lr((t,n)=>c3(t[0],t[1],n[0],n[1],n[2]),e,a3())}const d3=R();function tg(e,t){const n=fi(he(o=>o[0],e),{Compare:Me}),r=f3(t),s=r[1],i=r[0];if(n.Equals(s))return[i,R(),e,R()];{const o=tx(l=>Kr(l[0],s),e);return[i,o[1],o[0],Pi(l=>!Kr(l[0],n),r[2])]}}function p3(e,t,n,r){const s=Me(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const i=s>0;return o=>{const l=Me(o,t)|0;return i&&l<=0||!i&&l>=0?[o,r(o,e)]:void 0}}function h3(e,t,n,r,s){const i=p3(t,n,r,s);return m(()=>Gv(i,e))}function Q1(e,t,n){return h3(e,t,n,0,(r,s)=>r+s)}class Jl extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Writable","ReadWritable"]}}class w3{constructor(t){this.state=new Jl(0,[Fs(new Array(i0(t,10)),0,i0(t,10),null),0])}}function $3(e){return new w3(e)}function ng(e){const t=e.state;if(t.tag===1){const n=t.fields[1]|0,r=t.fields[2]|0,s=t.fields[0],i=(r+1)%s.length|0;return i===n?e.state=new Jl(0,[s,n]):e.state=new Jl(1,[s,n,i]),ht(J(r,s))}else return}function g3(e,t){const n=e.state;if(n.tag===1){const r=n.fields[1]|0,s=n.fields[2]|0,i=n.fields[0];lt(i,r,t);const o=(r+1)%i.length|0;o===s?e.state=new Jl(1,[y3(e,s,i),i.length,0]):e.state=new Jl(1,[i,o,s])}else{const r=n.fields[1]|0,s=n.fields[0];lt(s,r,t);const i=(r+1)%s.length|0;e.state=new Jl(1,[s,i,r])}}function y3(e,t,n){return Array.from(m(()=>E(Ex(t,n),m(()=>E(Mx(t,n),m(()=>Ut(r=>S(gn()),Q1(0,1,n.length))))))))}class ew extends de{constructor(t,n,r,s,i,o,l){super(),this.init=t,this.update=n,this.subscribe=r,this.view=s,this.setState=i,this.onError=o,this.termination=l}}function tw(e,t,n){return new ew(e,t,r=>i3(),n,cu(r=>{const s=Ih(n)(r);return i=>{s(i)}}),r=>{XE(r[0],r[1])},[r=>!1,r=>{}])}function E_(e,t){return new ew(t.init,t.update,e,t.view,t.setState,t.onError,t.termination)}function v3(e,t){return new ew(t.init,t.update,t.subscribe,t.view,e,t.onError,t.termination)}function rg(e){return Ih(e.view)}function _3(e,t,n){let r;const s=n.init(t),i=s[0],o=n.subscribe(i),l=n.termination,u=$3(10);let a=!1,c=i,f=d3,d=!1;const g=_=>{d||(g3(u,_),a||(a=!0,v(),a=!1))},w=Ih(e)(g),v=()=>{let _,h=ng(u);for(;!d&&h!=null;){const p=G(h);if(l[0](p))u3(n.onError,f),l[1](c),d=!0;else{const $=n.update(p,c),C=$[0],k=n.subscribe(C);n.setState(C,w),f=(_=tg(f,k),eg(n.onError,w,_[0],_[1],_[2],_[3])),Y$(I=>{n.onError([Ge(L("Error handling the message: %A"))(p),I])},w,$[1]),c=C,h=ng(u)}}};a=!0,n.setState(i,w),f=(r=tg(f,o),eg(n.onError,w,r[0],r[1],r[2],r[3])),Y$(_=>{n.onError([Ge(L("Error intitializing:")),_])},w,s[1]),v(),a=!1}function m3(e,t){_3(cu(n=>n),e,t)}function C3(e){m3(void 0,e)}function sd(e,t){return je(e)===je(t)}function id(e,t){return wn(je(e),je(t))}let Gu=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroCellId","OutZeroCellId"]}Equals(t){return sd(this,t)}GetHashCode(){return ji(this)|0}toString(){const t=this;return t.tag===0?Ge(L("Z: %O"))(t.fields[0]):"Z: out"}CompareTo(t){return id(this,t)|0}},S3=class extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["TwoCellId"]}Equals(t){return sd(this,t)}GetHashCode(){return ji(this)|0}toString(){const t=this;return Ge(L("T: %O"))(t.fields[0])}CompareTo(t){return id(this,t)|0}},nw=class extends de{constructor(t,n){super(),this.startTwoCell=t,this.endTwoCell=n}Equals(t){return sd(this,t)}GetHashCode(){return ji(this)|0}toString(){const t=this;return Ge(L("(%O -> %O)"))(t.startTwoCell.fields[0])(t.endTwoCell.fields[0])}CompareTo(t){return id(this,t)|0}},k3=class extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["PathId"]}Equals(t){return sd(this,t)}GetHashCode(){return ji(this)|0}toString(){const t=this;return Ge(L("P: %O"))(t.fields[0])}CompareTo(t){return id(this,t)|0}},Po=class extends de{constructor(t,n){super(),this.path=t,this.zeroCell=n}},Mf=class extends de{constructor(t){super(),this.color=t}};const x3=new Mf("green");class ro extends de{constructor(t,n,r){super(),this.paths=t,this.t=n,this.data=r}}class Dl extends de{constructor(t){super(),this.right=t}}class yr extends de{constructor(t,n){super(),this.adj=t,this.position=n}}let ar=class extends de{constructor(t,n,r,s,i){super(),this.zeroCell=t,this.oneCell=n,this.twoCell=r,this.pathMap=s,this.currentId=i|0}};class Un extends de{constructor(t){super(),this.environment=t}}class vu extends de{constructor(t,n){super(),this.p1=t,this.p2=n}}function rw(e){return[new ar(e.zeroCell,e.oneCell,e.twoCell,e.pathMap,e.currentId+1),e.currentId]}function J1(e){const t=rw(e);return[t[0],new Gu(0,[t[1]])]}function M_(){return new Gu(1,[])}function sg(e){return ee(e,new Gu(1,[]))}function E3(e){const t=rw(e);return[t[0],new S3(t[1])]}function Do(e){const t=rw(e);return[t[0],new k3(t[1])]}function Y1(e,t){return new ro(Vi(e,t.paths),t.t,t.data)}function f0(e,t){return new ro(Fu(e,t.paths),t.t,t.data)}function M3(e,t){return new ro(e,t,x3)}function xs(e,t){return new yr(e(t.adj),t.position)}function T3(e,t){if(!te(t)){const n=K(t);return((s,i)=>{e:for(;;){const o=s,l=i;if(te(l))return o!=null?[G(o),void 0,n]:[n,void 0,n];{const u=z(l),a=K(l);if(e(a)){const c=te(u)?n:K(u);return[o!=null?G(o):Rh(zh(u),n),ht(a),c]}else{s=ht(a),i=u;continue e}}}})(void 0,t)}}function I3(){return new ar(Lt({Compare:Me}),Lt({Compare:Me}),Lt({Compare:Me}),Lt({Compare:Me}),0)}function Xa(e,t,n){return new ar(xr(e,t,n.zeroCell),n.oneCell,n.twoCell,n.pathMap,n.currentId)}function No(e,t,n){return new ar(n.zeroCell,xr(e,t,n.oneCell),n.twoCell,n.pathMap,n.currentId)}function jt(e,t,n){return new ar(n.zeroCell,n.oneCell,xr(e,t,n.twoCell),n.pathMap,n.currentId)}function Fi(e,t,n){return new ar(n.zeroCell,n.oneCell,n.twoCell,xr(e,t,n.pathMap),n.currentId)}function d0(e,t,n){return new ar(Pt(e,t,n.zeroCell),n.oneCell,n.twoCell,n.pathMap,n.currentId)}function Es(e,t,n){return new ar(n.zeroCell,Pt(e,t,n.oneCell),n.twoCell,n.pathMap,n.currentId)}function P3(e,t,n){return new ar(n.zeroCell,n.oneCell,Pt(e,t,n.twoCell),n.pathMap,n.currentId)}function Vo(e,t,n){return new ar(n.zeroCell,n.oneCell,n.twoCell,Pt(e,t,n.pathMap),n.currentId)}function X1(e,t){return new ar(Sr(e,t.zeroCell),t.oneCell,t.twoCell,t.pathMap,t.currentId)}function Ms(e,t){return new ar(t.zeroCell,Sr(e,t.oneCell),t.twoCell,t.pathMap,t.currentId)}function D3(e,t){return new ar(t.zeroCell,t.oneCell,Sr(e,t.twoCell),t.pathMap,t.currentId)}function Oo(e,t){return new ar(t.zeroCell,t.oneCell,t.twoCell,Sr(e,t.pathMap),t.currentId)}function bo(e,t){return po(e,t.zeroCell)}function Xo(e,t){return po(e,t.oneCell)}function Nn(e,t){return po(e,t.twoCell)}function sw(e,t){return[Nn(e.startTwoCell,t),Nn(e.endTwoCell,t)]}function Xn(e,t){const n=Zt(e,t.pathMap);return n??Xe(L("path not found: %O"))(e)}function pt(e,t){return new nw(e,t)}function T_(e){return new nw(e.endTwoCell,e.startTwoCell)}function N3(e,t){const n=sw(t,e);return new vu(n[0].position,n[1].position)}function Ts(e){return new Dl(e)}function Ud(e,t){return new Dl(e)}function V3(e,t){let n,r,s,i,o,l,u,a,c,f;const d=t.p1,g=e.p1;f=new M(d.x-g.x,d.y-g.y);let w;const v=t.p2,_=e.p1;w=new M(v.x-_.x,v.y-_.y);let h;const p=e.p2,$=e.p1;h=new M(p.x-$.x,p.y-$.y);let C;const k=h;C=new M(k.y,-k.x);let I;const P=f,N=C;I=P.x*N.x+P.y*N.y;const U=(n=w,-(r=C,n.x*r.x+n.y*r.y)),V=I/(I+U);if(I+U!==0){if(V<0||1<V)return;{let A,j;const B=f,ie=1-V;j=new M(B.x*ie,B.y*ie);let b;const X=w,O=V;b=new M(X.x*O,X.y*O),A=new M(j.x+b.x,j.y+b.y);const T=(s=h,(i=A,s.x*i.x+s.y*i.y)/(o=h,l=o,u=o,l.x*u.x+l.y*u.y));return T<0||T>1?void 0:(a=e.p1,c=A,new M(a.x+c.x,a.y+c.y))}}}function ig(e,t){let n,r,s,i,o,l,u,a,c,f;const d=t.p1,g=e.p1;f=new M(d.x-g.x,d.y-g.y);let w;const v=t.p2,_=e.p1;w=new M(v.x-_.x,v.y-_.y);let h;const p=e.p2,$=e.p1;h=new M(p.x-$.x,p.y-$.y);let C;const k=h;C=new M(k.y,-k.x);let I;const P=f,N=C;I=P.x*N.x+P.y*N.y;const U=(n=w,-(r=C,n.x*r.x+n.y*r.y));if(I+U!==0){const V=I/(I+U);if(V<=0||1<=V)return;{let A,j;const B=f,ie=1-V;j=new M(B.x*ie,B.y*ie);let b;const X=w,O=V;b=new M(X.x*O,X.y*O),A=new M(j.x+b.x,j.y+b.y);const T=(s=h,(i=A,s.x*i.x+s.y*i.y)/(o=h,l=o,u=o,l.x*u.x+l.y*u.y));return T<=0||T>=1?void 0:(a=e.p1,c=A,new M(a.x+c.x,a.y+c.y))}}}class jc extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["HitP1","HitP2","HitLine","NoHit"]}}class O3 extends de{constructor(t,n,r,s){super(),this.hit=t,this.direction=n,this.position=r,this.distance=s}}function iw(e,t,n){let r,s,i,o,l,u,a;const c=e.p1,f=t;a=new M(c.x-f.x,c.y-f.y);const d=n;let g;const w=e.p2,v=t;g=new M(w.x-v.x,w.y-v.y);let _;const h=d;_=new M(h.y,-h.x);let p;const $=a,C=_;p=$.x*C.x+$.y*C.y;const k=p/(p+(r=g,-(s=_,r.x*s.x+r.y*s.y)));let I,P;const N=a,U=1-k;P=new M(N.x*U,N.y*U);let V;const A=g,j=k;V=new M(A.x*j,A.y*j),I=new M(P.x+V.x,P.y+V.y);const B=(i=d,(o=I,i.x*o.x+i.y*o.y)/no(d));return new O3(k<0||1<k||B<0?new jc(3,[]):k===0?new jc(0,[]):k===1?new jc(1,[]):new jc(2,[]),I,(l=t,u=I,new M(l.x+u.x,l.y+u.y)),B)}class Tf extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Right","Left","Center"]}}function p0(e,t){let n;const r=e.p2,s=e.p1;n=new M(r.x-s.x,r.y-s.y);let i;const o=t,l=e.p1;i=new M(o.x-l.x,o.y-l.y);const u=n.x*i.y-n.y*i.x;return u<0?new Tf(0,[]):u>0?new Tf(1,[]):new Tf(2,[])}function I_(e,t,n){if(te(e))return!1;{const r=[t,n],s=he(o=>[o,iw(o,r[0],r[1])],e),i=o0(s);return ox(ci(o=>{switch(o[0].tag){case 1:return 1;case 0:return-1;default:return}},Pi(o=>{const l=o[1],u=[l.hit,l.distance];return u[0].tag===3?!1:u[1]!==0},nn((o,l)=>{const u=o[2],a=l[1],c=p0(l[0],t);return[c,a.position,ee(o[1],a.position)&&ee(o[0],c)?u:xe([c,a],u)]},[p0(i[0],t),i[1].position,R()],s)[2])),{GetZero:()=>0,Add:(o,l)=>o+l})!==0}}function R3(e,t,n){const r=[t,n];return ci(s=>{const i=iw(s,r[0],r[1]),o=[i.hit,i.distance];if(o[0].tag!==3){if(o[1]===0)return;switch(p0(s,t).tag){case 1:return i.position;case 0:return i.position;default:return}}},e)}function Xs(e,t){return new Po(t,e)}function h0(e,t){return po(t,e.environment.twoCell).position}function ep(e,t){return Q(m(()=>Ut(n=>S(new vu(h0(e,n.startTwoCell),h0(e,n.endTwoCell))),t.path)))}function P_(e,t){return Q(m(()=>Ut(n=>S([n,new vu(h0(e,n.startTwoCell),h0(e,n.endTwoCell))]),t.path)))}function z3(e,t){return Xn(t,e)}class Hc extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddOneCellFailedByCross","AddOneCellSuccess","AlreadyOneCell","OverTwoZeroCell"]}}class Wc extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["KakudoFailed","PathFailed","OtherPathFailed","ZeroCellNotMatch","MoveTwoCellSuccess"]}}function Yl(e){const t=ul(e),n=t.x<0;return[n,n?-t.y:t.y]}function F3(e){return new Un(d0(M_(),M3(co({Compare:Me}),e),I3()))}function ec(e,t){const n=t.environment,r=[e,new M(0,1)],s=ci(i=>i,he(i=>{const o=Ko(Ja(l=>ci(u=>{let a,c;return oe(f=>{let d,g;return[f,Dx(ul((d=u.p2,g=u.p1,new M(d.x-g.x,d.y-g.y))))]},(a=u,c=iw(a,r[0],r[1]),c.hit.tag===3?void 0:ee(p0(a,e),new Tf(1,[]))?c.distance:void 0))},l),Ja(l=>ep(t,Xn(l,n)),i[1].paths,{Compare:Me}),{Compare:Me}));if(!P$(o))return[i[0],Px(o,{Compare:Wr})]},ti(n.zeroCell)));return P$(s)?new Gu(1,[]):Ix(i=>i[1],s,{Compare:Wr})[0]}function D_(e,t){ec(e,t);const n=E3(t.environment),r=n[1];return[new Un(P3(r,new yr(R(),e),n[0])),r]}function L3(e,t,n){let r,s,i,o,l,u,a,c;const f=n.environment,d=Nn(e,f);let g;const w=t,v=d.position;g=new M(w.x-v.x,w.y-v.y);const _=ec(t,n);let h;const p=T3(C=>{let k;const I=C[1].position,P=d.position;return k=new M(I.x-P.x,I.y-P.y),Wr(Yl(g),Yl(k))<0},Fh(C=>{let k,I;return Yl((k=C[1].position,I=d.position,new M(k.x-I.x,k.y-I.y)))},he(C=>[C,Nn(C,f)],d.adj),{Compare:Wr}));if(p!=null){const C=p[2][0],k=p[2][1],I=p[0][0],P=p[0][1],N=p[1],U=(N??[C,k])[1],V=(j,B)=>{let ie,b,X;const O=B;return X=new M(O.y,-O.x),ie=j,(b=X,ie.x*b.x+ie.y*b.y)/no(j)/no(X)};V((r=P.position,s=d.position,new M(r.x-s.x,r.y-s.y)),(i=U.position,o=d.position,new M(i.x-o.x,i.y-o.y))),V((l=P.position,u=t,new M(l.x-u.x,l.y-u.y)),(a=U.position,c=t,new M(a.x-c.x,a.y-c.y)));const A=Xn(Xo(pt(e,I),f).right,f);h=[A.zeroCell,bo(A.zeroCell,f).paths,fi(Q(m(()=>Ut(j=>E(S(pt(e,j)),m(()=>S(pt(j,e)))),d.adj))),{Compare:Me})]}else{const C=ec(d.position,n);h=[C,bo(C,f).paths,co({Compare:Me})]}const $=h[0];if(ee($,_)){const C=Q(fe(k=>k[0],fs(k=>!Kr(k[0],h[2]),fs(k=>V3(k[1],new vu(d.position,t))!=null,ps(fe(k=>P_(n,z3(f,k)),h[1]))))));if(te(C)){let k;const I=he(P=>[P,Nn(P,f)],d.adj);return k=te(I)?R():Q(ps(he(P=>{const N=P[0],U=P[1],V=A=>{let j,B,ie,b,X,O,T;const q=A[1],re=(j=(B=d.position,ie=q.position,new M(B.x-ie.x,B.y-ie.y)),(b=(X=(O=t,T=q.position,new M(O.x-T.x,O.y-T.y)),new M(X.y,-X.x)),j.x*b.x+j.y*b.y)<0?Y([q.position,t,d.position]):Y([q.position,d.position,t])),_e=Lr((ge,Ye)=>[ge,xe(new vu(Ye[0],ge),Ye[1])],re,[q.position,R()])[1];return Ja(ge=>Q(m(()=>E(ge,m(()=>fe(Ye=>Ye,re))))),Ja(ge=>R3(_e,ge[1].position,new M(0,1)),tE(ge=>{const Ye=ge[0];return!ee(Ye,e)&&!ee(Ye,A[0])?I_(_e,ge[1].position,new M(0,1)):!1},P[2]),{Compare:Me}),{Compare:Me})};return r_(V([N[0],N[1]]),V([U[0],U[1]]))},Lr((P,N)=>{const U=P[0],V=P[1],A=N[0];return[[U,V],xe([[U,V],[A[0],A[1]],Ya(ps(fe(j=>he(B=>[B.startTwoCell,Nn(B.startTwoCell,f)],Xn(j,f).path),bo(Xn(Xo(new nw(e,U),f).right,f).zeroCell,f).paths)),{Compare:Wr})],N[1])]},I,[K(I),R()])[1]))),ee(k,R())?new Wc(4,[new Un(jt(e,P=>oe(N=>new yr(N.adj,t),P),f))]):new Wc(2,[Ko(k)])}else return new Wc(1,[C])}else return new Wc(3,[[$,_]])}function G3(e,t,n){let r,s,i,o,l,u,a,c,f,d,g,w,v,_,h,p,$,C,k,I,P,N,U,V,A,j,B,ie,b,X,O,T,q,re,_e,ge,Ye,ut,xt,yt,fn,vn,fr,dn,dr,Wn,ms,Zs,Ks,Cs,qt,pr,Zn,dl,Wu,Zu,go,yo,vo,Ku,qu,Dr,Qu,pl,_o,hl,Ju,Yu,Xu,ea,wl,Si,ta;const rn=n.environment,$l=Nn(e,rn),mo=Nn(t,rn);if(Uo(pt(e,t),rn.oneCell))return new Hc(2,[]);{const na=(qs,Kn)=>{let sn,ae;const F=qs[0],Z=qs[1],le=Kn[0],we=Z.adj;if(te(we))return[[void 0,ec(Z.position,n)],D(le)];{const ke=Fh(me=>me[2],he(me=>{let ve,Ae;const vt=Nn(me,rn);return[me,vt,Yl((ve=vt.position,Ae=Z.position,new M(ve.x-Ae.x,ve.y-Ae.y)))]},we),{Compare:Wr}),ft=(me,ve)=>{const Ae=pt(me,ve),vt=Xo(Ae,rn).right,zt=Xn(vt,rn);return[[Ae,vt,zt],zt.zeroCell]},st=Yl((sn=Kn[1].position,ae=Z.position,new M(sn.x-ae.x,sn.y-ae.y)));return((me,ve,Ae)=>{e:for(;;){const vt=me,zt=ve,qn=Ae;if(te(vt))return[ft(F,zt),qn(D(le))];{const hr=z(vt),Ei=K(vt)[0];if(Wr(st,K(vt)[2])<0)return[ft(F,zt),qn(_t([le,Ei],he(Vd=>Vd[0],hr)))];me=hr,ve=Ei,Ae=Vd=>qn(xe(Ei,Vd));continue e}}})(ke,o0(ke)[0],me=>me)}},gl=na([e,$l],[t,mo]),Ss=gl[0][1],Xr=gl[0][0],ki=gl[1],yl=na([t,mo],[e,$l]),vl=yl[0][1],Nr=yl[0][0],xi=yl[1];if(ee(Ss,vl)){const qs=new vu($l.position,mo.position),Kn=Ss,sn=bo(Ss,rn);if(sx(ae=>{const F=ig(ae,qs)!=null;return F&&(Ge(L("cross! %O %O"))(ae)(qs),void 0),F},Ko(Ja(ae=>ep(n,Xn(ae,rn)),sn.paths,{Compare:Me}))))return Ge(L("one cell")),new Hc(0,[Q(Qa(ae=>{if(ig(ae[1],qs)!=null)return ae[0]},ps(fe(ae=>P_(n,Xn(ae,rn)),sn.paths))))]);{pt(e,t);const ae=(F,Z)=>((we,ke)=>{e:for(;;){const ft=we,st=ke;if(te(ft))return Xe(L(`oneCell not found: %O
%O`))(F)(Z);{const it=z(ft),me=K(ft);if(ee(me,F))return[st(R()),xe(me,it)];we=it,ke=ve=>st(xe(me,ve));continue e}}})(Z,we=>we);return new Hc(1,[Xr!=null?Nr!=null?(r=Xr[0],s=Nr[0],i=Xr[2],o=Nr[2],l=Xr[1],u=Nr[1],ee(l,u)?(v=l,_=ae(r,i.path),h=_[1],p=_[0],$=(()=>{try{const F=ae(s,h);return[F[0],wu(F[1],p)]}catch{const Z=ae(s,p);return[wu(h,Z[0]),Z[1]]}})(),C=$[1],k=$[0],I=I_,P=(N=sw(pt(e,t),rn),U=N[1],V=N[0],I(he(F=>N3(rn,F),k),(A=(j=V.position,B=U.position,new M(j.x+B.x,j.y+B.y)),new M(A.x/2,A.y/2)),(ie=(b=U.position,X=V.position,new M(b.x-X.x,b.y-X.y)),new M(ie.y,-ie.x)))),O=J1(rn),T=O[1],q=J1(O[0]),re=q[1],_e=q[0],ge=xe(pt(e,t),C),Ye=xe(pt(t,e),k),ut=Kn.tag===1?P?[re,Kn]:[Kn,T]:[re,T],xt=ut[1],yt=ut[0],fn=Xs(xt,ge),vn=Xs(yt,Ye),fr=(dn=(F,Z,le)=>{let we;e:for(;;){const ke=F,ft=Z,st=le;if(te(st))return[ke,ft];{const it=z(st),me=K(st)[0];if(we=Nn(K(K(st)[1].path).startTwoCell,_e).position,I(ep(n,vn),we,new M(0,1))){F=xe(me,ke),Z=ft,le=it;continue e}else{F=ke,Z=xe(me,ft),le=it;continue e}}}},dn(R(),R(),he(F=>[F,Xn(F,_e)],A1(Vi(v,sn.paths))))),dr=fr[1],Wn=fr[0],ms=P?[Wn,dr]:[dr,Wn],Zs=ms[1],Ks=ms[0],Cs=Do(_e),qt=Cs[1],pr=Do(Cs[0]),Zn=pr[1],dl=new ro(fi(xe(qt,Ks),{Compare:Me}),sn.t,sn.data),new Un(jt(t,F=>oe(Z=>xs(le=>xi,Z),F),jt(e,F=>oe(Z=>xs(le=>ki,Z),F),Lr((F,Z)=>No(F,le=>oe(we=>new Dl(Zn),le),Z),C,Lr((F,Z)=>No(F,le=>oe(we=>new Dl(qt),le),Z),k,Lr((F,Z)=>Fi(F,le=>oe(we=>new Po(we.path,xt),le),Z),Zs,Lr((F,Z)=>Fi(F,le=>oe(we=>new Po(we.path,yt),le),Z),Ks,d0(xt,new ro(fi(xe(Zn,Zs),{Compare:Me}),sn.t,sn.data),d0(yt,dl,X1(Kn,Vo(Zn,fn,Vo(qt,vn,Oo(v,(Wu=Es(pt(e,t),Ts(Zn),pr[0]),Es(pt(t,e),Ts(qt),Wu)))))))))))))))):(a=ae(r,i.path),c=ae(s,o.path),f=Do(rn),d=f[1],new Un(jt(t,F=>oe(Z=>xs(le=>xi,Z),F),jt(e,F=>oe(Z=>xs(le=>ki,Z),F),Xa(Kn,F=>oe(Z=>f0(d,Y1(u,Y1(l,Z))),F),Lr((F,Z)=>No(F,le=>oe(we=>new Dl(d),le),Z),o.path,Lr((F,Z)=>No(F,le=>oe(we=>new Dl(d),le),Z),i.path,Vo(d,Xs(Ss,Q(m(()=>E(a[0],m(()=>E(S(pt(e,t)),m(()=>E(c[1],m(()=>E(c[0],m(()=>E(S(pt(t,e)),m(()=>a[1]))))))))))))),(g=(w=Oo(u,Oo(l,f[0])),Es(pt(e,t),Ts(d),w)),Es(pt(t,e),Ts(d),g))))))))))):(Zu=Xr[0],go=Xr[2],yo=Xr[1],vo=ae(Zu,go.path),Ku=Xs(go.zeroCell,Q(m(()=>E(S(pt(e,t)),m(()=>E(S(pt(t,e)),m(()=>E(vo[1],m(()=>vo[0]))))))))),new Un(jt(t,F=>oe(Z=>xs(le=>xi,Z),F),jt(e,F=>oe(Z=>xs(le=>ki,Z),F),(qu=(Dr=Fi(yo,F=>oe(Z=>Ku,F),rn),Es(pt(e,t),Ts(yo),Dr)),Es(pt(t,e),Ts(yo),qu)))))):Nr!=null?(Qu=Nr[0],pl=Nr[2],_o=Nr[1],hl=ae(Qu,pl.path),Ju=Xs(pl.zeroCell,Q(m(()=>E(S(pt(e,t)),m(()=>E(hl[1],m(()=>E(hl[0],m(()=>S(pt(t,e))))))))))),new Un(jt(t,F=>oe(Z=>xs(le=>xi,Z),F),jt(e,F=>oe(Z=>xs(le=>ki,Z),F),(Yu=(Xu=Fi(_o,F=>oe(Z=>Ju,F),rn),Es(pt(e,t),Ts(_o),Xu)),Es(pt(t,e),Ts(_o),Yu)))))):(ea=Xs(Ss,Y([pt(e,t),pt(t,e)])),wl=Do(rn),Si=wl[1],new Un(jt(t,F=>oe(Z=>xs(le=>xi,Z),F),jt(e,F=>oe(Z=>xs(le=>ki,Z),F),Xa(Kn,F=>oe(Z=>f0(Si,Z),F),Vo(Si,ea,(ta=Es(pt(e,t),Ts(Si),wl[0]),Es(pt(t,e),Ts(Si),ta))))))))])}}else return Ge(L(`one cellzero cell:
%O
%O
%O
%O`))(Xr)(Nr)(Ss)(vl),new Hc(3,[[Ss,vl]])}}function N_(e,t){const n=t.environment,r=sw(e,n),s=Xo(e,n).right,i=Xn(s,n),o=T_(e),l=Xo(o,n).right,u=r[0].adj,a=r[1].adj;let c;switch(te(u)?te(a)?c=3:te(z(a))?(c=2,K(a)):c=3:te(z(u))?te(a)?(c=1,K(u)):te(z(a))?(c=0,K(u),K(a)):(c=1,K(u)):te(a)?c=3:te(z(a))?(c=2,K(a)):c=3,c){case 0:return new Un(Oo(s,Xa(i.zeroCell,f=>oe(d=>new ro(Vi(s,d.paths),d.t,d.data),f),jt(e.endTwoCell,f=>oe(d=>new yr(R(),d.position),f),jt(e.startTwoCell,f=>oe(d=>new yr(R(),d.position),f),Ms(o,Ms(e,n)))))));case 1:return new Un(Fi(s,f=>oe(d=>new Po(Pi(g=>ee(g,e)?!1:!ee(g,o),d.path),d.zeroCell),f),jt(e.endTwoCell,f=>oe(d=>new yr(A1(Vi(e.startTwoCell,fi(d.adj,{Compare:Me}))),d.position),f),jt(e.startTwoCell,f=>oe(d=>new yr(R(),d.position),f),Ms(o,Ms(e,n))))));case 2:return new Un(Fi(l,f=>oe(d=>new Po(Pi(g=>ee(g,e)?!1:!ee(g,o),d.path),d.zeroCell),f),jt(e.startTwoCell,f=>oe(d=>new yr(A1(Vi(e.endTwoCell,fi(d.adj,{Compare:Me}))),d.position),f),jt(e.endTwoCell,f=>oe(d=>new yr(R(),d.position),f),Ms(o,Ms(e,n))))));default:{const f=(d,g)=>((v,_)=>{e:for(;;){const h=v,p=_;if(te(h))return Xe(L(`oneCell not found: %O
%O`))(d)(g);{const $=z(h),C=K(h);if(ee(C,d))return[p(R()),xe(C,$)];v=$,_=k=>p(xe(C,k));continue e}}})(g,v=>v);if(ee(s,l)){let d,g;const w=o,v=f(e,i.path),_=v[1],h=v[0];let p;try{const j=f(w,_);p=[j[0],wu(j[1],h)]}catch{const B=f(w,h);p=[wu(_,B[0]),B[1]]}g=[p[0],p[1]];let $,C,k;switch(te(g[0])||te(g[1])?$=1:($=0,K(g[0]),C=z(g[0]),K(g[1]),k=z(g[1])),$){case 0:{d=[Xs(i.zeroCell,C),Xs(i.zeroCell,k)];break}default:d=Xe(L("one cell not found in %O"))(i.path)}const I=d[1],P=d[0],N=Do(n),U=N[1],V=Do(N[0]),A=V[1];return new Un(Lr((j,B)=>No(j,ie=>oe(b=>Ud(A),ie),B),I.path,Lr((j,B)=>No(j,ie=>oe(b=>Ud(U),ie),B),P.path,jt(e.endTwoCell,j=>oe(B=>new yr(Pi(ie=>!ee(e.startTwoCell,ie),B.adj),B.position),j),jt(e.startTwoCell,j=>oe(B=>new yr(Pi(ie=>!ee(e.endTwoCell,ie),B.adj),B.position),j),Xa(i.zeroCell,j=>oe(B=>f0(A,f0(U,Y1(s,B))),j),Vo(A,I,Vo(U,P,Oo(s,Ms(o,Ms(e,V[0])))))))))))}else{const d=Xn(l,n),g=sg(d.zeroCell)||sg(i.zeroCell)?[n,M_()]:J1(n),w=g[1];let v;const _=[f(e,i.path),f(o,d.path)];let h,p,$,C,k;switch(te(_[0][1])||te(_[1][1])?h=1:(h=0,K(_[1][1]),p=_[1][0],$=z(_[1][1]),K(_[0][1]),C=_[0][0],k=z(_[0][1])),h){case 0:{v=Xs(w,Q(m(()=>E(p,m(()=>E(k,m(()=>E(C,m(()=>$)))))))));break}default:v=Xe(L("one cell not found! in %O"))(i.path)}const I=Do(g[0]),P=I[1],N=I[0],U=bo(i.zeroCell,N),V=bo(d.zeroCell,N);return new Un(Ls((A,j)=>No(A,B=>oe(ie=>Ud(P),B),j),v.path,U$((A,j)=>Fi(A,B=>oe(ie=>new Po(ie.path,w),B),j),V.paths,U$((A,j)=>Fi(A,B=>oe(ie=>new Po(ie.path,w),B),j),U.paths,d0(w,new ro(Fu(P,Vi(s,Vi(l,r_(U.paths,V.paths)))),U.t,U.data),X1(d.zeroCell,X1(i.zeroCell,Vo(P,v,Oo(l,Oo(s,jt(e.endTwoCell,A=>oe(j=>new yr(Pi(B=>!ee(e.startTwoCell,B),j.adj),j.position),A),jt(e.startTwoCell,A=>oe(j=>new yr(Pi(B=>!ee(e.endTwoCell,B),j.adj),j.position),A),Ms(o,Ms(e,N))))))))))))))}}}}function A3(e,t){const n=D3(e,Ls(cu(r=>{const s=pt(e,r);return i=>N_(s,i)}),Nn(e,t.environment).adj,t).environment);return Te(L("%O"))(n),new Un(n)}function B3(e,t,n){return new Un(Xa(e,r=>oe(s=>new ro(s.paths,s.t,t(s.data)),r),n.environment))}let Zc=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroCell","OneCell","TwoCell"]}},va=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["EditZeroCellDataMode","DefaultMode"]}},zr=class extends de{constructor(t,n,r,s,i,o,l,u){super(),this.stringDiagram=t,this.previewStringDiagram=n,this.previewViewStringDiagram=r,this.viewSize=s,this.dragState=i,this.oneCell=o,this.points=l,this.mode=u}};class ml extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["TwoCellId","NewTwoCell"]}}function og(e,t){return e.tag===1?D_(e.fields[0],t):[t,e.fields[0]]}class Js extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddOneCell","RemoveOneCell","AddTwoCell","MoveTwoCell","RemoveTwoCell","ChangeZeroCellData"]}}class xl extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["StartEditZeroCellData","EditZeroCellData","ApplyEditZeroCellData","ExitEdtZeroCellData"]}}let Vt=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["StringDiagramMsg","StringDiagramErrorMsg","PreviewMsg","PreviewViewMsg","ExitPreview","ApplyPreview","DragMsg","DragOutMsg","ModeMsg","Error"]}};function V_(){const e=F3("backGround");return[new zr(e,e,e,new M(500,500),void 0,co({Compare:Me}),R(),new va(1,[])),ne()]}function U3(e,t){switch(e.tag){case 3:return[new zr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new va(1,[])),ne()];case 2:return t.mode.tag===0?[new zr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new va(1,[])),D(n=>{n(new Vt(5,[]))})]:[t,ne()];case 1:{const n=e.fields[0],r=t.mode;if(r.tag===0){const s=r.fields[0][0];return[new zr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new va(0,[[s,n]])),D(i=>{i(new Vt(2,[new Js(5,[[s,n]])]))})]}else return[t,ne()]}default:{const n=e.fields[0];return[new zr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,new va(0,[[n,bo(n,t.stringDiagram.environment).data]])),ne()]}}}function bd(e,t){switch(e.tag){case 3:{const n=L3(e.fields[0][0],e.fields[0][1],t);return n.tag===4?[n.fields[0],ne()]:(Te(L("move TwoCell failed:  %O"))(n),[t,ne()])}case 4:return[A3(e.fields[0],t),ne()];case 0:{const n=t,r=G(og(e.fields[0][0],t)),s=r[1],i=G(og(e.fields[0][1],r[0])),o=i[0],l=i[1],u=G3(s,l,o);switch(u.tag){case 1:return[u.fields[0],ne()];case 0:return Te(L("%O"))(o),Te(L("add OneCell failed: %O %O"))(s)(l),[n,ne()];case 3:return Te(L("one cell")),[n,ne()];default:return Te(L("add one cell failed: %O"))(u),[n,ne()]}}case 1:return[N_(e.fields[0],t),ne()];case 5:return[B3(e.fields[0][0],n=>e.fields[0][1],t),ne()];default:{const n=e.fields[0],r=D_(n,t);return r!=null?[r[0],ne()]:(Te(L("add TwoCell failed at: %O"))(n),[t,ne()])}}}function b3(e,t){if(t.mode.tag===1)switch(e.tag){case 1:{const n=e.fields[0],r=n.source.event.button;if(Te(L("%O"))(r),n.source.event.button!==0)return R();{const s=n.source.targetType,i=n.target.targetType;let o,l,u,a;switch(s.tag){case 2:{i.tag===2?ee(s.fields[0],i.fields[0])?(o=1,a=s.fields[0]):(o=0,l=s.fields[0],u=i.fields[0]):(o=1,a=s.fields[0]);break}case 0:{o=2,s.fields[0];break}default:o=3}switch(o){case 0:return D(new Vt(3,[new Js(0,[[new ml(0,[l]),new ml(0,[u])]])]));case 1:return D(new Vt(2,[new Js(3,[[a,n.target.position]])]));case 2:return Q(m(()=>{const c=n.target.targetType;switch(c.tag){case 2:return S(new Vt(3,[new Js(0,[[new ml(1,[n.source.position]),new ml(0,[c.fields[0]])]])]));case 0:return S(new Vt(3,[new Js(0,[[new ml(1,[n.source.position]),new ml(1,[n.target.position])]])]));default:return Fe()}}));default:return R()}}}case 2:return D(new Vt(5,[]));case 3:{const n=e.fields[0];if(n.event.button===2){const r=n.targetType;switch(r.tag){case 1:return D(new Vt(0,[new Js(1,[r.fields[0]])]));case 2:return D(new Vt(0,[new Js(4,[r.fields[0]])]));default:return D(new Vt(8,[new xl(0,[r.fields[0]])]))}}else{if(n.event.button!==0)return R();{ec(n.position,t.stringDiagram);const r=n.targetType;switch(r.tag){case 0:return n.event.ctrlKey?D(new Vt(0,[new Js(2,[n.position])])):R();case 2:{const s=t.stringDiagram.environment;return Fh(i=>Yl(i[1].position),he(i=>[i,Nn(i,s)],Nn(r.fields[0],s).adj),{Compare:Wr}),R()}default:{const s=r.fields[0],i=t.stringDiagram.environment,o=Xo(s,i),l=Xo(T_(s),i);return Xn(o.right,i),Xn(l.right,i),R()}}}}}default:return R()}else return R()}function j3(e,t){switch(e.tag){case 2:{const n=bd(e.fields[0],t.previewStringDiagram),r=n[0];return[new zr(t.stringDiagram,r,r,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),n[1]]}case 3:{const n=bd(e.fields[0],t.stringDiagram);return[new zr(t.stringDiagram,t.previewStringDiagram,n[0],t.viewSize,t.dragState,t.oneCell,t.points,t.mode),n[1]]}case 4:return[new zr(t.stringDiagram,t.stringDiagram,t.stringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),ne()];case 5:return[new zr(t.previewViewStringDiagram,t.previewViewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),ne()];case 6:{const n=rd(e.fields[0],t.dragState);return[new zr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,n[0],t.oneCell,t.points,t.mode),en(he(r=>D(s=>{s(new Vt(7,[r]))}),n[1]))]}case 7:return[t,en(he(n=>D(r=>{r(n)}),b3(e.fields[0],t)))];case 1:return[new zr(t.stringDiagram,t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,e.fields[0].fields[0],t.mode),ne()];case 9:return qE(Ge(L("error: %O"))(e.fields[0])),[t,ne()];case 8:{const n=e.fields[0];Te(L("%O"))(n);const r=U3(n,t);return[r[0],r[1]]}default:{const n=e.fields[0];Te(L("msg: %O"))(n);const r=bd(n,t.stringDiagram);return[new zr(r[0],t.previewStringDiagram,t.previewViewStringDiagram,t.viewSize,t.dragState,t.oneCell,t.points,t.mode),en(Y([r[1],D(s=>{s(new Vt(4,[]))})]))]}}}function O_(e,t){try{return j3(e,t)}catch(n){return[t,D(r=>{r(new Vt(9,[n]))})]}}function H3(e,t,n){return Q(m(()=>ee(t[0],new Gu(1,[]))?Fe():S(H.createElement("path",tt(Q(m(()=>E(S(["strokeLinecap","round"]),m(()=>E(S(["strokeLinejoin","round"]),m(()=>E(S(["id",je(t[0])]),m(()=>E(S(["d",Yo(he(r=>[r[0],he(s=>Y([s.x,s.y]),r[1])],Q(m(()=>Ut(r=>{const s=Xn(r,e).path;if(te(s))return Fe();{const i=o=>Nn(o.startTwoCell,e);return E(S(["M",D(i(K(s)).position)]),m(()=>E(Ut(o=>S(["L",D(i(o).position)]),z(s)),m(()=>S(["Z",R()])))))}},t[1].paths)))))]),m(()=>n)))))))))))))))}function W3(e,t,n){const r=Nn(t[0].startTwoCell,e).position,s=Nn(t[0].endTwoCell,e).position;return H.createElement("line",tt(Q(m(()=>E(S(["x1",r.x]),m(()=>E(S(["y1",r.y]),m(()=>E(S(["x2",s.x]),m(()=>E(S(["y2",s.y]),m(()=>E(S(["strokeWidth",8]),m(()=>n))))))))))))))}function Z3(e,t,n){const r=t[1].position;return H.createElement("circle",tt(Q(m(()=>E(S(["cx",r.x]),m(()=>E(S(["cy",r.y]),m(()=>n))))))))}class lg extends de{constructor(t,n,r,s){super(),this.stringDiagram=t,this.zeroCellAttrs=n,this.oneCellAttrs=r,this.twoCellAttrs=s}}function ug(e){const t=e.stringDiagram.environment,n=Q(m(()=>E(Ut(r=>H3(t,r,e.zeroCellAttrs(r)),t.zeroCell),m(()=>E(fe(r=>W3(t,r,e.oneCellAttrs(r)),t.oneCell),m(()=>fe(r=>Z3(t,r,e.twoCellAttrs(r)),t.twoCell)))))));return H.createElement("g",{children:Re.Children.toArray(Array.from(n))})}function R_(e,t){const n=new lg(e.previewViewStringDiagram,i=>[["fill",i[1].data.color]],i=>[["stroke","pink"]],i=>[["r",10],["fill","yellow"]]),r=new lg(e.stringDiagram,i=>Q(m(()=>E(S(["onClick",o=>{o.ctrlKey&&t(new Vt(0,[new Js(2,[hs(Gs(o.target),new M(o.clientX,o.clientY))])]))}]),m(()=>E(S(["fill","none"]),m(()=>Pl(e.dragState,new Zc(0,[i[0]]),o=>{t(new Vt(6,[o]))}))))))),i=>Q(m(()=>E(S(["fill","none"]),m(()=>Pl(e.dragState,new Zc(1,[i[0]]),o=>{t(new Vt(6,[o]))}))))),i=>Q(m(()=>E(S(["r",10]),m(()=>E(S(["fill","none"]),m(()=>Pl(e.dragState,new Zc(2,[i[0]]),o=>{t(new Vt(6,[o]))})))))))),s=Q(m(()=>{let i;return E(S(H.createElement("svg",tt(Y([["width",e.viewSize.x],["height",e.viewSize.y],["className",Se(" ",["pointer-events-none"])],(i=Q(m(()=>E(S(H.createElement("rect",tt(Q(m(()=>E(S(["x",0]),m(()=>E(S(["y",0]),m(()=>E(S(["width",e.viewSize.x]),m(()=>E(S(["height",e.viewSize.y]),m(()=>E(S(["fill","blue"]),m(()=>Pl(e.dragState,new Zc(0,[new Gu(1,[])]),o=>{t(new Vt(6,[o]))})))))))))))))))),m(()=>E(S(ug(n)),m(()=>E(S(ug(r)),m(()=>E(Ut(o=>{const l=o[1].position;return S(H.createElement("text",{x:l.x,y:l.y,children:Ge(L("%O"))(o[0]),strokeWidth:2,stroke:"black"}))},e.previewViewStringDiagram.environment.twoCell),m(()=>fe(o=>H.createElement("circle",{cx:o.x,cy:o.y,r:2,fill:"red"}),e.points))))))))))),["children",Re.Children.toArray(Array.from(i))])])))),m(()=>{const o=e.mode;return o.tag===0?E(S(H.createElement("input",{defaultValue:o.fields[0][1].color,width:100,height:100,style:{userSelect:"text"},onInput:l=>{Te(L("input")),t(new Vt(8,[new xl(1,[new Mf(l.target.value)])]))},onChange:l=>{const u=l.target.value;Te(L("%O"))(u),t(new Vt(8,[new xl(1,[new Mf(u)])]))}})),m(()=>E(fe(l=>H.createElement("button",{children:l,onClick:u=>{t(new Vt(8,[new xl(1,[new Mf(l)])])),t(new Vt(8,[new xl(2,[])]))}}),["red","green","purple","white"]),m(()=>S(H.createElement("button",{children:"ok",onClick:l=>{t(new Vt(8,[new xl(2,[])]))}})))))):Fe()}))}));return H.createElement("div",{children:Re.Children.toArray(Array.from(s))})}tw(V_,O_,R_);const K3=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,ag=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,q3=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Q3(e){function t(r){return r.replace(ag,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(K3.test(n))return zk(n,"{","}","(",")");if(ag.test(n))return t(n);if(q3.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function J3(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}class ts extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["Branch"]}}function z_(e,t){return new ts([e(t.fields[0][0]),he(n=>z_(e,n),t.fields[0][1])])}class pi extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["RedoData"]}}function F_(e){return e.fields[0]}class Sc extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["NilUndoData","UndoData"]}}class al extends de{constructor(t,n,r){super(),this.current=t,this.redoData=n,this.undoData=r}}function tp(e,t){return new al(e,new pi(R()),new Sc(1,[[t.current,t.undoData,new pi(R()),t.redoData]]))}function L_(e){return new al(e,new pi(R()),new Sc(0,[]))}function ow(e,t){const n=(r,s,i)=>{e:for(;;){const o=r,l=s,u=i;if(te(l))return;{const a=z(l),c=K(l);if(o===0)return[Hs(u),c,a];r=o-1,s=a,i=xe(c,u);continue e}}};if(!(e<0))return oe(r=>{const s=r[1];return new al(s[0],s[1],new Sc(1,[[t.current,t.undoData,new pi(r[0]),new pi(r[2])]]))},n(e,t.redoData.fields[0],R()))}function od(e){const t=e.undoData;if(t.tag===1)return new al(t.fields[0][0],new pi(Q(m(()=>E(t.fields[0][2].fields[0],m(()=>E(S([e.current,e.redoData]),m(()=>t.fields[0][3].fields[0]))))))),t.fields[0][1])}function Y3(e){return(n=>{e:for(;;){const r=n,s=od(r);if(s!=null){n=s;continue e}else return r}})(e)}function cg(e){const t=n=>new al(n.fields[0][0],new pi(he(r=>{const s=t(r);return[s.current,s.redoData]},n.fields[0][1])),new Sc(0,[]));return t(e)}function jd(e){return((n,r,s)=>{e:for(;;){const i=n,o=r,l=s;if(te(i))return l(R());{const u=z(i),a=K(i),c=new al(a[0],a[1],new Sc(1,[[e.current,e.undoData,new pi(Hs(o)),new pi(u)]]));n=u,r=xe(a,o),s=f=>l(xe(c,f));continue e}}})(e.redoData.fields[0],R(),n=>n)}function fg(e,t){let n,r;return ul((n=t,r=e,new M(n.x-r.x,n.y-r.y)))}function X3(e,t,n){let r,s,i,o,l,u;return ul((r=(s=e,i=t,new M(s.x-i.x,s.y-i.y)),o=(l=t,u=n,new M(l.x-u.x,l.y-u.y)),new M(r.x+o.x,r.y+o.y)))}function eM(e){const t=new Float64Array(e.length);lt(t,0,0);for(let n=1;n<=e.length-1;n++)lt(t,n,J(n-1,t)+Uh(J(n,e),J(n-1,e)));for(let n=1;n<=e.length-1;n++)lt(t,n,J(n,t)/J(e.length-1,t));return t}function tM(e){const t=1-e;return 3*e*t*t}function dg(e){return 3*e*e*(1-e)}function nM(e){return e*e*e}function G_(e,t,n,r){let s,i,o,l,u,a,c,f;const d=Uh(e,t)/3,g=Fs(new Array(4),0,4,new M(null,null));return lt(g,0,e),lt(g,3,t),lt(g,1,(s=e,i=(o=n,l=d,new M(o.x*l,o.y*l)),new M(s.x+i.x,s.y+i.y))),lt(g,2,(u=t,a=(c=r,f=d,new M(c.x*f,c.y*f)),new M(u.x+a.x,u.y+a.y))),g}function Hd(e,t,n,r){let s,i,o,l,u,a,c,f,d,g,w,v,_,h,p,$,C,k;Fs(new Array(4),0,4,null);const I=e.length|0,P=Fs(new Array(I),0,I,null);for(let T=0;T<=I-1;T++){let q;const re=n,_e=tM(J(T,t));q=new M(re.x*_e,re.y*_e);let ge;const Ye=r,ut=dg(J(T,t));ge=new M(Ye.x*ut,Ye.y*ut),lt(P,T,[q,ge])}let N=[[0,0],[0,0]],U=[0,0];for(let T=0;T<=I-1;T++){const q=N[1][1];N[1][0];const re=N[0][1],_e=N[0][0],ge=J(T,P),Ye=_e+(s=J(0,ge),i=J(0,ge),s.x*i.x+s.y*i.y),ut=re+(o=J(0,ge),l=J(1,ge),o.x*l.x+o.y*l.y),xt=q+(u=J(1,ge),a=J(1,ge),u.x*a.x+u.y*a.y);N=[[Ye,ut],[ut,xt]];let yt;const fn=J(T,e);let vn,fr,dn;const dr=J(0,e),Wn=J(T,t);dn=new M(dr.x*Wn,dr.y*Wn);let ms;const Zs=J(I-1,e),Ks=dg(J(T,t));ms=new M(Zs.x*Ks,Zs.y*Ks),fr=new M(dn.x+ms.x,dn.y+ms.y);let Cs;const qt=J(I-1,e),pr=nM(J(T,t));Cs=new M(qt.x*pr,qt.y*pr),vn=new M(fr.x+Cs.x,fr.y+Cs.y),yt=new M(fn.x-vn.x,fn.y-vn.y);const Zn=U[1];U=[U[0]+(c=J(0,ge),f=yt,c.x*f.x+c.y*f.y),Zn+(d=J(1,ge),g=yt,d.x*g.x+d.y*g.y)]}const V=N[1],A=N[0],j=(T,q)=>T[0]*q[1]-T[1]*q[0],B=j(A,V),ie=j(A,U),b=B===0?0:j(U,V)/B,X=B===0?0:ie/B,O=1e-6*Uh(J(0,e),J(I-1,e));if(b<O||X<O)return G_(J(0,e),J(I-1,e),n,r);{const T=Fs(new Array(4),0,4,new M(null,null));return lt(T,0,J(0,e)),lt(T,3,J(I-1,e)),lt(T,1,(w=J(0,e),v=(_=n,h=b,new M(_.x*h,_.y*h)),new M(w.x+v.x,w.y+v.y))),lt(T,2,(p=J(I-1,e),$=(C=r,k=X,new M(C.x*k,C.y*k)),new M(p.x+$.x,p.y+$.y))),T}}function If(e,t,n){let r,s,i,o,l,u,a;const c=e+1|0;a=Fs(new Array(c),0,c,new M(null,null));for(let f=0;f<=e;f++)lt(a,f,J(f,t));for(let f=1;f<=e;f++)for(let d=0;d<=e-f;d++)lt(a,d,(r=(s=J(d,a),i=1-n,new M(s.x*i,s.y*i)),o=(l=J(d+1,a),u=n,new M(l.x*u,l.y*u)),new M(r.x+o.x,r.y+o.y)));return J(0,a)}function Wd(e,t,n){let r=~~(e.length/2),s=0;for(let i=1;i<=e.length-2;i++){let o,l;const u=If(3,t,J(i,n)),a=J(i,e);l=new M(u.x-a.x,u.y-a.y);const c=l,f=l;o=c.x*f.x+c.y*f.y,o>=s&&(s=o,r=i|0)}return[s,r]}function rM(e,t,n){let r,s,i,o,l,u;const a=e,c=t,f=If(3,a,n),d=Fs(new Array(3),0,3,new M(null,null));for(let h=0;h<=2;h++)lt(d,h,(r=J(h+1,a),s=(i=J(h,a),new M(i.x*3,i.y*3)),new M(r.x-s.x,r.y-s.y)));const g=Fs(new Array(2),0,2,new M(null,null));for(let h=0;h<=1;h++)lt(g,h,(o=J(h+1,a),l=(u=J(h,a),new M(u.x*2,u.y*2)),new M(o.x-l.x,o.y-l.y)));const w=If(2,d,n),v=If(1,g,n),_=w.x*w.x+w.y*w.y+(f.x-c.x)*v.x+(f.y-c.y)*v.y;return _===0?n:n-((f.x-c.x)*w.x+(f.y-c.y)*w.y)/_}function pg(e,t,n){return bk((r,s)=>rM(n,r,s),e,t,Float64Array)}function sM(e,t,n,r,s){const i=(o,l,u)=>{const a=t*4,c=o.length|0;if(c===2)return D(G_(J(0,o),J(1,o),l,u));{let f=eM(o);const d=Hd(o,f,l,u),g=Wd(o,d,f),w=g[0];if(w<t)return D(d);{let v=g[1],_;if(w<a?_=(p=>{e:for(;;){const $=p;if($===0){const C=pg(o,f,d);return v=Wd(o,Hd(o,C,l,u),C)[1]|0,d}else{const C=pg(o,f,d),k=Wd(o,Hd(o,C,l,u),C);if(v=k[1]|0,k[0]<t)return d;f=C,p=$-1;continue e}}})(e):_=void 0,_==null){const h=X3(J(v-1,o),J(v,o),J(v+1,o));return Q(m(()=>E(i(o.slice(0,v+1),l,h),m(()=>{let p;const $=h;return p=new M($.x*-1,$.y*-1),i(o.slice(v,c-1+1),p,u)}))))}else return D(_)}}};return i(n,r,s)}function iM(e,t,n){let r;const s=t.length|0;return sM(e,n,t,fg(J(0,t),J(1,t)),(r=fg(J(s-2,t),J(s-1,t)),new M(-r.x,-r.y)))}function oM(){return typeof window<"u"&&typeof window.document<"u"}class at extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["JNumber","JString","JBool","JNull","JArray","JObject"]}}const Co=e=>({tag:"ok",value:e}),oa=e=>({tag:"error",error:e});class Fn{constructor(t){this.uri=t}static isAbsoluteUri(t){try{return new URL(t),!0}catch{return!1}}static tryCreateWithKind(t,n){switch(n){case 1:return Fn.isAbsoluteUri(t)?Co(new Fn({original:t,value:new URL(t),kind:n})):oa("Invalid URI: The format of the URI could not be determined.");case 2:return Fn.isAbsoluteUri(t)?oa("URI is not a relative path."):Co(new Fn({original:t,value:t,kind:n}));case 0:return Fn.isAbsoluteUri(t)?Co(new Fn({original:t,value:new URL(t),kind:1})):Co(new Fn({original:t,value:t,kind:2}));default:return n}}static tryCreateWithBase(t,n){return t.uri.kind!==1?oa("Base URI should have Absolute kind"):typeof n=="string"?Co(new Fn({original:new URL(n,t.uri.value).toString(),value:new URL(n,t.uri.value),kind:1})):n.uri.kind===2?Co(new Fn({original:new URL(n.uri.value,t.uri.value).toString(),value:new URL(n.uri.value,t.uri.value),kind:1})):Co(t)}static tryCreateImpl(t,n=1){return typeof t=="string"?typeof n!="number"?oa("Kind must be specified when the baseUri is a string."):Fn.tryCreateWithKind(t,n):typeof n=="number"?oa("Kind should not be specified when the baseUri is an absolute Uri."):Fn.tryCreateWithBase(t,n)}static create(t,n=1){const r=Fn.tryCreateImpl(t,n);switch(r.tag){case"ok":return r.value;case"error":throw new Error(r.error);default:return r}}static tryCreate(t,n=1,r){const s=Fn.tryCreateImpl(t,n);switch(s.tag){case"ok":return r.contents=s.value,!0;case"error":return!1;default:return s}}toString(){switch(this.uri.kind){case 1:return decodeURIComponent(this.asUrl().toString());case 2:return this.uri.value;default:return this.uri}}asUrl(){switch(this.uri.kind){case 1:return this.uri.value;case 2:throw new Error("This operation is not supported for a relative URI.");default:return this.uri}}get isAbsoluteUri(){return this.uri.kind===1}get absoluteUri(){return this.asUrl().href}get scheme(){const t=this.asUrl().protocol;return t.slice(0,t.length-1)}get host(){return this.asUrl().host}get absolutePath(){return this.asUrl().pathname}get query(){return this.asUrl().search}get pathAndQuery(){const t=this.asUrl();return t.pathname+t.search}get fragment(){return this.asUrl().hash}get originalString(){return this.uri.original}}function lM(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function Pf(e,t,n,r,s){const i=k_(e,t,s);if(i!=null){const o=(a,c)=>{const f=Math.max(a.length,c.length);return a.padStart(f,"0")<=c.padStart(f,"0")},l=i.sign==="-",u=lM(n||i.radix!==10,i.radix,l);if(o(i.digits.toUpperCase(),u))return e=n3(i.radix)+i.digits,e=l?i.sign+e:e,ck(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function uM(e,t,n,r,s){try{return s.contents=Pf(e,t,n,r),!0}catch{return!1}}function Rt(e){if(!(this instanceof Rt))return new Rt(e);this._=e}var Oe=Rt.prototype;function aM(e,t){var n=0;for(n;n<e;n++)t(n)}function cM(e,t){aM(t.length,function(n){e(t[n],n,t)})}function A_(e,t,n){return cM(function(r,s,i){t=e(t,r,s,i)},n),t}function Zd(e,t){return A_(function(n,r,s,i){return n.concat([e(r,s,i)])},[],t)}function fM(){return typeof Buffer<"u"}function B_(e){return e instanceof Rt}function lw(e){return{}.toString.call(e)==="[object Array]"}function Pa(e){return fM()&&Buffer.isBuffer(e)}function cr(e,t){return{status:!0,index:e,value:t,furthest:-1,expected:[]}}function so(e,t){return lw(t)||(t=[t]),{status:!1,index:-1,value:null,furthest:e,expected:t}}function As(e,t){if(!t||e.furthest>t.furthest)return e;var n=e.furthest===t.furthest?dM(e.expected,t.expected):t.expected;return{status:e.status,index:e.index,value:e.value,furthest:t.furthest,expected:n}}function U_(e,t){if(Pa(e))return{offset:t,line:-1,column:-1};var n=e.slice(0,t).split(`
`),r=n.length,s=n[n.length-1].length+1;return{offset:t,line:r,column:s}}function dM(e,t){for(var n={},r=0;r<e.length;r++)n[e[r]]=!0;for(var s=0;s<t.length;s++)n[t[s]]=!0;var i=[];for(var o in n)({}).hasOwnProperty.call(n,o)&&i.push(o);return i.sort(),i}function _u(e){if(!B_(e))throw new Error("not a parser: "+e)}function b_(e,t){return typeof e=="string"?e.charAt(t):e[t]}function pM(e){if(!lw(e))throw new Error("not an array: "+e)}function np(e){if(typeof e!="number")throw new Error("not a number: "+e)}function hM(e){if(!(e instanceof RegExp))throw new Error("not a regexp: "+e);for(var t=j_(e),n=0;n<t.length;n++){var r=t.charAt(n);if(r!=="i"&&r!=="m"&&r!=="u")throw new Error('unsupported regexp flag "'+r+'": '+e)}}function mu(e){if(typeof e!="function")throw new Error("not a function: "+e)}function Df(e){if(typeof e!="string")throw new Error("not a string: "+e)}var wM=2,$M=3,Li=8,gM=Li*5,yM=Li*4,hg="  ";function w0(e,t){return new Array(t+1).join(e)}function vM(e){return e.length===1?`Expected:

`+e[0]:`Expected one of the following: 

`+e.join(", ")}function Kc(e,t,n){var r=t-e.length;return r<=0?e:w0(n,r)+e}function _M(e,t){var n=e.length,r=[],s=0;if(n<=t)return[e.slice()];for(var i=0;i<n;i++)r[s]||r.push([]),r[s].push(e[i]),(i+1)%t===0&&s++;return r}function wg(e,t,n,r){return{from:e-t>0?e-t:0,to:e+n>r?r:e+n}}function mM(e){return e.from===0&&e.to===1?{from:e.from,to:e.to}:{from:e.from/Li,to:Math.floor(e.to/Li)}}function CM(e,t){var n=t.index,r=n.offset,s=1,i,o,l,u,a;if(r===e.length)return"Got the end of the input";if(Pa(e)){var c=r-r%Li,f=r-c,d=wg(c,gM,yM+Li,e.length),g=e.slice(d.from,d.to),w=_M(g.toJSON().data,Li),v=Zd(function($){return Zd(function(C){return Kc(C.toString(16),2,"0")},$)},w);u=mM(d),o=c/Li,i=f*3,f>=4&&(i+=1),s=2,l=Zd(function($){return $.length<=4?$.join(" "):$.slice(0,4).join(" ")+"  "+$.slice(4).join(" ")},v),a=((u.to>0?u.to-1:u.to)*8).toString(16).length,a<2&&(a=2)}else{var _=e.split(/\r\n|[\n\r\u2028\u2029]/);i=n.column-1,o=n.line-1,u=wg(o,wM,$M,_.length),l=_.slice(u.from,u.to),a=u.to.toString().length}var h=o-u.from;Pa(e)&&(a=((u.to>0?u.to-1:u.to)*8).toString(16).length,a<2&&(a=2));var p=A_(function($,C,k){var I=k===h,P=I?"> ":hg,N;return Pa(e)?N=Kc(((u.from+k)*8).toString(16),a,"0"):N=Kc((u.from+k+1).toString(),a," "),[].concat($,[P+N+" | "+C],I?[hg+w0(" ",a)+" | "+Kc("",i," ")+w0("^",s)]:[])},[],l);return p.join(`
`)}function SM(e,t){return[`
`,"-- PARSING FAILED "+w0("-",50),`

`,CM(e,t),`

`,vM(t.expected),`
`].join("")}function j_(e){var t=""+e;return t.slice(t.lastIndexOf("/")+1)}function kM(e){return RegExp("^(?:"+e.source+")",j_(e))}function kc(){for(var e=[].slice.call(arguments),t=e.length,n=0;n<t;n+=1)_u(e[n]);return Rt(function(r,s){for(var i,o=new Array(t),l=0;l<t;l+=1){if(i=As(e[l]._(r,s),i),!i.status)return i;o[l]=i.value,s=i.index}return As(cr(s,o),i)})}function Au(){var e=[].slice.call(arguments);if(e.length===0)throw new Error("seqMap needs at least one argument");var t=e.pop();return mu(t),kc.apply(null,e).map(function(n){return t.apply(null,n)})}function uw(){var e=[].slice.call(arguments),t=e.length;if(t===0)return W_("zero alternates");for(var n=0;n<t;n+=1)_u(e[n]);return Rt(function(r,s){for(var i,o=0;o<e.length;o+=1)if(i=As(e[o]._(r,s),i),i.status)return i;return i})}function xM(e,t){return H_(e,t).or(aw([]))}function H_(e,t){_u(e),_u(t);var n=t.then(e).many();return Au(e,n,function(r,s){return[r].concat(s)})}Oe.parse=function(e){if(typeof e!="string"&&!Pa(e))throw new Error(".parse must be called with a string or Buffer as its argument");var t=this.skip(K_)._(e,0);return t.status?{status:!0,value:t.value}:{status:!1,index:U_(e,t.furthest),expected:t.expected}};Oe.tryParse=function(e){var t=this.parse(e);if(t.status)return t.value;var n=SM(e,t),r=new Error(n);throw r.type="ParsimmonError",r.result=t,r};Oe.or=function(e){return uw(this,e)};Oe.trim=function(e){return this.wrap(e,e)};Oe.wrap=function(e,t){return Au(e,this,t,function(n,r){return r})};Oe.thru=function(e){return e(this)};Oe.then=function(e){return _u(e),kc(this,e).map(function(t){return t[1]})};Oe.many=function(){var e=this;return Rt(function(t,n){for(var r=[],s=void 0;;)if(s=As(e._(t,n),s),s.status){if(n===s.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");n=s.index,r.push(s.value)}else return As(cr(n,r),s)})};Oe.tieWith=function(e){return Df(e),this.map(function(t){if(pM(t),t.length){Df(t[0]);for(var n=t[0],r=1;r<t.length;r++)Df(t[r]),n+=e+t[r];return n}else return""})};Oe.tie=function(){return this.tieWith("")};Oe.times=function(e,t){var n=this;return arguments.length<2&&(t=e),np(e),np(t),Rt(function(r,s){for(var i=[],o=void 0,l=void 0,u=0;u<e;u+=1)if(o=n._(r,s),l=As(o,l),o.status)s=o.index,i.push(o.value);else return l;for(;u<t&&(o=n._(r,s),l=As(o,l),o.status);u+=1)s=o.index,i.push(o.value);return As(cr(s,i),l)})};Oe.result=function(e){return this.map(function(){return e})};Oe.atMost=function(e){return this.times(0,e)};Oe.atLeast=function(e){return Au(this.times(e),this.many(),function(t,n){return t.concat(n)})};Oe.map=function(e){mu(e);var t=this;return Rt(function(n,r){var s=t._(n,r);return s.status?As(cr(s.index,e(s.value)),s):s})};Oe.contramap=function(e){mu(e);var t=this;return Rt(function(n,r){var s=t.parse(e(n.slice(r)));return s.status?cr(r+n.length,s.value):s})};Oe.promap=function(e,t){return mu(e),mu(t),this.contramap(e).map(t)};Oe.skip=function(e){return kc(this,e).map(function(t){return t[0]})};Oe.mark=function(){return Au($0,this,$0,function(e,t,n){return{start:e,value:t,end:n}})};Oe.node=function(e){return Au($0,this,$0,function(t,n,r){return{name:e,value:n,start:t,end:r}})};Oe.sepBy=function(e){return xM(this,e)};Oe.sepBy1=function(e){return H_(this,e)};Oe.lookahead=function(e){return this.skip(rp(e))};Oe.notFollowedBy=function(e){return this.skip(EM(e))};Oe.desc=function(e){lw(e)||(e=[e]);var t=this;return Rt(function(n,r){var s=t._(n,r);return s.status||(s.expected=e),s})};Oe.fallback=function(e){return this.or(aw(e))};Oe.ap=function(e){return Au(e,this,function(t,n){return t(n)})};Oe.chain=function(e){var t=this;return Rt(function(n,r){var s=t._(n,r);if(!s.status)return s;var i=e(s.value);return As(i._(n,s.index),s)})};function xc(e){Df(e);var t="'"+e+"'";return Rt(function(n,r){var s=r+e.length,i=n.slice(r,s);return i===e?cr(s,i):so(r,t)})}function hi(e,t){hM(e),arguments.length>=2?np(t):t=0;var n=kM(e),r=""+e;return Rt(function(s,i){var o=n.exec(s.slice(i));if(o){if(0<=t&&t<=o.length){var l=o[0],u=o[t];return cr(i+l.length,u)}var a="valid match group (0 to "+o.length+") in "+r;return so(i,a)}return so(i,r)})}function aw(e){return Rt(function(t,n){return cr(n,e)})}function W_(e){return Rt(function(t,n){return so(n,e)})}function rp(e){if(B_(e))return Rt(function(t,n){var r=e._(t,n);return r.index=n,r.value="",r});if(typeof e=="string")return rp(xc(e));if(e instanceof RegExp)return rp(hi(e));throw new Error("not a string, regexp, or parser: "+e)}function EM(e){return _u(e),Rt(function(t,n){var r=e._(t,n),s=t.slice(n,r.index);return r.status?so(n,'not "'+s+'"'):cr(n,null)})}function Z_(e){return mu(e),Rt(function(t,n){var r=b_(t,n);return n<t.length&&e(r)?cr(n+1,r):so(n,"a character/byte matching "+e)})}function MM(e){for(var t=e.split(""),n=0;n<t.length;n++)t[n]="'"+t[n]+"'";return Z_(function(r){return e.indexOf(r)>=0}).desc(t)}function TM(e,t){arguments.length<2&&(t=e,e=void 0);var n=Rt(function(r,s){return n._=t()._,n._(r,s)});return e?n.desc(e):n}function IM(){return W_("fantasy-land/empty")}Oe.concat=Oe.or;Oe.empty=IM;Oe.of=aw;Oe["fantasy-land/ap"]=Oe.ap;Oe["fantasy-land/chain"]=Oe.chain;Oe["fantasy-land/concat"]=Oe.concat;Oe["fantasy-land/empty"]=Oe.empty;Oe["fantasy-land/of"]=Oe.of;Oe["fantasy-land/map"]=Oe.map;const $0=Rt(function(e,t){return cr(t,U_(e,t))});Rt(function(e,t){return t>=e.length?so(t,"any character/byte"):cr(t+1,b_(e,t))});Rt(function(e,t){return cr(e.length,e.slice(t))});const K_=Rt(function(e,t){return t<e.length?so(t,"EOF"):cr(t,null)}),PM=hi(/[0-9]/).desc("a digit");hi(/[0-9]*/).desc("optional digits");hi(/[a-z]/i).desc("a letter");hi(/[a-z]*/i).desc("optional letters");const DM=hi(/\s*/).desc("optional whitespace");hi(/\s+/).desc("whitespace");const NM=xc("\r"),VM=xc(`
`),OM=xc(`\r
`),RM=uw(OM,VM,NM).desc("newline");uw(RM,K_);function zM(e,t){const n=t.parse(e);if(n.status)return ht(n.value)}function FM(e,t){return t.or(e)}function LM(e,t){return t.atLeast(e)}function GM(e,t){return t.skip(e)}function q_(e){return e.many()}const AM=TM;function BM(e,t){return t.then(e)}const Q_=PM;q_(Q_);function $g(e,t){return t.sepBy(e)}function g0(e,t,n){return GM(t,BM(n,e))}function Bs(e,t){return t.map(e)}function Ec(e){return rx((t,n)=>t.or(n),e)}const UM=Z_,cs=xc,bM=MM,gg=DM;function jM(e){return LM(1,e)}function sp(e,t){return Bs(n=>t,cs(e))}const J_=kc;function Y_(e){return e.map(t=>Se("",t))}const HM=kc,WM=Y_(jM(Q_)),X_=Bs(s0,WM),ZM=Bs(e=>-e[1],J_(cs("-"),X_)),KM=Bs(s0,Ec(Y([hi(new RegExp("-?(0|[1-9][0-9]*)?[.][0-9]+([eE][+-]?[0-9]+)?")),hi(new RegExp("-?[1-9][0-9]*[eE][+-]?[0-9]+"))]))),qM=Bs(e=>new at(0,[e]),Ec(Y([KM,X_,ZM]))),QM=Ec(Y([sp("true",new at(2,[!0])),sp("false",new at(2,[!1]))])),JM=sp("null",new at(3,[])),em=(()=>{const e=Bs(n=>{switch(n){case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:return n}},bM('"\\/bfnrt')),t=Y_(q_(FM(Bs(n=>n[1],J_(cs("\\"),e)),UM(n=>n!=='"'&&n!=="\\"))));return g0(cs('"'),cs('"'),t)})(),YM=em.map(e=>new at(1,[e]));function Ds(e){return g0(gg,gg,e)}const XM=Ec(he(Ds,Y([JM,QM,qM,YM]))),yg=Ds(cs(","));function eT(){return AM(()=>Ec(Y([XM,Bs(e=>new at(4,[Y(e)]),g0(Ds(cs("[")),Ds(cs("]")),$g(yg,ip.Value))),Bs(e=>new at(5,[ls(Y(e),{Compare:wn})]),g0(Ds(cs("{")),Ds(cs("}")),$g(yg,Bs(e=>[e[0],e[2]],HM(Ds(em),Ds(cs(":")),Ds(ip.Value))))))])))}const ip=new on(eT),tT=ip.Value,nT=Ds(tT);function rT(e){if(typeof e=="string")return e}function sT(e){if(typeof e=="boolean")return e}function iT(e){if(typeof e=="number")return e}function oT(e){if(typeof e=="object")return ht(e)}function lT(e){if(e==null)return ht(e)}function uT(e){if(Array.isArray(e))return e}function aT(e){return e instanceof Date?"offset"in e:!1}function cT(e){return typeof e=="object"}function vg(e){return e!=null&&cT(e)&&"signInt"in e&&"v"in e&&"digits"in e.v?"bound"in e.v:!1}function Nf(e){return zM(e,nT)}function fT(e){const t=Nf(e);return t??Xe(L("Could not parse the JSON input: %s"))(e)}function Nl(e){switch(e.tag){case 2:return e.fields[0]?"true":"false";case 0:return e.fields[0].toString();case 1:return Ge(L('"%s"'))(e.fields[0]);case 4:{const t=Se(",",he(Nl,e.fields[0]));return Ge(L("[%s]"))(t)}case 5:{const t=Se(",",he(n=>{const r=Nl(n[1]);return Ge(L('"%s":%s'))(n[0])(r)},ti(e.fields[0])));return Ge(L("{%s}"))(t)}default:return"null"}}function op(e){switch(e.tag){case 2:return e.fields[0];case 0:return e.fields[0];case 1:return e.fields[0];case 4:{const t=[],n=Je(e.fields[0]);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t.push(op(r))}}finally{Ue(n)}return t}case 5:{const t={},n=Je(ti(e.fields[0]));try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t[r[0]]=op(r[1])}}finally{Ue(n)}return t}default:return gn()}}function _g(e){return e==null?JSON.stringify(gn()):JSON.stringify(e,(t,n)=>vg(n)?C$(n).toString():n instanceof Date?fu(n,"o"):typeof n=="string"?n:vS(n)?Array.isArray(n)?n:Array.from(n):vg(n)?C$(n).toString():aT(n)?fu(n,"O"):n,ht(0))}function lp(e){const t=rT(e);if(t!=null){const n=t;return new at(1,[n])}else{const n=iT(e);if(n!=null){const r=n;return new at(0,[r])}else{const r=sT(e);if(r!=null){const s=r;return new at(2,[s])}else{if(lT(e)!=null)return new at(3,[]);{const s=uT(e);if(s!=null){const i=s;return new at(4,[Y(Nt(lp,i))])}else{const i=oT(e);if(i!=null){const o=G(i);return new at(5,[ls(Q(m(()=>fe(l=>[l,lp(o[l])],Object.keys(o)))),{Compare:wn})])}else return new at(3,[])}}}}}}function Kd(e){return lp(JSON.parse(e))}function tm(e,t){dT(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function dT(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function pT(e){return tm(fk(e*1000n),0)}function hT(e){const[t,n]=Ev(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return tm(t.getTime(),r)}function wT(e){return Y0(e,1)}function $T(e){return Number(xk(e)/864000000000n)}function mg(e){const t=864000000000n*BigInt(e);return wT(_k(t))}function gT(e){return Number(BigInt(e)/10000n)}const nm=!0;function Cg(e){const t=new Uint8Array(4);return new DataView(t.buffer,t.byteOffset,t.byteLength).setInt32(0,e,nm),t}function yT(e,t){const n=ArrayBuffer.isView(e)?e:Uint8Array.from(e);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(t,nm)}class vT extends de{constructor(t,n,r){super(),this.FieldName=t,this.FieldType=n,this.PropertyInfo=r}}class _T extends de{constructor(t,n,r){super(),this.CaseName=t,this.CaseTypes=n,this.Info=r}}class Ne extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Unit","Char","String","UInt16","UInt32","UInt64","Int32","Bool","Float32","Float","Decimal","Short","Long","Byte","SByte","DateTime","DateTimeOffset","DateOnly","TimeOnly","BigInt","TimeSpan","Guid","Uri","Object","Any","Async","Promise","Option","List","Set","Array","Seq","Tuple","Map","Dictionary","ResizeArray","HashSet","Func","Enum","Record","Union"]}}class ko{constructor(t,n){const r=new ai(gn());this.comparer=n,r.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const s=Je(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const i=s["System.Collections.Generic.IEnumerator`1.get_Current"]();qd(r.contents,i[0],i[1])}}finally{Ue(s)}}get[Symbol.toStringTag](){return"Dictionary"}toJSON(){const t=this;return Array.from(t)}"System.Collections.IEnumerable.GetEnumerator"(){return Je(this)}GetEnumerator(){return Je(ps(this.hashMap.values()))}[Symbol.iterator](){return Vu(Je(this))}"System.Collections.Generic.ICollection`1.Add2B595"(t){qd(this,t[0],t[1])}"System.Collections.Generic.ICollection`1.Clear"(){Sg(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const r=Vf(this,t[0]);let s;switch(r!=null&&ee(G(r)[1],t[1])?(s=0,G(r)):s=1,s){case 0:return!0;default:return!1}}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){bv((s,i)=>{lt(t,n+s,i)},this)}"System.Collections.Generic.ICollection`1.get_Count"(){return kg(this)|0}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(t){const n=this,r=Vf(n,t[0]);return r!=null?(ee(G(r)[1],t[1])&&Qd(n,t[0]),!0):!1}"System.Collections.Generic.IDictionary`2.Add5BDDA1"(t,n){qd(this,t,n)}"System.Collections.Generic.IDictionary`2.ContainsKey2B595"(t){return Mg(this,t)}"System.Collections.Generic.IDictionary`2.get_Item2B595"(t){return xg(this,t)}"System.Collections.Generic.IDictionary`2.set_Item5BDDA1"(t,n){Eg(this,t,n)}"System.Collections.Generic.IDictionary`2.get_Keys"(){const t=this;return to(m(()=>fe(n=>n[0],t)))}"System.Collections.Generic.IDictionary`2.Remove2B595"(t){return Qd(this,t)}"System.Collections.Generic.IDictionary`2.TryGetValue6DC89625"(t,n){const s=Vf(this,t);if(s!=null){const i=G(s);return n.contents=i[1],!0}else return!1}"System.Collections.Generic.IDictionary`2.get_Values"(){const t=this;return to(m(()=>fe(n=>n[1],t)))}get size(){return kg(this)|0}clear(){Sg(this)}delete(t){return Qd(this,t)}entries(){return fe(n=>[n[0],n[1]],this)}get(t){return xg(this,t)}has(t){return Mg(this,t)}keys(){return fe(n=>n[0],this)}set(t,n){const r=this;return Eg(r,t,n),r}values(){return fe(n=>n[1],this)}forEach(t,n){const r=this;td(s=>{t(s[1],s[0],r)},r)}}function Mc(e,t){const n=e.comparer.GetHashCode(t)|0;let r,s=gn();return r=[bh(e.hashMap,n,new ai(()=>s,i=>{s=i})),s],r[0]?[!0,n,r[1].findIndex(i=>e.comparer.Equals(t,i[0]))]:[!1,n,-1]}function Vf(e,t){const n=Mc(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return qo(e.hashMap,n[1])[n[2]];default:return}}function Sg(e){e.hashMap.clear()}function kg(e){let t=0,n=Je(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=t+r.length|0}}finally{Ue(n)}return t|0}function xg(e,t){const n=Vf(e,t);if(n!=null)return G(n)[1];throw new Error("The item was not found in collection")}function Eg(e,t,n){const r=Mc(e,t);r[0]?r[2]>-1?qo(e.hashMap,r[1])[r[2]]=[t,n]:qo(e.hashMap,r[1]).push([t,n]):e.hashMap.set(r[1],[[t,n]])}function qd(e,t,n){const r=Mc(e,t);if(r[0]){if(r[2]>-1)throw new Error(Iv("An item with the same key has already been added. Key: {0}",t));qo(e.hashMap,r[1]).push([t,n])}else e.hashMap.set(r[1],[[t,n]])}function Mg(e,t){const n=Mc(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return!0;default:return!1}}function Qd(e,t){const n=Mc(e,t);let r;switch(n[0]&&n[2]>-1?r=0:r=1,r){case 0:return qo(e.hashMap,n[1]).splice(n[2],1),!0;default:return!1}}function mT(e){switch(tn(e)){case"System.String":return new Ne(2,[]);case"System.Char":return new Ne(1,[]);case"System.Int16":return new Ne(11,[]);case"System.Int32":return new Ne(6,[]);case"Microsoft.FSharp.Core.int64`1":case"System.Int64":return new Ne(12,[]);case"System.UInt16":return new Ne(3,[]);case"System.UInt32":return new Ne(4,[]);case"System.UInt64":return new Ne(5,[]);case"System.DateTime":return new Ne(15,[]);case"System.DateOnly":return new Ne(17,[]);case"System.TimeOnly":return new Ne(18,[]);case"System.TimeSpan":return new Ne(20,[]);case"System.DateTimeOffset":return new Ne(16,[]);case"System.Boolean":return new Ne(7,[]);case"System.Single":return new Ne(8,[]);case"System.Double":return new Ne(9,[]);case"Microsoft.FSharp.Core.decimal`1":case"System.Decimal":return new Ne(10,[]);case"System.Numerics.BigInteger":return new Ne(19,[]);case"Microsoft.FSharp.Core.Unit":return new Ne(0,[]);case"System.Guid":return new Ne(21,[]);case"System.Byte":return new Ne(13,[]);case"System.SByte":return new Ne(14,[]);case"System.Object":return new Ne(23,[]);case"System.Uri":return new Ne(22,[]);default:return}}function CT(e){if(rk(e))return Nt(t=>[t,un(t),t[1]],n0(e))}function ST(e){if(tn(e).indexOf("Microsoft.FSharp.Collections.FSharpSet`1")===0)return J(0,sr(e))}function kT(e){if(tn(e).indexOf("System.Nullable`1")===0)return J(0,sr(e))}function xT(e){if(nk(e))return Nt(t=>[un(t),t,Nt(n=>n[1],ik(t))],kv(e))}function ET(e){if(tn(e).indexOf("Microsoft.FSharp.Collections.FSharpMap`2")===0){const t=sr(e);return[J(0,t),J(1,t)]}else return}function MT(e){if(tn(e).indexOf("Microsoft.FSharp.Collections.FSharpList`1")===0)return J(0,sr(e))}function up(e){return to(m(()=>{if(Dh(e)){const t=tk(e);return E(up(t[0]),m(()=>up(t[1])))}else return S(e)}))}function TT(e){if(Dh(e))return up(e)}function IT(e){if(JS(e))return J0(e)}function PT(e){if(tn(e).indexOf("Microsoft.FSharp.Core.FSharpOption`1")===0)return J(0,sr(e))}function DT(e){if(xv(e))return ek(e)}function NT(e){if(tn(e).indexOf("System.Collections.Generic.IEnumerable`1")===0)return J(0,sr(e))}function VT(e){if(tn(e).indexOf("System.Collections.Generic.Dictionary")===0){const t=sr(e);return[J(0,t),J(1,t)]}else return}function OT(e){if(tn(e).indexOf("System.Collections.Generic.List")===0)return J(0,sr(e))}function RT(e){if(tn(e).indexOf("System.Collections.Generic.HashSet")===0)return J(0,sr(e))}function zT(e){if(tn(e).indexOf("Microsoft.FSharp.Control.FSharpAsync`1")===0)return J(0,sr(e))}function FT(e){if(tn(e).indexOf("Fable.Core.JS.Promise`1")===0)return J(0,sr(e))}function pn(e,t){return e.Value}function LT(e){if(YS(e))return XS(e)}function GT(e){let t,n,r,s,i,o,l,u,a,c,f,d,g,w,v,_;const h=mT(e);if(h!=null)return h;{const p=TT(e);if(p!=null){const $=p;return new Ne(37,[(t=new on(()=>Nt(mt,$)),()=>pn(t))])}else{const $=CT(e);if($!=null){const C=$,k=new on(()=>[to(m(()=>Ut(I=>S(new vT(I[1],mt(I[2]),I[0])),C))),e]);return new Ne(39,[()=>pn(k)])}else{const C=xT(e);if(C!=null){const k=C,I=new on(()=>[to(m(()=>Ut(P=>S(new _T(P[0],Nt(mt,P[2]),P[1])),k))),e]);return new Ne(40,[()=>pn(I)])}else{const k=LT(e);if(k!=null){const I=k;return new Ne(38,[(n=new on(()=>[mt(I),e]),()=>pn(n))])}else{const I=MT(e);if(I!=null){const P=I;return new Ne(28,[(r=new on(()=>mt(P)),()=>pn(r))])}else{const P=OT(e);if(P!=null){const N=P;return new Ne(35,[(s=new on(()=>mt(N)),()=>pn(s))])}else{const N=RT(e);if(N!=null){const U=N;return new Ne(36,[(i=new on(()=>mt(U)),()=>pn(i))])}else{const U=IT(e);if(U!=null){const V=U;return new Ne(30,[(o=new on(()=>mt(V)),()=>pn(o))])}else{const V=DT(e);if(V!=null){const A=V;return new Ne(32,[(l=new on(()=>Nt(mt,A)),()=>pn(l))])}else{const A=PT(e);if(A!=null){const j=A;return new Ne(27,[(u=new on(()=>mt(j)),()=>pn(u))])}else{const j=kT(e);if(j!=null){const B=j;return new Ne(27,[(a=new on(()=>mt(B)),()=>pn(a))])}else{const B=ST(e);if(B!=null){const ie=B;return new Ne(29,[(c=new on(()=>mt(ie)),()=>pn(c))])}else{const ie=ET(e);if(ie!=null){const b=ie[0],X=ie[1];return new Ne(33,[(f=new on(()=>[mt(b),mt(X)]),()=>pn(f))])}else{const b=VT(e);if(b!=null){const X=b[0],O=b[1];return new Ne(34,[(d=new on(()=>[mt(X),mt(O),O]),()=>pn(d))])}else{const X=NT(e);if(X!=null){const O=X;return new Ne(31,[(g=new on(()=>mt(O)),()=>pn(g))])}else{const O=zT(e);if(O!=null){const T=O;return new Ne(25,[(w=new on(()=>mt(T)),()=>pn(w))])}else{const T=FT(e);if(T!=null){const q=T;return new Ne(26,[(v=new on(()=>mt(q)),()=>pn(v))])}else return new Ne(24,[(_=new on(()=>e),()=>pn(_))])}}}}}}}}}}}}}}}}}}const Tg=new ko([],{Equals:t0,GetHashCode:mn});function mt(e){let t,n=gn();if(t=[bh(Tg,e,new ai(()=>n,r=>{n=r})),n],t[0])return t[1];{const r=GT(e);return!Nk(tn(e))&&!z1(tn(e),"`1[]")&&!z1(tn(e),"`2[]")&&Tg.set(e,r),r}}function _a(e){switch(e.tag){case 0:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 15:case 16:case 17:case 18:case 19:case 21:case 27:return!0;default:return!1}}function El(e){return e.tag===40?e.fields[0]()[0].every(n=>n.CaseTypes.length===0):!1}function AT(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(r){var s=n[r];return typeof s=="string"?s:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}const BT=oM,UT=BT();function qc(e){return e!==void 0}function bT(){const t=JSON.parse(JSON.stringify(ls(Y([[1,1],[2,2]]),{Compare:wn}))).tree;return qc(t)&&qc(t.k)&&qc(t.v)?qc(t.h):!1}bT();class Jd extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MapEmpty","MapOne","MapNode"]}}function ap(e){switch(e.tag){case 1:return D([e.fields[0],e.fields[1]]);case 2:return Q(m(()=>E(ap(e.fields[2]),m(()=>E(ap(e.fields[3]),m(()=>S([e.fields[0],e.fields[1]])))))));default:return R()}}function jT(e){if(e.tag!==4)return e}function HT(e){let t;switch(e.tag===1&&e.fields[0]==="MapEmpty"?t=0:t=1,t){case 0:return e;default:return}}function rm(e){switch(e.tag){case 0:return e.fields[0].toString();case 1:return e.fields[0];default:return}}function WT(e){let t,n,r;if(e.tag===4)if(te(e.fields[0]))t=1;else if(K(e.fields[0]).tag===1)if(K(e.fields[0]).fields[0]==="MapOne")if(te(z(e.fields[0])))t=1;else{const s=rm(K(z(e.fields[0])));s!=null?te(z(z(e.fields[0])))?t=1:te(z(z(z(e.fields[0]))))?(t=0,n=s,r=K(z(z(e.fields[0])))):t=1:t=1}else t=1;else t=1;else t=1;switch(t){case 0:return[n,r];default:return}}function ZT(e){let t,n,r,s,i;if(e.tag===4)if(te(e.fields[0]))t=1;else if(K(e.fields[0]).tag===1)if(K(e.fields[0]).fields[0]==="MapNode")if(te(z(e.fields[0])))t=1;else{const o=rm(K(z(e.fields[0])));o!=null?te(z(z(e.fields[0])))||te(z(z(z(e.fields[0]))))||te(z(z(z(z(e.fields[0])))))||te(z(z(z(z(z(e.fields[0]))))))?t=1:K(z(z(z(z(z(e.fields[0])))))).tag===0&&te(z(z(z(z(z(z(e.fields[0])))))))?(t=0,n=o,r=K(z(z(z(e.fields[0])))),s=K(z(z(z(z(e.fields[0]))))),i=K(z(z(e.fields[0])))):t=1:t=1}else t=1;else t=1;else t=1;switch(t){case 0:return[n,i,r,s];default:return}}function cp(e){if(HT(e)!=null)return new Jd(0,[]);{const t=WT(e);if(t!=null){const n=t[0],r=t[1];return new Jd(1,[n,r])}else{const n=ZT(e);if(n!=null){const r=n[0],s=n[2],i=n[3],o=n[1],l=cp(s),u=cp(i);let a,c,f;switch(l!=null&&u!=null?(a=0,c=l,f=u):a=1,a){case 0:return new Jd(2,[r,o,c,f]);default:return}}else return}}}function fp(e){return Q(m(()=>{let t,n,r,s;return E((t=Zt("k",e),n=Zt("v",e),t!=null&&t.tag===1&&n!=null?(r=t.fields[0],s=n,S([r,s])):Fe()),m(()=>{let i,o;return E((i=Zt("left",e),i!=null&&i.tag===5?(o=i.fields[0],fp(o)):Fe()),m(()=>{const l=Zt("right",e);let u,a;switch(l!=null&&l.tag===5?(u=0,a=l.fields[0]):u=1,u){case 0:return fp(a);default:return Fe()}}))}))}))}function sm(e){return Q(m(()=>{let t;return E((t=Zt("head",e),t==null?Fe():S(t)),m(()=>{const n=Zt("tail",e);let r,s;switch(n!=null&&n.tag===5?(r=0,s=n.fields[0]):r=1,r){case 0:return sm(s);default:return Fe()}}))}))}function Ig(e){switch(e.tag){case 30:return!0;case 28:return!0;case 31:return!0;case 32:return!0;case 29:return!0;case 35:return!0;case 36:return!0;default:return!1}}function KT(e){return e.tag===39}function qT(e){return e.tag===40?Uv(t=>t.CaseTypes.length===1?KT(J(0,t.CaseTypes)):!1,e.fields[0]()[0]):!1}function QT(e){return e.tag===27}function Da(e){return e.indexOf('"')===0?z1(e,'"'):!1}function Vr(e){return'"'+e+'"'}function JT(e){return Fk(e,1,e.length-2)}function dt(e,t){let n,r,s,i;e:for(;;){const o=e,l=t;let u,a,c,f,d,g,w,v,_,h,p,$,C,k,I,P,N,U,V,A,j,B,ie,b,X,O,T,q,re,_e,ge,Ye,ut,xt,yt,fn,vn,fr,dn,dr,Wn,ms,Zs,Ks,Cs,qt,pr,Zn,dl,Wu,Zu,go,yo,vo,Ku,qu,Dr,Qu,pl,_o,hl,Ju,Yu,Xu,ea,wl,Si,ta,rn,$l,mo,na,gl,Ss,Xr,ki,yl,vl,Nr,xi,qs,Kn,sn;switch(o.tag){case 1:{switch(l.tag){case 9:{o.fields[0].toLocaleLowerCase()==="nan"?(u=1,o.fields[0]):(u=2,c=o.fields[0]);break}case 8:{o.fields[0].toLocaleLowerCase()==="nan"?(u=4,o.fields[0]):(u=5,d=o.fields[0]);break}case 6:{u=8,v=o.fields[0];break}case 1:{u=9,_=o.fields[0];break}case 2:{u=11,p=o.fields[0];break}case 22:{u=13,C=o.fields[0];break}case 10:{u=14,k=o.fields[0];break}case 11:{u=16,P=o.fields[0];break}case 3:{u=19,V=o.fields[0];break}case 4:{u=21,j=o.fields[0];break}case 5:{u=23,ie=o.fields[0];break}case 38:{u=25,X=l.fields[0],O=o.fields[0];break}case 30:{u=27,re=l.fields[0],_e=o.fields[0];break}case 23:{u=30,ge=o;break}case 12:{u=31,Ye=o.fields[0];break}case 13:{u=32,ut=o.fields[0];break}case 14:{u=35,fn=o.fields[0];break}case 19:{u=36,vn=o.fields[0];break}case 15:{u=38,dn=o.fields[0];break}case 16:{u=39,dr=o.fields[0];break}case 17:{u=42,Zs=o.fields[0];break}case 18:{u=43,Ks=o.fields[0];break}case 27:{ee(o,new at(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 21:{u=47,dl=o.fields[0];break}case 40:{Da(o.fields[0])?(u=50,go=o.fields[0],yo=l.fields[0]):(u=51,vo=o.fields[0],Ku=l.fields[0]);break}case 39:{u=52,l.fields[0],qu=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 2:{switch(l.tag){case 7:{u=7,w=o.fields[0];break}case 23:{u=30,ge=o;break}case 27:{ee(o,new at(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 3:{switch(l.tag){case 2:{u=28;break}case 0:{u=29;break}case 23:{u=30,ge=o;break}case 27:{u=45;break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 5:{switch(l.tag){case 23:{u=30,ge=o;break}case 40:{u=44,Cs=l.fields[0],qt=o.fields[0];break}case 27:{ee(o,new at(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 12:{u=49,Zu=o.fields[0];break}case 28:{u=56,Yu=l.fields[0],Xu=o.fields[0];break}case 39:{u=60,mo=o.fields[0],na=l.fields[0];break}case 34:{u=63,yl=o.fields[0],vl=l.fields[0];break}case 33:{u=65,qs=l.fields[0],Kn=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}case 4:{switch(l.tag){case 23:{u=30,ge=o;break}case 27:{ee(o,new at(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 40:{u=53,Dr=o.fields[0],Qu=l.fields[0];break}case 30:{u=54,pl=l.fields[0],_o=o.fields[0];break}case 28:{u=55,hl=l.fields[0],Ju=o.fields[0];break}case 29:{u=57,ea=l.fields[0],wl=o.fields[0];break}case 31:{u=58,Si=l.fields[0],ta=o.fields[0];break}case 32:{u=59,rn=o.fields[0],$l=l.fields[0];break}case 33:{u=61,gl=l.fields[0],Ss=o.fields[0];break}case 34:{u=62,Xr=l.fields[0],ki=o.fields[0];break}case 36:{u=64,Nr=l.fields[0],xi=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}break}default:switch(l.tag){case 9:{u=0,a=o.fields[0];break}case 8:{u=3,f=o.fields[0];break}case 6:{u=6,g=o.fields[0];break}case 1:{u=10,h=o.fields[0];break}case 2:{u=12,$=o.fields[0];break}case 10:{u=15,I=o.fields[0];break}case 11:{u=17,N=o.fields[0];break}case 3:{u=18,U=o.fields[0];break}case 4:{u=20,A=o.fields[0];break}case 5:{u=22,B=o.fields[0];break}case 20:{u=24,b=o.fields[0];break}case 38:{u=26,T=l.fields[0],q=o.fields[0];break}case 23:{u=30,ge=o;break}case 13:{u=33,xt=o.fields[0];break}case 14:{u=34,yt=o.fields[0];break}case 19:{u=37,fr=o.fields[0];break}case 16:{u=40,Wn=o.fields[0];break}case 17:{u=41,ms=o.fields[0];break}case 27:{ee(o,new at(3,[]))?u=67:(u=46,pr=o,Zn=l.fields[0]);break}case 12:{u=48,Wu=o.fields[0];break}case 24:{u=66,sn=l.fields[0];break}default:u=67}}switch(u){case 0:return a;case 1:return NaN;case 2:return s0(c);case 3:return f;case 4:return NaN;case 5:return s0(d);case 6:return Math.floor(g);case 7:return w;case 8:return Rr(v,511,!1,32);case 9:return _;case 10:return String.fromCharCode(h);case 11:return p;case 12:return $.toString();case 13:return Fn.create(C);case 14:return new Vn(k);case 15:return new Vn(I);case 16:return Rr(P,511,!1,16);case 17:return(N+32768&65535)-32768;case 18:return U&65535;case 19:return Rr(V,511,!0,16);case 20:return A>>>0;case 21:return Rr(j,511,!0,32);case 22:return m$(Rd(B));case 23:return m$(Pf(ie,511,!0));case 24:return Math.floor(b);case 25:{const ae=X(),F=ae[0],Z=ae[1];switch(F.tag){case 6:{let le,we=0;if(le=[s3(O,511,!1,32,new ai(()=>we,ke=>{we=ke|0})),we],le[0])return le[1];{const ke=un(Z);return Xe(L("The value '%s' is not valid for enum of type '%s'"))(O)(ke)}}case 12:{let le,we=0n;if(le=[uM(O,511,!1,64,new ai(()=>we,ke=>{we=ke})),we],le[0])return le[1];{const ke=un(Z);return Xe(L("The value '%s' is not valid for enum of type '%s'"))(O)(ke)}}default:{const le=un(Z);return Xe(L("The value '%s' cannot be converted to enum of type '%s'"))(O)(le)}}}case 26:return T(),q;case 27:{const ae=re();return ae.tag===13?typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||UT?Ok(_e):Array.prototype.slice.call(Buffer.from(_e,"base64")):Xe(L("Cannot convert arbitrary string '%s' to %A"))(_e)(ae)}case 28:return gn();case 29:return;case 30:return op(ge);case 31:return Il(Pf(Ye,511,!1));case 32:return Rr(ut,511,!0,8);case 33:return xt&255;case 34:return(yt+128&255)-128;case 35:return Rr(fn,511,!1,8);case 36:return pk(vn);case 37:return Rd(Math.floor(fr));case 38:return Ek(dn);case 39:return hT(dr);case 40:return pT(Il(Rd(Math.floor(Wn))));case 41:return mg(~~ms);case 42:return mg(Rr(Zs,511,!1,32));case 43:return gT(Il(Pf(Ks,511,!1)));case 44:{const ae=Cs(),F=ae[1],Z=ae[0],le=ti(qt);let we,ke,ft,st,it;if(te(le))we=2;else if(K(le)[1].tag===4)te(z(le))?(we=0,ke=K(le)[0],ft=K(le)[1].fields[0]):we=2;else{const me=jT(K(le)[1]);me!=null&&te(z(le))?(we=1,st=K(le)[0],it=me):we=2}switch(we){case 0:{const me=_l(ve=>ve.CaseName===ke,Z);if(me!=null)if(n=me,n.CaseTypes.length===1&&Ig(J(0,n.CaseTypes))){const ve=me;return ks(ve.Info,[dt(new at(4,[ft]),J(0,ve.CaseTypes))])}else if(r=me,r.CaseTypes.length===1&&QT(J(0,r.CaseTypes))){const ve=me;return ks(ve.Info,[dt(new at(4,[ft]),J(0,ve.CaseTypes))])}else{const ve=me;if(ve.CaseTypes.length===1&&!Ig(J(0,ve.CaseTypes))&&ve.CaseTypes.length!==ds(ft)){const Ae=ve.CaseTypes.length|0,vt=ds(ft)|0;Xe(L("Expected case '%s' to have %d argument types but the JSON data only contained %d values"))(ve.CaseName)(Ae)(vt)}return ks(ve.Info,Nt(Ae=>dt(Ae[1],Ae[0]),Fd(ve.CaseTypes,Ur(ft))))}else{const ve=Se(", ",Nt(vt=>Ge(L(" '%s' "))(vt.CaseName),Z)),Ae=un(F);return Xe(L("Case %s was not valid for type '%s', expected one of the cases [%s]"))(ke)(Ae)(ve)}}case 1:{const me=_l(zt=>zt.CaseName===st,Z);let ve,Ae,vt;switch(me!=null?(s=me.CaseTypes,!Sf(ee,s,gn())&&s.length===1?(ve=0,Ae=me.Info,me.CaseName,vt=J(0,me.CaseTypes)):ve=1):ve=1,ve){case 0:return ks(Ae,[(zt=>qn=>dt(zt,qn))(it)(vt)]);default:{const zt=Se(", ",Nt(hr=>Ge(L(" '%s' "))(hr.CaseName),Z)),qn=un(F);return Xe(L("Case %s was not valid for type '%s', expected one of the cases [%s]"))(st)(qn)(zt)}}}default:if(Uo("tag",qt)&&Uo("fields",qt)&&PE(qt)===2){const me=Zt("tag",qt),ve=Zt("fields",qt);let Ae,vt,zt;switch(me!=null&&me.tag===0&&ve!=null&&ve.tag===4?(Ae=0,vt=me.fields[0],zt=ve.fields[0]):Ae=1,Ae){case 0:{const qn=J(~~vt,Z);return ks(qn.Info,F1((hr,Ei)=>dt(Ei,J(hr,qn.CaseTypes)),Ur(zt)))}default:{const qn=Nl(new at(5,[qt])),hr=tn(F);return Xe(L("Could not deserialize JSON(%s) into type %s"))(qn)(hr)}}}else if(qT(l)){const me=l0(ve=>Uo(ve,qt),Y(["__typename","$typename","$type"]));if(me!=null){const ve=po(me,qt);if(ve.tag===1){const Ae=ve.fields[0],vt=Cx(zt=>zt.CaseName.toUpperCase()===Ae.toUpperCase(),Z);if(vt!=null){const zt=vt;return ks(zt.Info,[dt(new at(5,[qt]),J(0,zt.CaseTypes))])}else{const zt=un(F);return Xe(L("Union of records of type '%s' does not have a matching case '%s'"))(zt)(Ae)}}else{const Ae=un(F);return Xe(L("Union of records of type '%s' cannot be deserialized with the value of the discriminator key is not a string to match against a specific union case"))(Ae)}}else{const ve=un(F);return Xe(L("Could not serialize the JSON object into the union of records of type %s because the JSON did not contain a known discriminator. Expected '__typename', '$typeName' or '$type'"))(ve)}}else{const me=JSON.stringify(le),ve=JSON.stringify(Z);return Xe(L(`Expected JSON:
%s
to match the type
%s`))(me)(ve)}}}case 45:return;case 46:return ht(dt(pr,Zn()));case 47:return Q3(dl);case 48:return(ae=>Il(ak(ae)))(~~Wu);case 49:{const ae=ke=>Zt(ke,Zu),F=ci(ke=>ke,Y([ae("low"),ae("high"),ae("unsigned")]));let Z,le,we;switch(te(F)?Z=1:K(F).tag===0?te(z(F))?Z=1:K(z(F)).tag===0?te(z(z(F)))?Z=1:K(z(z(F))).tag===2&&te(z(z(z(F))))?(Z=0,le=K(z(F)).fields[0],we=K(F).fields[0]):Z=1:Z=1:Z=1,Z){case 0:return yT(jk([Cg(~~we),Cg(~~le)],Uint8Array),0);default:return Xe(L("Unable to construct int64 from object literal { low: int, high: int, unsigned: bool }"))}}case 50:{const ae=yo(),F=ae[0],Z=_l(le=>le.CaseName===JT(go),F);if(Z==null){const le=Se(", ",Nt(ke=>Ge(L(" '%s' "))(ke.CaseName),F)),we=un(ae[1]);return Xe(L("Case %s was not valid for type '%s', expected one of the cases [%s]"))(go)(we)(le)}else return ks(Z.Info,[])}case 51:{const ae=Ku(),F=ae[0],Z=_l(le=>le.CaseName===vo,F);if(Z==null){const le=Se(", ",Nt(ke=>Ge(L(" '%s' "))(ke.CaseName),F)),we=un(ae[1]);return Xe(L("Case %s was not valid for type '%s', expected one of the cases [%s]"))(vo)(we)(le)}else return ks(Z.Info,[])}case 52:{e=fT(qu),t=l;continue e}case 53:{const ae=Qu(),F=ae[0];let Z,le,we,ke,ft;switch(te(Dr)?(Z=2,ft=Dr):K(Dr).tag===1?te(z(Dr))?(Z=0,le=K(Dr).fields[0]):(Z=1,we=K(Dr).fields[0],ke=z(Dr)):(Z=2,ft=Dr),Z){case 0:{const st=_l(it=>it.CaseName===le,F);if(st==null){const it=Se(", ",Nt(ve=>Ge(L(" '%s' "))(ve.CaseName),F)),me=un(ae[1]);return Xe(L("Case '%s' was not valid for type '%s', expected one of the cases [%s]"))(le)(me)(it)}else return st.CaseName,st.CaseTypes,ks(st.Info,[])}case 1:{const st=_l(it=>it.CaseName===we,F);if(st!=null){const it=st.CaseTypes,me=st.CaseName,ve=st.Info;return it.length!==ds(ke)&&Xe(L("The number of union case parameters for '%s' is different"))(me),ks(ve,Nt(Ae=>dt(Ae[1],Ae[0]),Fd(it,Ur(ke))))}else{const it=Se(", ",Nt(me=>me.CaseName,F));return Xe(L("Case %s was not valid, expected one of [%s]"))(we)(it)}}default:{const st=JSON.stringify(ft),it=JSON.stringify(F);return Xe(L(`Expected JSON:
%s
to match the type
%s`))(st)(it)}}}case 54:{const ae=pl();return Ur(he(F=>dt(F,ae),_o))}case 55:{const ae=hl();return he(F=>dt(F,ae),Ju)}case 56:{const ae=Yu();return he(F=>dt(F,ae),sm(Xu))}case 57:{const ae=ea();return fi(he(F=>dt(F,ae),wl),{Compare:Me})}case 58:{const ae=Si();return he(F=>dt(F,ae),ta)}case 59:return Nt(ae=>dt(ae[1],ae[0]),Fd($l(),Ur(rn)));case 60:{const ae=na(),F=ae[1],Z=ae[0];return lk(F,(i=ti(mo),Nt(le=>{let we,ke,ft;const st=le.FieldType,it=le.FieldName,me=l0(ve=>it===ve[0],i);if(me==null){if(st.tag===27)return;{let ve;const Ae=Se(", ",(we=ti(mo),he((ke=(ft=Ge(L("'%s'")),ft),hr=>ke(hr[0])),we)));ve=Ge(L("[ %s ]"))(Ae);let vt;const zt=Se(", ",Nt(hr=>{const Ei=hr.FieldName;return hr.FieldType.tag===27?Ge(L("optional('%s')"))(Ei):Ge(L("required('%s')"))(Ei)},Z));vt=Ge(L("[ %s ]"))(zt);const qn=un(F);return Xe(L("Could not find the required key '%s' in the JSON object literal with keys %s to match with record type '%s' that has fields %s"))(it)(ve)(qn)(vt)}}else return me[0],dt(me[1],st)},Z)))}case 61:{const ae=gl(),F=ae[0],Z=Q(m(()=>Ut(le=>{let we;return S(dt(le,new Ne(32,[(we=[F,ae[1]],()=>we)])))},Ss)));switch(F.tag){case 6:case 2:case 7:return ls(Z,{Compare:wn});default:return ls(Z,{Compare:Me})}}case 62:{const ae=Xr(),F=ae[0],Z=Q(m(()=>Ut(ke=>S(dt(ke,new Ne(32,[()=>[F,ae[1]]]))),ki))),le=F.tag===40?new ko([],{Equals:ee,GetHashCode:ji}):F.tag===39?new ko([],{Equals:ee,GetHashCode:mn}):new ko([],{Equals:ee,GetHashCode:mn}),we=Je(Z);try{for(;we["System.Collections.IEnumerator.MoveNext"]();){const ke=we["System.Collections.Generic.IEnumerator`1.get_Current"]();V$(le,ke[0],ke[1])}}finally{Ue(we)}return le}case 63:{const ae=vl(),F=ae[0],Z=he(ke=>[dt(new at(1,[ke[0]]),F),dt(ke[1],ae[1])],ti(yl)),le=F.tag===40?new ko([],{Equals:ee,GetHashCode:ji}):F.tag===39?new ko([],{Equals:ee,GetHashCode:mn}):new ko([],{Equals:ee,GetHashCode:mn}),we=Je(Z);try{for(;we["System.Collections.IEnumerator.MoveNext"]();){const ke=we["System.Collections.Generic.IEnumerator`1.get_Current"]();V$(le,ke[0],ke[1])}}finally{Ue(we)}return le}case 64:{const ae=Nr(),F=ae.tag===40?new Ld([],{Equals:ee,GetHashCode:ji}):ae.tag===39?new Ld([],{Equals:ee,GetHashCode:mn}):new Ld([],{Equals:ee,GetHashCode:mn}),Z=Je(xi);try{for(;Z["System.Collections.IEnumerator.MoveNext"]();)Nx(dt(Z["System.Collections.Generic.IEnumerator`1.get_Current"](),ae),F)}finally{Ue(Z)}return F}case 65:{const ae=qs(),F=ae[1],Z=ae[0],le=Zt("comparer",Kn),we=Zt("tree",Kn);let ke,ft,st;if(le!=null)if(le.tag===5)if(we!=null)switch(we.tag){case 4:{we.fields[0],Z$(le.fields[0])?(ke=0,le.fields[0],ft=we.fields[0]):ke=2;break}case 5:{we.fields[0],Z$(le.fields[0])?(ke=1,le.fields[0],st=we.fields[0]):ke=2;break}default:ke=2}else ke=2;else ke=2;else ke=2;switch(ke){case 0:{const it=cp(new at(4,[ft]));if(it==null){const me=Nl(new at(4,[ft]));return Xe(L(`Could not generate map from JSON
 %s`))(me)}else{const me=he(ve=>{const Ae=ve[0];return[Da(Ae)?dt(Kd(Ae),Z):dt(new at(1,[Ae]),Z),dt(ve[1],F)]},ap(it));switch(Z.tag){case 6:case 2:case 7:return ls(me,{Compare:wn});default:return ls(me,{Compare:Me})}}}case 1:{e=new at(5,[ls(fp(st),{Compare:wn})]),t=l;continue e}default:{const it=he(me=>{const ve=me[0];return[Da(ve)?dt(Kd(ve),Z):_a(Z)||El(Z)?dt(new at(1,[ve]),Z):dt(Kd(ve),Z),dt(me[1],F)]},ti(Kn));switch(Z.tag){case 6:case 2:case 7:return ls(it,{Compare:wn});default:return ls(it,{Compare:Me})}}}}case 66:{const ae=sn(),F=Nl(o),Z=tn(ae);return Xe(L("Cannot convert %s to %s"))(F)(Z)}default:{const ae=Nl(o),F=JSON.stringify(l);return Xe(L("Cannot convert %s to %s"))(ae)(F)}}break}}function Yd(e,t){return dt(e,t)}const Qc=AT;function ln(e,t){let n;e:for(;;){const r=e,s=t;switch(s.tag){case 2:{const i=r;return i==null?"null":Qc(i)}case 0:return"null";case 9:case 8:return Number.isNaN(r)?Qc("NaN"):r.toString();case 1:return Qc(r);case 13:case 14:case 3:case 4:case 11:case 38:case 20:case 6:return au(r);case 5:case 12:return Vr(v$(r));case 19:return Vr(dk(r));case 10:return Vr(ZS(r));case 7:return r?"true":"false";case 21:return Vr((n=r,n));case 22:return Vr(je(r));case 15:return Vr(fu(r,"O"));case 16:return Vr(fu(r,"O"));case 17:return au($T(r));case 18:return Vr(v$(KE(r)));case 39:return"{"+Se(", ",Nt(i=>{const o=ln(ok(r,i.PropertyInfo),i.FieldType);return Ge(L('"%s": %s'))(i.FieldName)(o)},s.fields[0]()[0]))+"}";case 35:{const i=s.fields[0]();return"["+Se(", ",fe(o=>ln(o,i),r))+"]"}case 36:{const i=s.fields[0]();return"["+Se(", ",fe(o=>ln(o,i),r))+"]"}case 29:{const i=s.fields[0]();return"["+Se(", ",fe(o=>ln(o,i),r))+"]"}case 30:{const i=s.fields[0]();return"["+Se(", ",Nt(o=>ln(o,i),r))+"]"}case 28:{const i=s.fields[0]();return"["+Se(", ",he(o=>ln(o,i),r))+"]"}case 31:{const i=s.fields[0]();return"["+Se(", ",Nt(o=>ln(o,i),to(r)))+"]"}case 27:{const i=r;if(i!=null){e=G(i),t=s.fields[0]();continue e}else return"null"}case 40:{const i=s.fields[0](),o=sk(r,i[1]),l=o[0],u=o[1],a=Zk(c=>c.CaseName===un(l),i[0]).CaseTypes;if(El(s)||a.length===0)return Vr(un(l));if(a.length===1)return"{"+Vr(un(l))+": "+ln(J(0,u),J(0,a))+"}";{const c=Se(", ",F1((f,d)=>ln(J(f,u),d),a));return"{"+Vr(un(l))+": ["+c+"] }"}}case 33:{const i=s.fields[0](),o=i[0],l=Se(", ",Nt(u=>{const a=ln(u[0],o),c=ln(u[1],i[1]);return _a(o)||El(o)?Da(a)?a+": "+c:Qc(a)+": "+c:"["+a+", "+c+"]"},IE(r)));return _a(o)||El(o)?"{"+l+"}":"["+l+"]"}case 34:{const i=s.fields[0](),o=i[0],l=Se(", ",fe(u=>{const a=ln(u[0],o),c=ln(u[1],i[1]);return _a(o)||El(o)?Da(a)?a+": "+c:Vr(a)+": "+c:"["+a+", "+c+"]"},r));return _a(o)||El(o)?"{"+l+"}":"["+l+"]"}case 32:{const i=s.fields[0]();return i.length===1?"["+ln(r,J(0,i))+"]":"["+Se(", ",F1((o,l)=>ln(l,J(o,i)),r))+"]"}case 23:return _g(r);case 24:return _g(r);default:return"null"}break}}function YT(e){return new Be(0,[e])}function XT(e){return new Be(1,[e])}class Be extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function eI(e,t){return t.tag===0?YT(e(t.fields[0])):XT(t.fields[0])}const tI=e=>{H.useEffect(()=>{const t=e();return()=>{t.Dispose()}})},nI=tI;function rI(e){return{Dispose(){e()}}}function sI(e){return Re.useState(e)}function iI(e){nI(t=>(e(),rI(()=>{})))}function oI(e){return Re.useRef(e)}function Pg(){return oI(void 0)}class ld extends de{constructor(t,n){super(),this.nodeId=t,this.data=n}}class y0 extends de{constructor(t,n,r,s){super(),this.edgeId=t,this.pre=n,this.post=r,this.data=s}}function Dg(e,t,n){return ur("Graph.Edge`3",[e,t,n],y0,()=>[["edgeId",t],["pre",e],["post",e],["data",n]])}class Qr extends de{constructor(t,n,r){super(),this.pre=t,this.post=n,this.node=r}}function lI(e,t,n,r){return ur("Graph.nd`4",[e,t,n,r],Qr,()=>[["pre",Bo("Microsoft.FSharp.Collections.FSharpMap`2",[t,Dg(e,t,r)])],["post",Bo("Microsoft.FSharp.Collections.FSharpMap`2",[t,Dg(e,t,r)])],["node",n]])}class cw extends de{constructor(t){super(),this.nodes=t}}function Of(e,t,n,r){return ur("Graph.Graph`4",[e,t,n,r],cw,()=>[["nodes",Bo("Microsoft.FSharp.Collections.FSharpMap`2",[e,lI(e,t,n,r)])]])}function Ws(e){return new cw(e)}function uI(){return new cw(Lt({Compare:Me}))}function aI(e){return new Qr(Lt({Compare:Me}),Lt({Compare:Me}),e)}function im(e,t){return Ws(Pt(e.nodeId,aI(e.data),t.nodes))}function dp(e,t,n){return Ws(xr(e,r=>oe(s=>new Qr(s.pre,s.post,t(s.node)),r),n.nodes))}function _r(e,t){return Ws(js((n,r)=>new Qr(r.pre,r.post,e(n,r.node)),t.nodes))}function Ng(e,t){return Ws(h_(fe(n=>{const r=n[1];return[e(n[0]),new Qr(js((s,i)=>{const o=e(i.post);return new y0(i.edgeId,e(i.pre),o,i.data)},r.pre),js((s,i)=>{const o=e(i.post);return new y0(i.edgeId,e(i.pre),o,i.data)},r.post),r.node)]},di(t.nodes)),{Compare:Me}))}function cI(e,t){let n=co({Compare:Me});return Ws(js((r,s)=>new Qr(ql((i,o)=>Kr(o.post,n),s.pre),ql((i,o)=>Kr(o.pre,n),s.post),s.node),ql((r,s)=>{const i=e(r,s);return i||(n=Fu(r,n)),i},t.nodes)))}function Rs(e){return fe(t=>new ld(t[0],t[1].node),di(e.nodes))}function Ro(e,t){return oe(n=>new ld(t,n.node),Zt(t,e.nodes))}function om(e,t){const n=po(e,t.nodes);return Ws(W1((r,s,i)=>xr(i.pre,o=>oe(l=>new Qr(Sr(i.edgeId,l.pre),l.post,l.node),o),r),W1((r,s,i)=>xr(i.post,o=>oe(l=>new Qr(l.pre,Sr(i.edgeId,l.post),l.node),o),r),Sr(e,t.nodes),n.pre),n.post))}function fI(e,t){return Ls(om,e,t)}function Jc(e){return e.data}function lm(e,t){return Ws(xr(e.post,n=>oe(r=>new Qr(r.pre,Pt(e.edgeId,e,r.post),r.node),n),xr(e.pre,n=>oe(r=>new Qr(Pt(e.edgeId,e,r.pre),r.post,r.node),n),t.nodes)))}function Vg(e){return ps(fe(t=>fe(n=>n[1],di(t[1].post)),di(e.nodes)))}function Og(e,t){return Ls(lm,e,t)}function dI(e,t){return Ws(js((n,r)=>new Qr(Sr(e,r.pre),Sr(e,r.post),r.node),t.nodes))}function ma(e,t,n,r){return new y0(t,n,r,e)}function Rg(e,t){return Ws(js((n,r)=>new Qr(ql((s,i)=>Kr(i.post,e),r.pre),ql((s,i)=>Kr(i.pre,e),r.post),r.node),ql((n,r)=>Kr(n,e),t.nodes)))}class pI extends de{constructor(t,n,r){super(),this.graph=t,this.graph1=n,this.graph2=r}}function hI(e,t,n,r){const s=Ng(e,n),i=Ng(t,r);return new pI(Ws(W1((o,l,u)=>Pt(l,u,o),s.nodes,i.nodes)),s,i)}function zg(e,t,n,r,s){let i,o;const l=ul((i=r,o=n,new M(i.x-o.x,i.y-o.y))),u=new M(l.y,-l.x);let a,c;const f=r;let d;const g=u,w=e;d=new M(g.x*w,g.y*w),c=new M(f.x+d.x,f.y+d.y);let v;const _=l,h=t;v=new M(_.x*h,_.y*h),a=new M(c.x-v.x,c.y-v.y);let p,$;const C=r;let k;const I=u,P=e;k=new M(I.x*P,I.y*P),$=new M(C.x-k.x,C.y-k.y);let N;const U=l,V=t;return N=new M(U.x*V,U.y*V),p=new M($.x-N.x,$.y-N.y),H.createElement("path",tt(Q(m(()=>E(S(["d",Yo(he(A=>[A[0],he(nd,A[1])],Y([["M",D(n)],["L",D(r)],["L",D(a)],["L",D(p)],["L",D(r)]])))]),m(()=>s))))))}class bt extends de{constructor(t,n,r,s){super(),this.color=t,this.pos=n,this.text=r,this.isSelected=s}}function Rf(){return ur("Graph.NodeData",[],bt,()=>[["color",Za],["pos",Ct(et)],["text",Za],["isSelected",li]])}function Yc(e){return new bt("white",e,"",!1)}function fw(e){let t;return 1+Tx((t=fe(n=>n.nodeId,Rs(e)),E(m(()=>S(-1)),t)),{Compare:wn})}function Xd(e){return window.localStorage.getItem("ifyl."+e)}function Xc(e,t){window.localStorage.setItem("ifyl."+e,t)}let br=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Node","Edge","Background","NoTarget"]}};function um(){return Mr("Graph.TargetType",[],br,()=>[[["Item",qe]],[["Item",Tt(qe,qe)]],[],[]])}let Cu=class extends de{constructor(t,n){super(),this.targetType=t,this.position=n}};function ud(){return ur("Graph.Target",[],Cu,()=>[["targetType",um()],["position",Ct(et)]])}class Vl extends de{constructor(t,n){super(),this.dragTo=t,this.timeStamp=n}}function pp(){return ur("Graph.DragData",[],Vl,()=>[["dragTo",ud()],["timeStamp",et]])}class dw extends de{constructor(t,n,r,s){super(),this.button=t|0,this.ctrl=n,this.alt=r,this.shift=s}}function Tc(){return ur("Graph.ButtonState",[],dw,()=>[["button",qe],["ctrl",li],["alt",li],["shift",li]])}class v0 extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddEdgeFrom","AddEdgeTo"]}}function hp(){return Mr("Graph.AddEdgesType",[],v0,()=>[[],[]])}class Xl extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragNode","MoveSelected","MoveViewBox","SelectRect","AddEdges"]}}function pw(){return Mr("Graph.DragModeType",[],Xl,()=>[[["Item",qe]],[],[],[],[["Item",Tt(hp(),Br(Ct(et)),Br(qe))]]])}class wp extends de{constructor(t,n,r,s){super(),this.target=t,this.dragData=n,this.modeType=r,this.button=s}}function zf(){return ur("Graph.DragState",[],wp,()=>[["target",ud()],["dragData",pp()],["modeType",pw()],["button",Br(Tc())]])}class _0 extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Click","DoubleClick","Flick","Hover"]}}function wI(){return Mr("Graph.PointerEventType",[],_0,()=>[[],[],[],[]])}class Na extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseDown","MouseUp","Click","MouseMove"]}}function $I(){return Mr("Graph.MouseEventType",[],Na,()=>[[],[],[],[]])}class ad extends de{constructor(t,n,r,s,i){super(),this.target=t,this.event=n,this.rawEvent=r,this.button=s,this.timeStamp=i}}function gI(){return ur("Graph.MouseEventData",[],ad,()=>[["target",ud()],["event",$I()],["rawEvent",Bo("Browser.Types.Event",void 0)],["button",Tc()],["timeStamp",et]])}class Ol extends de{constructor(t,n,r){super(),this.viewPosition=t,this.viewSize=n,this.viewScale=r}}function yI(){return ur("Graph.ViewBoxData",[],Ol,()=>[["viewPosition",Ct(et)],["viewSize",Ct(et)],["viewScale",et]])}class Gi extends de{constructor(t,n){super(),this.graph=t,this.viewBoxData=n}}function Fg(){return ur("Graph.EditorData",[],Gi,()=>[["graph",Of(qe,Tt(qe,qe),Rf(),Cf)],["viewBoxData",yI()]])}function am(){return new M(document.documentElement.clientWidth-30,document.documentElement.clientHeight-60)}class vI extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Color","Positon"]}}function _I(){return Mr("Graph.NodeDataMsg",[],vI,()=>[[["Item",Za]],[["Item",Ct(et)]]])}class Jt extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddNode","AddEdge","MoveNode","MoveSelected","DeleteSelected","SelectAll","DiselectAll","ToggleSelectAll","SelectRect","RemoveNode","RemoveEdge","ChangeNode","ToggleSelected","SelectNode","DeselectAll","AddEdges","AddEdgesAndANode"]}}function mI(){return Mr("Graph.GraphMsg",[],Jt,()=>[[["Item",Tt(li,Br(Ct(et)))]],[["Item",Tt(qe,qe)]],[["Item",Tt(qe,Ct(et))]],[["Item",Ct(et)]],[],[],[],[],[["Item",Tt(li,Ct(et),Ct(et))]],[["Item",qe]],[["Item",Tt(qe,qe)]],[["Item1",qe],["Item2",_I()]],[["Item",qe]],[["Item",qe]],[],[["Item",Tt(hp(),Br(qe),Br(Ct(et)),qe)]],[["Item",Tt(hp(),Br(qe),Br(Ct(et)),Ct(et))]]])}class Ic extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MoveViewBox","MoveTo","Zoom","SetScale","SetSize"]}}function CI(){return Mr("Graph.ViewBoxMsg",[],Ic,()=>[[["Item",Ct(et)]],[["Item",Ct(et)]],[["Item",Tt(Ct(et),et)]],[],[["Item",Ct(et)]]])}class rs extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["GraphMsg","ViewBoxMsg"]}}function SI(){return Mr("Graph.EditorMsg",[],rs,()=>[[["Item",mI()]],[["Item",CI()]]])}class Ns extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragStart","Dragging","DragEnd","DragCancel"]}}function kI(){return Mr("Graph.DragMsg",[],Ns,()=>[[["Item",Tt(pw(),pp(),Br(Tc()))]],[["Item",Tt(zf(),pp())]],[["Item",Tt(zf(),et)]],[["Item",zf()]]])}class m0 extends de{constructor(t,n,r,s){super(),this.target=t,this.pointerEvent=n,this.button=r,this.timeStamp=s}}function xI(){return ur("Graph.PointerEvent",[],m0,()=>[["target",ud()],["pointerEvent",wI()],["button",Tc()],["timeStamp",et]])}class eu extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PointerEvent","DragComplete"]}}function EI(){return Mr("Graph.AbstractEvent",[],eu,()=>[[["Item",xI()]],[["Item",zf()]]])}let $p=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PreviewUndo","PreviewRedo"]}};function MI(){return Mr("Graph.PreviewMsg",[],$p,()=>[[],[["Item",qe]]])}let Ie=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["EditorMsg","DragMsg","RawPointerEvent","RawKeyEvent","RawKeyUpEvent","AbstractEvent","SetSvg","SetMousePosition","SetTarget","RemoveTarget","ClearTarget","Save","Load","Redo","Undo","PrintModel","EnterDragMode","PreviewMsg","EndPreview","Copy","Paste","Cut","SetPreviewKeyConfig","SaveKeyConfig","LoadKeyConfig","EditKeyConfig","ToggleEditKeyConfig","CancelPointerEvent","StartEditNode","EditNode","EndEditNode","ToggleSnapMode"]}};function gp(){return Mr("Graph.Msg",[],Ie,()=>[[["Item",R1(SI())]],[["Item",kI()]],[["Item",gI()]],[["Item",Bo("Browser.Types.KeyboardEvent",void 0)]],[["Item",Bo("Browser.Types.KeyboardEvent",void 0)]],[["Item",EI()]],[["Item",Bo("Browser.Types.SVGSVGElement",void 0)]],[["Item",Ct(et)]],[["Item",um()]],[],[],[],[],[["Item",qe]],[],[],[["Item",Tt(pw(),Br(Tc()))]],[["Item",MI()]],[],[["Item",Ct(et)]],[["Item",Ct(et)]],[["Item",Ct(et)]],[["Item",Tt(Z1(),gp())]],[],[],[],[],[],[["Item",Tt(Br(Ct(et)),Br(qe))]],[["Item",Za]],[],[]])}function TI(e){return new Ie(0,[he(t=>new rs(0,[t]),e)])}function Fr(e){return TI(D(e))}function II(e){return new Ie(0,[he(t=>new rs(1,[t]),e)])}function hw(e){return II(D(e))}function PI(e){return new Ie(0,[e])}function DI(e){return PI(D(e))}function NI(e,t){return hw(new Ic(2,[[e,t]]))}function VI(e){return hw(new Ic(0,[e]))}let Gn=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DefaultMode","EditNodeDataMode","PreviewMode","DragMode","EditKeyConfigMode"]}};class zn extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Redo","Undo","SelectAll","DeselectAll","ToggleSelectAll","Save","Load","Copy","Cut","Paste","Delete","Move","AddEdge","AddNode","StartEditNode","PrintModel"]}}function OI(e){switch(e.tag){case 1:return new Ie(14,[]);case 2:return Fr(new Jt(5,[]));case 3:return Fr(new Jt(14,[]));case 4:return Fr(new Jt(7,[]));case 5:return new Ie(11,[]);case 6:return new Ie(12,[]);case 7:return new Ie(19,[new M(0,0)]);case 8:return new Ie(21,[new M(0,0)]);case 9:return new Ie(20,[new M(0,0)]);case 10:return Fr(new Jt(4,[]));case 11:return new Ie(16,[[new Xl(1,[]),void 0]]);case 12:return new Ie(16,[[new Xl(4,[[new v0(0,[]),void 0,void 0]]),void 0]]);case 13:return Fr(new Jt(0,[[!0,void 0]]));case 14:return new Ie(28,[[void 0,void 0]]);case 15:return new Ie(15,[]);default:return new Ie(13,[0])}}const Lg=he(e=>[e[0],OI(e[1])],Jh(Y([["ctrl z",new zn(1,[])],["ctrl y",new zn(0,[])],["ctrl a",new zn(2,[])],["ctrl shift a",new zn(3,[])],["ctrl s",new zn(5,[])],["ctrl l",new zn(6,[])],["ctrl c",new zn(7,[])],["ctrl x",new zn(8,[])],["ctrl v",new zn(9,[])],["Backspace",new zn(10,[])],["Enter",new zn(14,[])],["g",new zn(11,[])],["p",new zn(15,[])],["a",new zn(4,[])],["e",new zn(12,[])]])));class RI extends de{constructor(t){super(),this.defaultMode=t}}let be=class extends de{constructor(t,n,r,s,i,o,l,u,a,c,f,d,g,w){super(),this.editorData=t,this.mode=n,this.snapMode=r,this.snapGrid=s,this.redoUndo=i,this.svg=o,this.mousePosition=l,this.targetType=u,this.keyConfig=a,this.keySetting=c,this.mouseDown=f,this.keyDown=d,this.pastPointerEvents=g,this.log=w}};function Ca(e){return e.editorData.viewBoxData.viewSize}function yp(e){return e.editorData.viewBoxData.viewPosition}function vp(e){return e.editorData.viewBoxData.viewScale}function Gg(e){const t=yp(e);let n,r;const s=Ca(e),i=vp(e);return r=new M(s.x*i,s.y*i),n=new M(r.x/2,r.y/2),new M(t.x+n.x,t.y+n.y)}function Ff(e,t,n,r){r.addEventListener(e,t,n)}function cm(){const e=new Gi(uI(),new Ol(new M(0,0),am(),1));return[new be(e,new Gn(0,[]),!1,new M(64,64),L_(e),void 0,void 0,R(),Lg,new RI(Yh(Lg)),Lt({Compare:wn}),co({Compare:wn}),R(),R()),en(D(D(t=>{t(new Ie(12,[]))})))]}function fm(e,t){let n,r,s,i,o,l;switch(e.tag){case 1:{const u=e.fields[0][0];return[new be(t.editorData,new Gn(3,[new wp(u.target,e.fields[0][1],u.modeType,u.button)]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),R()]}case 2:{const u=e.fields[0][0];return u.modeType.tag===1&&document.exitPointerLock(),[new be(t.editorData,new Gn(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),(n=u.button,n!=null?(r=n,no((s=(i=u.dragData.dragTo.position,o=u.target.position,new M(i.x-o.x,i.y-o.y)),l=t.editorData.viewBoxData.viewScale,new M(s.x/l,s.y/l)))<5?D(new eu(0,[new m0(u.target,new _0(0,[]),r,e.fields[0][1])])):D(new eu(1,[u]))):D(new eu(1,[u])))]}case 3:return e.fields[0].modeType.tag===1&&document.exitPointerLock(),[new be(t.redoUndo.current,new Gn(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),R()];default:{const u=e.fields[0][0],a=e.fields[0][1];return u.tag===1&&t.svg,[new be(t.editorData,new Gn(3,[new wp(a.dragTo,a,u,e.fields[0][2])]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),R()]}}}function _p(e,t){return _r((n,r)=>new bt(r.color,r.pos,r.text,ee(n,e)),t)}function zI(e,t){return dp(e,n=>new bt(n.color,n.pos,n.text,!n.isSelected),t)}function Ag(e){return _r((t,n)=>new bt(n.color,n.pos,n.text,!1),e)}function e1(e,t){return im(new ld(fw(t),e),t)}function FI(e,t,n){return lm(ma(void 0,[e,t],e,t),n)}class dm extends de{constructor(t,n,r){super(),this.mousePos=t,this.snapMode=n,this.snapGrid=r}}function LI(e,t,n){let r,s,i;const o=e.mousePos,l=u=>e.snapMode?Io((a,c)=>c*V1(a/c),u,e.snapGrid):u;switch(t.tag){case 11:{const u=t.fields[1];return dp(t.fields[0],a=>u.tag===0?new bt(u.fields[0],a.pos,a.text,a.isSelected):new bt(a.color,u.fields[0],a.text,a.isSelected),n)}case 1:return FI(t.fields[0][0],t.fields[0][1],n);case 12:return zI(t.fields[0],n);case 10:return dI(t.fields[0],n);case 9:return om(t.fields[0],n);case 2:return dp(t.fields[0][0],u=>{let a,c;return new bt(u.color,l((a=u.pos,c=t.fields[0][1],new M(a.x+c.x,a.y+c.y))),u.text,u.isSelected)},n);case 4:return fI(Qa(u=>{if(u.data.isSelected)return u.nodeId},Rs(n)),n);case 5:return _r((u,a)=>new bt(a.color,a.pos,a.text,!0),n);case 14:return _r((u,a)=>new bt(a.color,a.pos,a.text,!1),n);case 3:return _r((u,a)=>{let c,f;return a.isSelected?new bt(a.color,l((c=a.pos,f=t.fields[0],new M(c.x+f.x,c.y+f.y))),a.text,a.isSelected):a},n);case 7:{const u=Uv(a=>a.data.isSelected,Rs(n));return _r((a,c)=>new bt(c.color,c.pos,c.text,!u),n)}case 13:return _r((u,a)=>new bt(a.color,a.pos,a.text,u===t.fields[0]),n);case 6:return _r((u,a)=>new bt(a.color,a.pos,a.text,!1),n);case 8:{const u=t.fields[0][2],a=t.fields[0][1],c=Io(Pv,a,u),f=Io(i0,a,u),d=c,g=w=>d.x<=w.x&&d.y<=w.y&&w.x<=f.x?w.y<=f.y:!1;return _r((w,v)=>new bt(v.color,v.pos,v.text,t.fields[0][0]&&v.isSelected?!0:g(v.pos)),n)}case 15:{const u=t.fields[0][3]|0,a=t.fields[0][2],c=Ls(_p,Ia(t.fields[0][1]),n),f=a!=null?e1((r=Yc(l(a)),new bt(r.color,r.pos,r.text,!0)),Ag(c)):c,d=fs(g=>g.data.isSelected,Rs(f));return Og(fs(g=>g.pre!==g.post,t.fields[0][0].tag===1?fe(g=>ma(void 0,[u,g.nodeId],u,g.nodeId),d):fe(g=>ma(void 0,[g.nodeId,u],g.nodeId,u),d)),f)}case 16:{const u=t.fields[0][2],a=Ls(_p,Ia(t.fields[0][1]),n),c=u!=null?e1((s=Yc(l(u)),new bt(s.color,s.pos,s.text,!0)),Ag(a)):a,f=fw(c)|0,d=im(new ld(f,Yc(l(t.fields[0][3]))),c),g=fs(w=>w.data.isSelected,Rs(d));return Og(fs(w=>w.pre!==w.post,t.fields[0][0].tag===1?fe(w=>ma(void 0,[f,w.nodeId],f,w.nodeId),g):fe(w=>ma(void 0,[w.nodeId,f],w.nodeId,f),g)),d)}default:{const u=t.fields[0][1];return e1((i=Yc(l(u??o??new M(0,0))),new bt(i.color,i.pos,i.text,t.fields[0][0])),n)}}}function GI(e,t){let n,r,s,i,o,l,u,a,c,f;switch(e.tag){case 2:{let d;const g=e.fields[0][1]/500;return d=Math.pow(2,g),d>1e-13?new Ol((n=(r=t.viewPosition,s=d,new M(r.x*s,r.y*s)),i=(o=e.fields[0][0],l=1-d,new M(o.x*l,o.y*l)),new M(n.x+i.x,n.y+i.y)),t.viewSize,t.viewScale*d):t}case 4:return new Ol(t.viewPosition,e.fields[0],t.viewScale);case 3:throw new Error("Not Implemented");case 1:return new Ol(e.fields[0],t.viewSize,t.viewScale);default:return new Ol((u=t.viewPosition,a=(c=e.fields[0],f=t.viewScale,new M(c.x*f,c.y*f)),new M(u.x+a.x,u.y+a.y)),t.viewSize,t.viewScale)}}function pm(e,t,n){return t.tag===1?new Gi(n.graph,GI(t.fields[0],n.viewBoxData)):new Gi(LI(e,t.fields[0],n.graph),n.viewBoxData)}function AI(e,t){switch(t.mode.tag){case 3:return R();case 0:{const r=e.target.targetType;switch(r.tag){case 0:{const s=r.fields[0]|0,i=e.button.button|0;let o;if(e.pointerEvent.tag===0)switch(i){case 0:{o=0;break}case 2:{o=1;break}default:o=2}else o=2;switch(o){case 0:return e.button.shift?D(Fr(new Jt(12,[s]))):e.button.ctrl?D(new Ie(28,[[void 0,s]])):D(Fr(new Jt(13,[s])));case 1:return D(Fr(new Jt(9,[s])));default:return R()}}case 1:{let s;switch(e.pointerEvent.tag===0&&e.button.button===2?s=0:s=1,s){case 0:return D(Fr(new Jt(10,[r.fields[0]])));default:return R()}}case 2:{const s=e.pointerEvent,i=e.button.button|0;let o;switch(s.tag){case 0:{switch(i){case 0:{o=0;break}case 2:{o=1;break}default:o=3}break}case 1:{i===0?o=2:o=3;break}default:o=3}switch(o){case 0:return e.button.ctrl?D(Fr(new Jt(0,[[!1,e.target.position]]))):R();case 1:return D(Fr(new Jt(14,[])));case 2:return D(Fr(new Jt(0,[[!0,e.target.position]])));default:return R()}}default:return R()}}default:return R()}}function BI(e,t){let n;const r=e.dragData.dragTo.position,s=e.target.position;n=new M(r.x-s.x,r.y-s.y);const i=e.modeType;switch(i.tag){case 1:return D(new rs(0,[new Jt(3,[n])]));case 2:return D(new rs(1,[new Ic(0,[n])]));case 3:return D(new rs(0,[new Jt(8,[[Kr("Shift",t.keyDown),e.target.position,e.dragData.dragTo.position]])]));case 4:{const o=i.fields[0][0],l=i.fields[0][2],u=i.fields[0][1],a=e.dragData.dragTo.targetType;return a.tag===0?D(new rs(0,[new Jt(15,[[o,l,u,a.fields[0]]])])):D(new rs(0,[new Jt(16,[[o,l,u,e.dragData.dragTo.position]])]))}default:{const o=i.fields[0]|0,l=e.dragData.dragTo.targetType;return l.tag===0?o!==l.fields[0]?D(new rs(0,[new Jt(2,[[o,n]])])):D(new rs(0,[new Jt(2,[[o,n]])])):D(new rs(0,[new Jt(2,[[o,n]])]))}}}function UI(e,t){let n,r,s,i,o,l,u,a,c,f,d,g;const w=new ad(new Cu((n=e.target.targetType,r=t.targetType,n.tag===3?te(r)?n:K(r):n),e.target.position),e.event,e.rawEvent,e.button,e.timeStamp),v=t.mode;if(v.tag===3){const _=v.fields[0];switch(w.event.tag){case 0:switch(w.button.button){case 0:return[t,(s=new Ie(1,[new Ns(2,[[_,w.rawEvent.timeStamp]])]),D(p=>{p(s)}))];case 2:return[t,D(p=>{p(new Ie(1,[new Ns(3,[_])]))})];default:return[t,ne()]}case 1:{const p=_.button;return p!=null?p.button===w.button.button?[t,(i=new Ie(1,[new Ns(2,[[_,w.rawEvent.timeStamp]])]),D($=>{$(i)}))]:[t,ne()]:[t,ne()]}case 3:return t.mode.tag===3?[t,(o=new Ie(1,[new Ns(1,[[_,new Vl(w.target,w.timeStamp)]])]),D(p=>{p(o)}))]:[t,ne()];default:return[t,ne()]}}else switch(w.event.tag){case 0:{const h=w.target.targetType,p=w.button.button|0;let $,C;switch(h.tag){case 0:{switch(p){case 0:{$=0,C=h.fields[0];break}case 2:{$=2;break}default:$=3}break}case 2:{switch(p){case 0:{$=1;break}case 2:{$=2;break}default:$=3}break}default:p===2?$=2:$=3}switch($){case 0:return[t,en(D((l=new Ie(1,[new Ns(0,[[new Xl(4,[[new v0(0,[]),void 0,C]]),new Vl(w.target,w.timeStamp),w.button]])]),D(k=>{k(l)}))))];case 1:return[t,en(D((u=new Ie(1,[new Ns(0,[[new Xl(4,[[new v0(0,[]),w.target.position,void 0]]),new Vl(w.target,w.timeStamp),w.button]])]),D(k=>{k(u)}))))];case 2:return[t,(a=new Ie(1,[new Ns(0,[[new Xl(3,[]),new Vl(w.target,w.timeStamp),w.button]])]),D(k=>{k(a)}))];default:return[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,Pt(w.button.button,w.target,t.mouseDown),t.keyDown,t.pastPointerEvents,t.log),ne()]}}case 1:{const h=Zt(w.button.button,t.mouseDown);if(h==null)return[t,ne()];{const p=h,$=new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,Sr(w.button.button,t.mouseDown),t.keyDown,t.pastPointerEvents,t.log);return ee(p.targetType,w.target.targetType)?[$,(c=new Ie(5,[new eu(0,[new m0(new Cu((f=w.target.targetType,d=t.targetType,f.tag===3?te(d)?f:K(d):f),w.target.position),new _0(0,[]),w.button,w.timeStamp)])]),D(C=>{C(c)}))]:[$,ne()]}}case 2:return[t,(g=new Ie(5,[new eu(0,[new m0(w.target,new _0(0,[]),w.button,w.timeStamp)])]),D(h=>{h(g)}))];default:return[t,ne()]}}function bI(e,t){switch(t.mode.tag){case 0:return K1(t.keySetting.defaultMode,e);case 1:return K1(Yh(Jh(D(["Enter",new Ie(30,[])]))),e);default:return R()}}function hm(e,t){if(e.tag===1)return[t,he(DI,BI(e.fields[0],t))];{const n=e.fields[0];return[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,D([n,t.redoUndo]),t.log),AI(n,t)]}}function jI(e,t){if(e.tag===0)return oe(n=>[e,n.current],od(t.redoUndo));{const n=ow(e.fields[0],t.redoUndo);return n!=null?[e,n.current]:void 0}}function wm(e,t){let n,r,s,i,o,l,u,a;switch(e.tag){case 0:{const f=nn((d,g)=>pm(new dm(t.mousePosition,t.snapMode,t.snapGrid),g,d),t.editorData,e.fields[0]);a=[new be(f,t.mode,t.snapMode,t.snapGrid,tp(f,t.redoUndo),t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 2:{const f=UI(e.fields[0],t);a=[f[0],f[1]];break}case 3:{const f=e.fields[0],d=bI(f,t);a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,Fu(f.key,t.keyDown),t.pastPointerEvents,t.log),en(he(g=>D(w=>{w(g)}),d))];break}case 4:{a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,Vi(e.fields[0].key,t.keyDown),t.pastPointerEvents,t.log),ne()];break}case 5:{const f=e.fields[0];Te(L("abstract: %O"))(f);const d=hm(f,t);a=[d[0],en(he(g=>D(w=>{w(g)}),d[1]))];break}case 11:{const f=ln(t.editorData,mt(Fg()));Te(L("save")),Te(L("%O"))(f),Xc("graph",f),a=[t,ne()];break}case 12:{let f;const d=Xd("graph");try{f=new Be(0,[(n=Nf(d),n!=null?Yd(n,mt(Fg())):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})())])}catch(g){f=new Be(1,[g.message])}if(f.tag===0){const g=f.fields[0];a=[new be(g,t.mode,t.snapMode,t.snapGrid,tp(g,t.redoUndo),t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}else a=[t,ne()];break}case 13:{const f=ow(e.fields[0],t.redoUndo);if(f!=null){const d=f;a=[new be(d.current,t.mode,t.snapMode,t.snapGrid,d,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),(r=t.mode,r.tag===2?D(g=>{g(new Ie(17,[r.fields[0][0]]))}):ne())]}else a=[t,ne()];break}case 14:{const f=od(t.redoUndo);if(f==null)a=[t,ne()];else{const d=f;a=[new be(d.current,t.mode,t.snapMode,t.snapGrid,d,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),(s=t.mode,s.tag===2?D(g=>{g(new Ie(17,[s.fields[0][0]]))}):ne())]}break}case 6:{a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,e.fields[0],t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 7:{const f=t.svg;a=f!=null?[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,hs(f,e.fields[0]),t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 16:{const f=t.mousePosition;let d,g;switch(f!=null&&t.mode.tag===0?(d=0,g=f):d=1,d){case 0:{a=[t,(i=new Ie(1,[new Ns(0,[[e.fields[0][0],new Vl(new Cu(new br(3,[]),g),0),e.fields[0][1]]])]),D(w=>{w(i)}))];break}default:a=[t,ne()]}break}case 15:{const f=ci(g=>{let w,v,_,h;switch(g.tag){case 7:case 2:case 6:case 15:case 5:{w=0;break}case 1:{switch(g.fields[0].tag){case 1:{w=0;break}case 0:{w=1,v=g.fields[0].fields[0][1];break}case 2:{w=2,_=g.fields[0].fields[0][0];break}default:w=4}break}case 0:{w=3,h=g.fields[0];break}default:w=4}switch(w){case 0:return;case 1:return Ge(L("dragStart %O"))(v.dragTo.targetType);case 2:return Ge(L("dragend %O"))(_.dragData.dragTo.targetType);case 3:return Se(`
`,ci(p=>{let $,C;if(p.tag===0){const k=p.fields[0];switch(k.tag){case 16:return $=!ee(k.fields[0][2],void 0),Ge(L("addEdgesAndANode %O"))($);case 15:return C=!ee(k.fields[0][2],void 0),Ge(L("addEdges: %O %O"))(C)(k.fields[0][3]);case 8:return;case 5:return;case 13:return;default:return Ge(L("%O"))(k)}}else return},h));default:return}},t.log);Te(L("%O"))(f);const d=_r((g,w)=>{},t.editorData.graph);Te(L("%O"))(d),a=[t,ne()];break}case 17:{const f=jI(e.fields[0],t),d=t.mode;let g,w;if(f!=null)switch(d.tag){case 0:{g=0,w=f;break}case 2:{g=0,w=f;break}default:g=1}else g=1;switch(g){case 0:{a=[new be(t.editorData,new Gn(2,[w]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}default:a=[new be(t.editorData,new Gn(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}break}case 18:{a=[new be(t.editorData,new Gn(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 19:{Xc("copy.graph",ln([e.fields[0],Rg(Ya(Qa(f=>{if(f.data.isSelected)return f.nodeId},Rs(t.editorData.graph)),{Compare:wn}),t.editorData.graph)],mt(Tt(Ct(et),Of(qe,Tt(qe,qe),Rf(),Cf))))),a=[t,ne()];break}case 21:{Xc("copy.graph",ln([e.fields[0],Rg(Ya(Qa(f=>{if(f.data.isSelected)return f.nodeId},Rs(t.editorData.graph)),{Compare:wn}),t.editorData.graph)],mt(Tt(Ct(et),Of(qe,Tt(qe,qe),Rf(),Cf))))),a=[new be(new Gi(cI((f,d)=>!d.node.isSelected,t.editorData.graph),t.editorData.viewBoxData),t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 20:{let f;const d=Xd("copy.graph");try{f=new Be(0,[(o=Nf(d),o!=null?Yd(o,mt(Tt(Ct(et),Of(qe,Tt(qe,qe),Rf(),Cf)))):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})())])}catch(g){f=new Be(1,[g.message])}if(f.tag===1)Te(L("parsefailed: %O"))(f.fields[0]),a=[t,ne()];else{const g=_r((_,h)=>new bt(h.color,h.pos,h.text,!1),t.editorData.graph),w=_r((_,h)=>{let p,$,C,k;return new bt(h.color,(p=($=h.pos,C=e.fields[0],new M($.x+C.x,$.y+C.y)),k=f.fields[0][0],new M(p.x-k.x,p.y-k.y)),h.text,!0)},f.fields[0][1]),v=fw(g)|0;a=[new be(new Gi(hI(_=>_+v,_=>_,w,g).graph,t.editorData.viewBoxData),t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}break}case 23:{const f=t.mode;if(f.tag===4){const d=f.fields[0];Xc("graph.keyconfig",ln(d,mt(R1(Tt(Z1(),gp()))))),a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,d,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}else a=[t,ne()];break}case 24:{let f;const d=Xd("graph.keyconfig");try{f=new Be(0,[(l=Nf(d),l!=null?Yd(l,mt(R1(Tt(Z1(),gp())))):(()=>{throw new Error("Couldn't parse the input JSON string because it seems to be invalid")})())])}catch(g){f=new Be(1,[g.message])}f.tag===1?(Te(L("load keyconfig failed: %O"))(f.fields[0]),a=[t,ne()]):a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,f.fields[0],t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 22:{const f=t.mode;a=f.tag===4?[new be(t.editorData,new Gn(4,[ti(Pt(e.fields[0][0],e.fields[0][1],ls(f.fields[0],{Compare:Me})))]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 25:{a=t.mode.tag===0?[new be(t.editorData,new Gn(4,[t.keyConfig]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 26:{const f=t.mode;a=f.tag===0?[new be(t.editorData,new Gn(4,[t.keyConfig]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:f.tag===4?[new be(t.editorData,new Gn(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 27:{const f=t.pastPointerEvents;if(te(f))a=[t,ne()];else{const d=K(f)[1];a=[new be(d.current,t.mode,t.snapMode,t.snapGrid,d,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,z(f),t.log),ne()]}break}case 28:{const f=e.fields[0][0],d=e.fields[0][1];let g;if(d!=null){const w=d|0,v=Ro(t.editorData.graph,w);g=v!=null?v.data.isSelected?t.editorData.graph:_p(w,t.editorData.graph):t.editorData.graph}else g=t.editorData.graph;if(t.mode.tag===0){let w;const v=Lk(_=>Ro(t.editorData.graph,_),d);w=v!=null?v.data.text:"",a=[new be(new Gi(g,t.editorData.viewBoxData),new Gn(1,[[f??(d!=null?Rh(oe(_=>_.data.pos,Ro(t.editorData.graph,d)),Gg(t)):Gg(t)),w]]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]}else a=[t,ne()];break}case 30:{const f=t.mode;a=f.tag===1?[new be(new Gi(_r((d,g)=>g.isSelected?new bt(g.color,g.pos,f.fields[0][1],g.isSelected):g,t.editorData.graph),t.editorData.viewBoxData),new Gn(0,[]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 29:{const f=t.mode;a=f.tag===1?[new be(t.editorData,new Gn(1,[[f.fields[0][0],e.fields[0]]]),t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()]:[t,ne()];break}case 8:{a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,xe(e.fields[0],t.targetType),t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 9:{a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,(u=t.targetType,te(u)?R():z(u)),t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 10:{a=[new be(t.editorData,t.mode,t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,R(),t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}case 31:{a=[new be(t.editorData,t.mode,!t.snapMode,t.snapGrid,t.redoUndo,t.svg,t.mousePosition,t.targetType,t.keyConfig,t.keySetting,t.mouseDown,t.keyDown,t.pastPointerEvents,t.log),ne()];break}default:{const f=fm(e.fields[0],t);a=[f[0],en(he(d=>D(g=>{g(new Ie(5,[d]))}),f[1]))]}}const c=a[0];return[new be(c.editorData,c.mode,c.snapMode,c.snapGrid,c.redoUndo,c.svg,c.mousePosition,c.targetType,c.keyConfig,c.keySetting,c.mouseDown,c.keyDown,c.pastPointerEvents,xe(e,c.log)),a[1]]}function HI(e,t){try{return wm(e,t)}catch(n){return Te(L("failed: %O"))(e),Te(L("log: %O"))(t.log),Te(L("error: %O"))(n),[t,ne()]}}function t1(e,t,n,r,s){return r(new Ie(2,[new ad(new Cu(n,hs(Gs(s.target),new M(s.clientX,s.clientY))),t,s,new dw(~~s.button,s.ctrlKey,s.altKey,s.shiftKey),s.timeStamp)]))}function n1(e,t,n){return Q(m(()=>E(S(["onPointerMove",r=>{t1(e,new Na(3,[]),t,n,r)}]),m(()=>E((e.mode.tag===3,Fe()),m(()=>E(S(["onPointerEnter",r=>{Te(L("enter")),n(new Ie(8,[t]))}]),m(()=>E(S(["onPointerOut",r=>{n(new Ie(9,[]))}]),m(()=>E(S(["onPointerDown",r=>{const s=r.target,i=r.target.hasPointerCapture(r.pointerId);Te(L("hasPointerCapture %O"))(i),s.releasePointerCapture(r.pointerId),Te(L("%O"))();const o=r.target.hasPointerCapture(r.pointerId);Te(L("hasPointerCapture %O"))(o),t1(e,new Na(0,[]),t,n,r)}]),m(()=>S(["onPointerUp",r=>{const s=r.target.hasPointerCapture(r.pointerId);Te(L("hasPointerCapture %O"))(s),n(new Ie(10,[])),t1(e,new Na(1,[]),t,n,r)}])))))))))))))}function WI(e){const t=du(e,[" "],void 0,0);let n;switch(!Sf((r,s)=>r===s,t,gn())&&t.length===1?J(0,t)==="Background"?n=0:n=3:!Sf((r,s)=>r===s,t,gn())&&t.length===2?J(0,t)==="Node"?n=1:J(0,t)==="Edge"?n=2:n=3:n=3,n){case 0:return new br(2,[]);case 1:return new br(0,[Rr(J(1,t),511,!1,32)]);case 2:{const r=J(1,t),s=du(r.slice(1,0),[","],void 0,0);if(!Sf((i,o)=>i===o,s,gn())&&s.length===2){const i=J(1,s);return new br(1,[[Rr(J(0,s),511,!1,32),Rr(i,511,!1,32)]])}else return new br(3,[])}default:return new br(3,[])}}function ZI(e){switch(e.tag){case 1:return"EditNodeData";case 2:return"Preview";case 3:switch(e.fields[0].modeType.tag){case 1:return"MoveSelected";case 2:return"MoveViewBox";case 3:return"SelectRect";case 4:return"AddEdges";default:return"DragNode"}case 4:return"EditKeyConfig";default:return"Default"}}function KI(e){let t;const n=e.dispatch,r=e.model,s=Pg(),i=Pg(),o=sI(()=>[new M(0,0),new M(0,0),1]);return iI(()=>{const l=s.current;l!=null&&Ff("wheel",a=>{a.preventDefault()},{passive:!1},l);const u=i.current;if(u!=null){const a=u,c=[yp(r),Ca(r),vp(r)];Wa(o[0],c)||(o[1](c),n(new Ie(6,[Gs(a)])))}}),H.createElement("div",tt(Y([["ref",s],(t=Q(m(()=>E(S(H.createElement("button",{children:"keyConfig",onClick:l=>{n(new Ie(26,[]))}})),m(()=>E(S(H.createElement("button",{children:r.snapMode?"snap":"----",onClick:l=>{n(new Ie(31,[]))}})),m(()=>E(S(H.createElement("button",{children:"undo",onClick:l=>{n(new Ie(14,[]))},onPointerOver:l=>{n(new Ie(17,[new $p(0,[])]))},onPointerLeave:l=>{n(new Ie(18,[]))}})),m(()=>E(Ut(l=>{const u=l[0]|0;return S(H.createElement("button",{children:Ge(L("redo %O"))(u),onClick:a=>{n(new Ie(13,[u]))},onPointerOver:a=>{n(new Ie(17,[new $p(1,[u])]))},onPointerLeave:a=>{n(new Ie(18,[]))}}))},jv(F_(r.redoUndo.redoData))),m(()=>E(S(ZI(r.mode)),m(()=>{let l;return S((l=Q(m(()=>E(S(H.createElement("svg",tt(Q(m(()=>E(S(["className",Se(" ",["graph-editor","pointer-events-none"])]),m(()=>E(S(["ref",i]),m(()=>E(S(["width",Ca(r).x]),m(()=>E(S(["height",Ca(r).y]),m(()=>{let u;const a=Ca(r),c=vp(r);u=new M(a.x*c,a.y*c);const f=yp(r),d=D$(w=>~~w,f),g=D$(w=>~~w,u);return E(S(["viewBox",d.x+" "+d.y+" "+g.x+" "+g.y]),m(()=>E(S(["onWheel",w=>{let v;const _=hs(Gs(w.target),new M(w.clientX,w.clientY));w.ctrlKey?n((v=[_,w.deltaY],NI(v[0],v[1]))):n(VI(w.shiftKey?new M(w.deltaY,w.deltaX):new M(w.deltaX,w.deltaY)))}]),m(()=>{let w;return S((w=Q(m(()=>E(S(H.createElement("rect",tt(Q(m(()=>E(S(["className",Se(" ",["pointer-events-painted"])]),m(()=>E(S(["width",u.x]),m(()=>E(S(["height",u.y]),m(()=>E(S(["x",d.x]),m(()=>E(S(["y",d.y]),m(()=>E(S(["id","Background"]),m(()=>n1(r,new br(2,[]),n)))))))))))))))))),m(()=>{let v;return E(r.snapMode?S(H.createElement("g",tt(Y([["strokeWidth",1],["stroke","gray"],(v=Q(m(()=>{let _,h;const p=Io((C,k)=>~~(C/k),f,r.snapGrid),$=Io((C,k)=>~~(C/k),(_=f,h=u,new M(_.x+h.x,_.y+h.y)),r.snapGrid);return E(fe(C=>{let k,I;return H.createElement("line",{y1:f.y,y2:(k=f,I=u,new M(k.x+I.x,k.y+I.y)).y,x1:C*r.snapGrid.x,x2:C*r.snapGrid.x})},Q(Q1(p.x,1,$.x))),m(()=>fe(C=>{let k,I;return H.createElement("line",{x1:f.x,x2:(k=f,I=u,new M(k.x+I.x,k.y+I.y)).x,y1:C*r.snapGrid.y,y2:C*r.snapGrid.y})},Q(Q1(p.y,1,$.y)))))})),["children",Re.Children.toArray(Array.from(v))])])))):Fe(),m(()=>{let _,h,p,$,C;const k=r.mode;switch(k.tag){case 2:{C=k.fields[0][1];break}case 3:{const I=k.fields[0],P=fm(new Ns(2,[[I,I.dragData.timeStamp]]),r),N=nn((V,A)=>{const j=hm(A,V[0]);return[j[0],xe(j[1],V[1])]},[P[0],R()],P[1]),U=N[0];C=nn((V,A)=>pm(new dm(U.mousePosition,U.snapMode,U.snapGrid),A,V),U.editorData,Ko(ci(V=>{if(V.tag===0)return V.fields[0]},Ko(N[1]))));break}default:C=r.editorData}return E(S((_=I=>I.pos,h=C.graph,p=($=h,Q(m(()=>E(ps(fe(I=>{const P=_,N=h,U=I,V=oe(O=>P(Jc(O)),Ro(N,U.pre)),A=oe(O=>P(Jc(O)),Ro(N,U.post));let j,B,ie,b,X;switch(V!=null&&A!=null?(j=0,B=V,ie=A):(j=1,b=V,X=A),j){case 0:{const O=N$(new M(ie.x-B.x,ie.y-B.y));if(O!=null){const T=O,q=new M(B.x+T.x*20,B.y+T.y*20),re=new M(ie.x-T.x*20,ie.y-T.y*20);return Y([H.createElement("line",{x1:q.x,x2:re.x,y1:q.y,y2:re.y,stroke:"none",strokeWidth:10,className:Se(" ",["pointer-event-all"])}),zg(10,20,q,re,Q(m(()=>E(S(["fill","black"]),m(()=>E(S(["stroke","black"]),m(()=>E(S(["strokeWidth",3]),m(()=>[["className",Se(" ",["pointer-events-none","edge"])],["stroke","purple"]])))))))))])}else return R()}default:{const O=Q(m(()=>E(ee(b,void 0)?S(U.pre):Fe(),m(()=>ee(X,void 0)?S(U.post):Fe()))));return console.error(ht(Ge(L("node %O not found (in view edge)"))(O))),R()}}},Vg($))),m(()=>fe(I=>{const P=I,N=_(P.data);return H.createElement("circle",tt(Q(m(()=>E(S(["r",20]),m(()=>E(S(["fill","gray"]),m(()=>E(S(["cx",N.x]),m(()=>E(S(["cy",N.y]),m(()=>{let U;return U=P,Q(m(()=>E(S(["fill",U.data.color]),m(()=>S(["className",Se(" ",Q(m(()=>E(S("pointer-events-none"),m(()=>E(S("node"),m(()=>U.data.isSelected?S("selected"):Fe())))))))])))))}))))))))))))},Rs($))))))),H.createElement("g",{children:Re.Children.toArray(Array.from(p))}))),m(()=>E(fe(I=>H.createElement("text",{children:I.data.text,x:I.data.pos.x,y:I.data.pos.y,className:Se(" ",["node-data","pointer-events-none"])}),Rs(C.graph)),m(()=>{let I,P,N,U;return E(S((I=V=>V.pos,P=r.editorData.graph,N=(U=P,Q(m(()=>E(ps(fe(V=>{const A=I,j=P,B=V,ie=oe(_e=>A(Jc(_e)),Ro(j,B.pre)),b=oe(_e=>A(Jc(_e)),Ro(j,B.post));let X,O,T,q,re;switch(ie!=null&&b!=null?(X=0,O=ie,T=b):(X=1,q=ie,re=b),X){case 0:{const _e=N$(new M(T.x-O.x,T.y-O.y));if(_e!=null){const ge=_e,Ye=new M(O.x+ge.x*20,O.y+ge.y*20),ut=new M(T.x-ge.x*20,T.y-ge.y*20);return Y([H.createElement("line",{x1:Ye.x,x2:ut.x,y1:Ye.y,y2:ut.y,stroke:"none",strokeWidth:10,className:Se(" ",["pointer-event-all"])}),zg(10,20,Ye,ut,Q(m(()=>E(S(["fill","black"]),m(()=>E(S(["stroke","black"]),m(()=>E(S(["strokeWidth",3]),m(()=>{let xt;return xt=B,Q(m(()=>E(S(["className",Se(" ",["pointer-events-all"])]),m(()=>E(S(["stroke","none"]),m(()=>E(S(["fill","none"]),m(()=>E(S(["id",`Edge ${xt.edgeId}`]),m(()=>n1(r,new br(1,[xt.edgeId]),n)))))))))))})))))))))])}else return R()}default:{const _e=Q(m(()=>E(ee(q,void 0)?S(B.pre):Fe(),m(()=>ee(re,void 0)?S(B.post):Fe()))));return console.error(ht(Ge(L("node %O not found (in view edge)"))(_e))),R()}}},Vg(U))),m(()=>fe(V=>{const A=V,j=I(A.data);return H.createElement("circle",tt(Q(m(()=>E(S(["r",20]),m(()=>E(S(["fill","gray"]),m(()=>E(S(["cx",j.x]),m(()=>E(S(["cy",j.y]),m(()=>{let B;return B=A,Q(m(()=>E(S(["className",Se(" ",["pointer-events-all"])]),m(()=>E(n1(r,new br(0,[B.nodeId]),n),m(()=>E(S(["fill","none"]),m(()=>E(S(["stroke","none"]),m(()=>S(["id",`Node ${B.nodeId}`])))))))))))}))))))))))))},Rs(U))))))),H.createElement("g",{children:Re.Children.toArray(Array.from(N))}))),m(()=>{const V=r.mode;if(V.tag===3){const A=V.fields[0];if(A.modeType.tag===3){const j=Io(Pv,A.target.position,A.dragData.dragTo.position),B=j;let ie;const b=Io(i0,A.target.position,A.dragData.dragTo.position),X=j;return ie=new M(b.x-X.x,b.y-X.y),S(H.createElement("rect",{className:Se(" ",["pointer-events-none"]),x:B.x,y:B.y,width:ie.x,height:ie.y,stroke:"black",fill:"none",strokeWidth:2}))}else return Fe()}else return Fe()}))}))))}))})))),["children",Re.Children.toArray(Array.from(w))]))}))))}))))))))))))),m(()=>{let u;const a=r.mode;switch(a.tag){case 4:return S(H.createElement("div",tt(Y([["className",Se(" ",["keyconfig-editor"])],(u=Q(m(()=>Ut(c=>{let f,d,g;const w=c[0];return S((f=Y([H.createElement("button",{children:Se(" ",Q(m(()=>E(w.ctrl?S("ctrl"):Fe(),m(()=>E(w.alt?S("alt"):Fe(),m(()=>E(w.shift?S("shift"):Fe(),m(()=>S(w.key))))))))))}),H.createElement("button",{children:(d=c[1],d.tag===0?Ph(d.fields[0]):d.tag===16?(g=d.fields[0][0],g.tag===0?"Start Drag-Node Mode":g.tag===1?"Start Move-Selected Mode":g.tag===2?"Start Move-ViewBox Mode":g.tag===3?"Start Select-Rect Mode":"Start Add-Edge Mode"):d.tag===28?"Start Edit-Node-Data Mode":d.tag===19?"Copy":d.tag===21?"Cut":d.tag===20?"Paste":je(d))})]),H.createElement("div",{children:Re.Children.toArray(Array.from(f))})))},a.fields[0]))),["children",Re.Children.toArray(Array.from(u))])]))));case 1:{const c=r.svg;if(c==null)return Fe();{const f=QE(c,a.fields[0][0]);return S(H.createElement("textarea",{className:Se(" ",["node-data-editor"]),autoFocus:!0,style:{left:~~f.x,top:~~f.y},value:a.fields[0][1],onChange:d=>{n(new Ie(29,[d.target.value]))},width:100,height:100}))}}default:return Fe()}})))),H.createElement("div",{children:Re.Children.toArray(Array.from(l))})))})))))))))))),["children",Re.Children.toArray(Array.from(t))])])))}function $m(e,t){try{return H.createElement(KI,{model:e,dispatch:t})}catch(n){return Te(L("model")),Te(L("%O"))(e),Te(L("log")),Te(L("%O"))(e.log),Te(L("error")),Te(L("%O"))(n),H.createElement("div",{})}}function qI(e){return t=>{const n=r=>{const s=r;if(t(new Ie(7,[new M(s.clientX,s.clientY)])),!ee(s.pointerType,"mouse")){let i;try{const o=s.target;i=WI(o.id)}catch{i=new br(3,[])}t(new Ie(2,[new ad(new Cu(new br(3,[]),hs(e,new M(s.clientX,s.clientY))),new Na(3,[]),s,new dw(~~s.button,s.ctrlKey,s.altKey,s.shiftKey),s.timeStamp)]))}};return document.addEventListener("pointermove",n),{Dispose(){document.removeEventListener("pointermove",n)}}}}function Bg(e){return t=>{const n=r=>{const s=r;s.key!=="F12"&&s.key!=="F5"&&e&&s.preventDefault(),t(new Ie(3,[s]))};return document.addEventListener("keydown",n),{Dispose(){document.removeEventListener("keydown",n)}}}}function QI(e){return t=>{const n=r=>{t(new Ie(4,[r]))};return document.addEventListener("keyup",n),{Dispose(){document.removeEventListener("keyup",n)}}}}const JI=e=>{const t=n=>{e(hw(new Ic(4,[am()])))};return window.addEventListener("resize",t),{Dispose(){window.removeEventListener("resize",t)}}};function YI(){return e=>{document.oncontextmenu=n=>{n.preventDefault()},window.oncontextmenu=n=>{n.preventDefault()};const t=n=>{n.preventDefault()};return Ff("touchmove",t,{passive:!1},window),Ff("pointermove",t,{passive:!1},document),Ff("wheel",t,{passive:!1},window),{Dispose(){document.oncontextmenu=n=>{},window.oncontextmenu=n=>{},window.removeEventListener("touchmove",t),document.removeEventListener("pointermove",t),window.removeEventListener("wheel",t)}}}}function gm(e){return Q(m(()=>E(S([D("event"),YI()]),m(()=>E(e.mode.tag===1?S([D("editNodeDataMode-keydown"),Bg(!1)]):S([D("keydown"),Bg(!0)]),m(()=>E(S([D("keyup"),QI()]),m(()=>E(S([D("resize"),JI]),m(()=>{const t=e.svg;if(t!=null){const n=t;return S([D(Ge(L("mousemove: %O"))(e.targetType)),qI(n)])}else return Fe()}))))))))))}E_(gm,tw(cm,HI,$m));function Pc(e,t){return je(e)===je(t)}function Dc(e,t){return wn(je(e),je(t))}function Nc(e){return vc(je(e))}class XI extends de{constructor(t){super(),this.id=t}Equals(t){return Pc(this.id,t.id)}GetHashCode(){return Nc(this.id)|0}CompareTo(t){return Dc(this.id,t.id)|0}}class ww extends de{constructor(t,n){super(),this.data=t,this.id=n}}class mp extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["ZeroPath"]}Equals(t){return Pc(this,t)}GetHashCode(){return Nc(this)|0}CompareTo(t){return Dc(this,t)|0}}function Ug(e,t){return ee(t.fields[0],e)}class e4 extends de{constructor(t){super(),this.id=t}Equals(t){return Pc(this.id,t.id)}GetHashCode(){return Nc(this.id)|0}CompareTo(t){return Dc(this.id,t.id)|0}}class $w extends de{constructor(t,n,r,s){super(),this.source=t,this.target=n,this.data=r,this.id=s}}class gw extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["IdentityOnePath","OnePath"]}Equals(t){return Pc(this,t)}GetHashCode(){return Nc(this)|0}CompareTo(t){return Dc(this,t)|0}}class t4 extends de{constructor(t){super(),this.id=t}Equals(t){return Pc(this.id,t.id)}GetHashCode(){return Nc(this.id)|0}CompareTo(t){return Dc(this.id,t.id)|0}}class yw extends de{constructor(t,n,r,s){super(),this.source=t,this.target=n,this.data=r,this.id=s}}class Tr extends de{constructor(t,n,r){super(),this.zeroCell=t,this.oneCell=n,this.twoCell=r}}class wi extends de{constructor(t){super(),this.environment=t}}class tu extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroCellId","OneCellId","TwoCellId"]}}function n4(e,t){return new ww(t,e)}function r4(e,t,n,r){return new $w(n,r,t,e)}function s4(e,t,n,r){return new yw(n,r,t,e)}function i4(){return new Tr(Lt({Compare:Me}),Lt({Compare:Me}),Lt({Compare:Me}))}function o4(e,t){return new Tr(Pt(e.id,e,t.zeroCell),t.oneCell,t.twoCell)}function l4(e,t){return new Tr(t.zeroCell,Pt(e.id,e,t.oneCell),t.twoCell)}function u4(e,t){return new Tr(t.zeroCell,t.oneCell,Pt(e.id,e,t.twoCell))}function Cp(e,t){return po(e,t.zeroCell)}function C0(e,t){return po(e,t.oneCell)}function a4(e,t){return new Tr(Sr(e,t.zeroCell),t.oneCell,t.twoCell)}function c4(e,t){return new Tr(t.zeroCell,Sr(e,t.oneCell),t.twoCell)}function f4(e,t){return new Tr(t.zeroCell,t.oneCell,Sr(e,t.twoCell))}function ym(e){return di(e.oneCell)}function d4(e){return di(e.zeroCell)}function vm(e){return di(e.twoCell)}function p4(e,t,n){return new Tr(xr(e,r=>oe(t,r),n.zeroCell),n.oneCell,n.twoCell)}function h4(e,t,n){return new Tr(n.zeroCell,xr(e,r=>oe(t,r),n.oneCell),n.twoCell)}function w4(e,t,n){return new Tr(n.zeroCell,n.oneCell,xr(e,r=>oe(t,r),n.twoCell))}function $4(e,t){return new Tr(js(e,t.zeroCell),t.oneCell,t.twoCell)}function g4(e,t){return new Tr(t.zeroCell,js(e,t.oneCell),t.twoCell)}function y4(e,t){return new Tr(t.zeroCell,t.oneCell,js(e,t.twoCell))}function bg(e){return new gw(1,[[e,R()]])}function Sp(e,t){return e.tag===1?C0(e.fields[0][0],t).source:e.fields[0]}function kp(e,t){let n;return e.tag===1?C0((n=zh(e.fields[0][1]),n??e.fields[0][0]),t).target:e.fields[0]}function vw(e){return e.tag===1?xe(e.fields[0][0],e.fields[0][1]):R()}function v4(e,t){if(e.tag===1){const n=C0(e.fields[0][0],t);return[n.source,Q(m(()=>E(S(n.target),m(()=>Ut(r=>S(C0(r,t).target),e.fields[0][1])))))]}else return[e.fields[0],R()]}function jg(e,t){return nx(e,vw(t),{Equals:ee,GetHashCode:ji})}function _4(e,t,n){if(ee(kp(e,n),Sp(t,n)))return e.tag===1?new gw(1,[[e.fields[0][0],wu(e.fields[0][1],vw(t))]]):t}class Ai extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["IdExists","SourceNotMatch","TargetNotMatch","PolyGraphSuccess"]}}function m4(){return new wi(i4())}function C4(e,t,n){if(!Uo(e,n.environment.zeroCell))return new wi(o4(n4(e,t),n.environment))}function S4(e,t,n,r,s){if(Uo(e,s.environment.oneCell))return new Ai(0,[e.id]);{s.environment;const i=void 0,o=void 0;if(ee(i,o)){s.environment;const l=void 0,u=void 0;return ee(l,u)?new Ai(3,[new wi(l4(r4(e,t,n,r),s.environment))]):new Ai(2,[[l,u]])}else return new Ai(1,[[i,o]])}}function k4(e,t,n,r,s){if(Uo(e,s.environment.twoCell))return new Ai(0,[e.id]);{const i=s.environment,o=Sp(n,i),l=Sp(r,i);if(ee(o,l)){const u=s.environment,a=kp(n,u),c=kp(r,u);return ee(a,c)?new Ai(3,[new wi(u4(s4(e,t,n,r),u))]):new Ai(2,[[a,c]])}else return new Ai(1,[[o,l]])}}function _m(e,t){return new wi(f4(e,t.environment))}function x4(e,t){const n=new wi(c4(e,t.environment));return Ls(_m,fe(r=>r[0],fs(r=>{const s=r[1];return jg(e,s.source)?!0:jg(e,s.target)},vm(n.environment))),n)}function E4(e,t){const n=a4(e,t.environment);return fe(r=>r[0],fs(r=>{const s=r[1];return Ug(e,s.source)?!0:Ug(e,s.target)},ym(new wi(n).environment))),new wi(n)}function M4(e,t){switch(e.tag){case 1:return x4(e.fields[0],t);case 2:return _m(e.fields[0],t);default:return E4(e.fields[0],t)}}function Bu(e,t){return new wi(e(t.environment))}function mm(e,t,n){return Bu(r=>p4(e,s=>new ww(t(s.data),s.id),r),n)}function Cm(e,t,n){return Bu(r=>h4(e,s=>new $w(s.source,s.target,t(s.data),s.id),r),n)}function Sm(e,t,n){return Bu(r=>w4(e,s=>new yw(s.source,s.target,t(s.data),s.id),r),n)}function km(e,t){return Bu(n=>$4((r,s)=>new ww(e(s.data),s.id),n),t)}function T4(e,t){return Bu(n=>g4((r,s)=>new $w(s.source,s.target,e(s.data),s.id),n),t)}function I4(e,t){return Bu(n=>y4((r,s)=>new yw(s.source,s.target,e(s.data),s.id),n),t)}class Vc extends de{constructor(t,n,r){super(),this.position=t,this.name=n,this.isSelected=r}}function P4(e,t){return new Vc(t,e,!1)}class cd extends de{constructor(t,n){super(),this.name=t,this.isSelected=n}}function D4(e){return new cd(e,!1)}class fd extends de{constructor(t,n){super(),this.name=t,this.isSelected=n}}function N4(e){return new fd(e,!1)}let Va=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ZeroPath","OnePath"]}};function Hg(e){return e.tag===1?e.fields[0]:new gw(0,[e.fields[0]])}class dd extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Cell","Background"]}}function V4(e){return new dd(0,[new tu(0,[e])])}function O4(e){return new dd(0,[new tu(1,[e])])}function R4(e){return new dd(0,[new tu(2,[e])])}function z4(e,t){return I4(n=>new fd(n.name,e),T4(n=>new cd(n.name,e),km(n=>new Vc(n.position,n.name,e),t)))}function F4(e,t){switch(e.tag){case 1:return Cm(e.fields[0],n=>new cd(n.name,!0),t);case 2:return Sm(e.fields[0],n=>new fd(n.name,!0),t);default:return mm(e.fields[0],n=>new Vc(n.position,n.name,!0),t)}}function L4(e,t){switch(e.tag){case 1:return Cm(e.fields[0],n=>new cd(n.name,!n.isSelected),t);case 2:return Sm(e.fields[0],n=>new fd(n.name,!n.isSelected),t);default:return mm(e.fields[0],n=>new Vc(n.position,n.name,!n.isSelected),t)}}function G4(e,t){return km(n=>{let r,s;return n.isSelected?new Vc((r=n.position,s=e,new M(r.x+s.x,r.y+s.y)),n.name,n.isSelected):n},t)}let In=class extends de{constructor(t,n,r,s,i,o,l,u,a){super(),this.polyGraph=t,this.source=n,this.target=r,this.path=s,this.dragState=i,this.zeroCellR=o,this.currentZeroId=l|0,this.currentOneId=u|0,this.currentTwoId=a|0}};function A4(){return[new In(m4(),void 0,void 0,void 0,void 0,10,0,0,0),ne()]}class ef extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddZeroCell","AddOneCell","AddTwoCell","RemoveCells"]}}class Ln extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddZeroCellCommand","MoveZeroCellCommand","AddOneCellCommand","AddTwoCellCommand","AddCellCommand","RemoveCellCommand","ResetPath","AppendPath","AddSelectCellCommand","SelectCellCommand","SetSource","SetTarget"]}}let wt=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PolyGraphMsg","PolyGraphCommand","DragMsg","DragOutMsg","PrintModel","Error"]}};function B4(e,t){let n,r;switch(e.tag){case 2:{const s=e.fields[0],i=s.source.targetType,o=s.target.targetType;let l,u,a,c;switch(i.tag===0?i.fields[0].tag===0?o.tag===0&&o.fields[0].tag===0?(l=1,u=i.fields[0].fields[0],a=o.fields[0].fields[0]):(l=2,c=i.fields[0],i.fields[0].fields[0]):l=3:l=0,l){case 0:return R();case 1:return Y([new wt(1,[new Ln(10,[new Va(0,[new mp(u)])])]),new wt(1,[new Ln(11,[new Va(0,[new mp(a)])])]),new wt(1,[new Ln(2,[])])]);case 2:return Y([new wt(1,[new Ln(9,[c])]),new wt(1,[new Ln(1,[(n=s.target.position,r=s.source.position,new M(n.x-r.x,n.y-r.y))])])]);default:return R()}}case 1:return R();case 3:{const s=e.fields[0];if(s.event.button===2){const i=s.targetType;return i.tag===0?Y([new wt(1,[new Ln(9,[i.fields[0]])]),new wt(1,[new Ln(5,[])])]):R()}else{const i=s.targetType;if(i.tag===0){const o=i.fields[0];return s.event.shiftKey?Y([new wt(1,[new Ln(7,[o])]),new wt(1,[new Ln(8,[o])])]):Y([new wt(1,[new Ln(7,[o])]),new wt(1,[new Ln(9,[o])])])}else return D(new wt(1,[new Ln(0,[s.position])]))}}default:return R()}}function U4(e,t){switch(e.tag){case 1:{const n=S4(e.fields[0][0],e.fields[0][1],e.fields[0][2],e.fields[0][3],t);return n.tag===3?[n.fields[0],R()]:(Te(L("%O"))(n),[t,R()])}case 2:{const n=k4(e.fields[0][0],e.fields[0][1],e.fields[0][2],e.fields[0][3],t);return n.tag===3?[n.fields[0],R()]:(Te(L("%O"))(n),[t,R()])}case 3:return[Lr(M4,e.fields[0],t),R()];default:{const n=C4(e.fields[0][0],e.fields[0][1],t);return n!=null?[n,R()]:[t,R()]}}}function b4(e){return[au(e.currentOneId),new In(e.polyGraph,e.source,e.target,e.path,e.dragState,e.zeroCellR,e.currentZeroId,e.currentOneId+1,e.currentTwoId)]}function j4(e){return[au(e.currentZeroId),new In(e.polyGraph,e.source,e.target,e.path,e.dragState,e.zeroCellR,e.currentZeroId+1,e.currentOneId,e.currentTwoId)]}function H4(e){return[au(e.currentTwoId),new In(e.polyGraph,e.source,e.target,e.path,e.dragState,e.zeroCellR,e.currentZeroId,e.currentOneId,e.currentTwoId+1)]}function W4(e,t){let n,r,s,i,o,l,u,a,c,f;switch(e.tag){case 11:{const d=e.fields[0];return[new In(t.polyGraph,t.source,d??t.path,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()]}case 0:{const d=j4(t),g=d[0];return[d[1],D(new wt(0,[new ef(0,[[new XI(g),P4(g,e.fields[0])]])]))]}case 2:{const d=b4(t),g=d[1],w=d[0];return[g,(n=g.source,r=g.target,n!=null&&n.tag===0&&r!=null&&r.tag===0?(s=n.fields[0],i=r.fields[0],D(new wt(0,[new ef(1,[[new e4(w),D4(w),s,i]])]))):R())]}case 3:{const d=H4(t),g=d[1],w=d[0];return[g,(o=g.source,l=g.target,o!=null&&l!=null?(u=o,a=l,c=Hg(u),f=Hg(a),D(new wt(0,[new ef(2,[[new t4(w),N4(w),c,f]])]))):R())]}case 4:throw new Error("Not Implemented");case 5:return[t,D(new wt(0,[new ef(3,[Q(m(()=>E(Q(fe(d=>new tu(0,[d[0]]),fs(d=>d[1].data.isSelected,d4(t.polyGraph.environment)))),m(()=>E(Q(fe(d=>new tu(1,[d[0]]),fs(d=>d[1].data.isSelected,ym(t.polyGraph.environment)))),m(()=>Q(fe(d=>new tu(2,[d[0]]),fs(d=>d[1].data.isSelected,vm(t.polyGraph.environment))))))))))])]))];case 9:return[new In(F4(e.fields[0],z4(!1,t.polyGraph)),t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];case 8:return[new In(L4(e.fields[0],t.polyGraph),t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];case 6:return[new In(t.polyGraph,t.source,t.target,void 0,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];case 7:{const d=e.fields[0],g=t.path;let w,v,_,h,p;switch(d.tag){case 1:{g==null?(w=1,h=d.fields[0]):g.tag===1?(w=0,v=d.fields[0],_=g.fields[0]):w=3;break}case 0:{w=2,p=d.fields[0];break}default:w=3}switch(w){case 0:return[new In(t.polyGraph,t.source,t.target,oe($=>new Va(1,[$]),_4(_,bg(v),t.polyGraph.environment)),t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];case 1:return[new In(t.polyGraph,t.source,t.target,new Va(1,[bg(h)]),t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];case 2:return[new In(t.polyGraph,t.source,t.target,new Va(0,[new mp(p)]),t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];default:return Te(L("not impelemted")),[new In(t.polyGraph,t.source,t.target,void 0,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()]}}case 1:return[new In(G4(e.fields[0],t.polyGraph),t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()];default:{const d=e.fields[0];return[new In(t.polyGraph,d??t.path,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),R()]}}}function Z4(e,t){switch(e.tag){case 1:{const n=e.fields[0];Te(L("%O"))(n);const r=W4(n,t);return[r[0],en(he(s=>D(i=>{i(s)}),r[1]))]}case 2:{const n=rd(e.fields[0],t.dragState);return[new In(t.polyGraph,t.source,t.target,t.path,n[0],t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),en(he(r=>D(s=>{s(new wt(3,[r]))}),n[1]))]}case 3:return[t,en(he(n=>D(r=>{r(n)}),B4(e.fields[0],t.dragState)))];case 5:return Te(L("%O"))(e.fields[0]),[t,ne()];case 4:return Te(L("%O"))(t),[t,ne()];default:{const n=e.fields[0];Te(L("%O"))(n);const r=U4(n,t.polyGraph);return[new In(r[0],t.source,t.target,t.path,t.dragState,t.zeroCellR,t.currentZeroId,t.currentOneId,t.currentTwoId),en(he(s=>D(i=>{i(s)}),r[1]))]}}}function K4(e,t){try{return Z4(e,t)}catch(n){return[t,D(r=>{r(new wt(5,[n]))})]}}function tf(e,t,n){return Q(m(()=>E(S(["className",Se(" ",["pointer-events-all"])]),m(()=>E(S(["onPointerDown",r=>{n(new Ql(0,[void 0,new c0(t,hs(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]),m(()=>E(S(["onPointerUp",r=>{hs(Gs(r.target),new M(r.clientX,r.clientY)),n(new Ql(2,[]))}]),m(()=>e!=null?S(["onPointerMove",r=>{n(new Ql(1,[new c0(t,hs(Gs(r.target),new M(r.clientX,r.clientY)),r)]))}]):Fe()))))))))}function q4(e,t,n){const r=e.data.position;return H.createElement("circle",tt(Q(m(()=>E(S(["cx",r.x]),m(()=>E(S(["cy",r.y]),m(()=>t))))))))}function Wg(e,t,n){return JE(10,20,Cp(e.source.fields[0],n).data.position,Cp(e.target.fields[0],n).data.position,t)}function Q4(e,t,n){let r,s,i;const o=b=>Cp(b.fields[0],n).data.position,l=b=>{const X=v4(b,n);return[o(X[0]),he(o,X[1])]},u=l(e.source),a=u[1],c=u[0],f=l(e.target),d=f[1];let g;const w=Hs(xe(f[0],d));if(!te(w))g=[K(w),z(w)];else throw new Error("unreachable");const v=g[1],_=g[0];let h;te(a)?h=te(v)?c:sa(v,{GetZero:()=>new M(null,null),Add:(b,X)=>{const O=b,T=X;return new M(O.x+T.x,O.y+T.y)},DivideByInt:(b,X)=>{const O=b,T=X|0;return new M(O.x/T,O.y/T)}}):te(v)?(Te(L("asdf")),h=sa(a,{GetZero:()=>new M(null,null),Add:(b,X)=>{const O=b,T=X;return new M(O.x+T.x,O.y+T.y)},DivideByInt:(b,X)=>{const O=b,T=X|0;return new M(O.x/T,O.y/T)}})):h=sa(Q(m(()=>E(a,m(()=>v)))),{GetZero:()=>new M(null,null),Add:(b,X)=>{const O=b,T=X;return new M(O.x+T.x,O.y+T.y)},DivideByInt:(b,X)=>{const O=b,T=X|0;return new M(O.x/T,O.y/T)}});let p;const $=c,C=h;p=new M($.x-C.x,$.y-C.y);const k=Q(fe(b=>{const X=b,O=h;return new M(X.x-O.x,X.y-O.y)},a)),I=_,P=h;new M(I.x-P.x,I.y-P.y);const N=Q(fe(b=>{const X=b,O=h;return new M(X.x-O.x,X.y-O.y)},v));Te(L("%O"))(k),Te(L("%O"))(N);const U=te(a)?D(c):Y([c,o0(a)]),V=te(v)?D(_):D(o0(xe(_,v)));sa(U,{GetZero:()=>new M(null,null),Add:(b,X)=>{const O=b,T=X;return new M(O.x+T.x,O.y+T.y)},DivideByInt:(b,X)=>{const O=b,T=X|0;return new M(O.x/T,O.y/T)}}),sa(V,{GetZero:()=>new M(null,null),Add:(b,X)=>{const O=b,T=X;return new M(O.x+T.x,O.y+T.y)},DivideByInt:(b,X)=>{const O=b,T=X|0;return new M(O.x/T,O.y/T)}});let A;if(te(v))A=_;else{let b;const X=I$(0,v),O=I$(0,d);b=new M(X.x+O.x,X.y+O.y),A=new M(b.x/2,b.y/2)}Te(L("tp3 %O"))(V);const j=ul((r=A,s=h,new M(r.x-s.x,r.y-s.y)));let B;const ie=new M(-j.x,j.y);return B=new M(ie.y,-ie.x),H.createElement("g",tt(Y([["transform",Uc(Uc("translate("+h.x+"px,"+h.y+"px)","px",""),"deg","")],(i=Y([H.createElement("path",tt(Q(m(()=>E(S(["d",Yo(he(b=>[b[0],he(X=>Y([X.x,X.y]),b[1])],Q(m(()=>E(S(["M",D(p)]),m(()=>E(fe(b=>["L",D(b)],k),m(()=>E(fe(b=>["L",D(b)],N),m(()=>S(["Z",R()])))))))))))]),m(()=>t)))))),H.createElement("text",{transform:Uc(Uc("matrix("+B.y+","+B.x+","+-B.x+","+B.y+",0,0)","px",""),"deg",""),className:Se(" ",["center-text"]),children:"",fill:"black"})]),["children",Re.Children.toArray(Array.from(i))])])))}function r1(e){return e.tag===1?Se(" -> ",he(t=>t.id,vw(e.fields[0]))):Ge(L("0s: %O"))(e.fields[0].fields[0].id)}function J4(e,t){let n,r,s;const i=e.polyGraph.environment,o=Y([(n=Y([H.createElement("button",{children:"print",onClick:l=>{t(new wt(4,[]))}}),(r=Y([H.createElement("input",{value:je(oe(r1,e.source))}),H.createElement("input",{value:je(oe(r1,e.target))}),H.createElement("input",{value:je(oe(r1,e.path))})]),H.createElement("ul",{children:Re.Children.toArray(Array.from(r))}))]),H.createElement("div",{children:Re.Children.toArray(Array.from(n))})),H.createElement("svg",tt(Y([["width",1e3],["height",1e3],["className",Se(" ",["pointer-events-none"])],(s=Q(m(()=>E(S(H.createElement("rect",tt(Q(m(()=>E(S(["width",1e3]),m(()=>E(S(["height",1e3]),m(()=>E(S(["fill","#000000"]),m(()=>tf(e.dragState,new dd(1,[]),l=>{t(new wt(2,[l]))})))))))))))),m(()=>E(fe(l=>Q4(l[1],Q(m(()=>E(S(["fill","orange"]),m(()=>tf(e.dragState,R4(l[0]),u=>{t(new wt(2,[u]))}))))),i),i.twoCell),m(()=>E(fe(l=>Wg(l[1],Q(m(()=>E(S(["stroke","white"]),m(()=>E(S(["strokeWidth",1]),m(()=>l[1].data.isSelected?S(["stroke","red"]):Fe())))))),i),i.oneCell),m(()=>E(fe(l=>Wg(l[1],Q(m(()=>E(S(["strokeWidth",10]),m(()=>tf(e.dragState,O4(l[0]),u=>{t(new wt(2,[u]))}))))),i),i.oneCell),m(()=>fe(l=>q4(l[1],Q(m(()=>E(S(["r",e.zeroCellR]),m(()=>E(S(["fill","white"]),m(()=>E(l[1].data.isSelected?S(["stroke","red"]):Fe(),m(()=>tf(e.dragState,V4(l[0]),u=>{t(new wt(2,[u]))})))))))))),i.zeroCell))))))))))),["children",Re.Children.toArray(Array.from(s))])])))]);return H.createElement("div",{children:Re.Children.toArray(Array.from(o))})}function Y4(e){return D([D("keydown"),S_((t,n)=>{switch(t.key){case"p":{n(new wt(4,[]));break}case"s":{n(new wt(1,[new Ln(10,[void 0])]));break}case"t":{n(new wt(1,[new Ln(11,[void 0])]));break}case"f":{n(new wt(1,[new Ln(3,[])]));break}}})])}function Zg(e,t,n,r=s=>s){return e*r(.5-t*(.5-n))}function X4(e){return[-e[0],-e[1]]}function ss(e,t){return[e[0]+t[0],e[1]+t[1]]}function Or(e,t){return[e[0]-t[0],e[1]-t[1]]}function ns(e,t){return[e[0]*t,e[1]*t]}function eP(e,t){return[e[0]/t,e[1]/t]}function la(e){return[e[1],-e[0]]}function Kg(e,t){return e[0]*t[0]+e[1]*t[1]}function tP(e,t){return e[0]===t[0]&&e[1]===t[1]}function nP(e){return Math.hypot(e[0],e[1])}function rP(e){return e[0]*e[0]+e[1]*e[1]}function qg(e,t){return rP(Or(e,t))}function xm(e){return eP(e,nP(e))}function sP(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function ua(e,t,n){let r=Math.sin(n),s=Math.cos(n),i=e[0]-t[0],o=e[1]-t[1],l=i*s-o*r,u=i*r+o*s;return[l+t[0],u+t[1]]}function xp(e,t,n){return ss(e,ns(Or(t,e),n))}function Qg(e,t,n){return ss(e,ns(t,n))}var{min:Cl,PI:iP}=Math,Jg=.275,aa=iP+1e-4;function oP(e,t={}){let{size:n=16,smoothing:r=.5,thinning:s=.5,simulatePressure:i=!0,easing:o=O=>O,start:l={},end:u={},last:a=!1}=t,{cap:c=!0,easing:f=O=>O*(2-O)}=l,{cap:d=!0,easing:g=O=>--O*O*O+1}=u;if(e.length===0||n<=0)return[];let w=e[e.length-1].runningLength,v=l.taper===!1?0:l.taper===!0?Math.max(n,w):l.taper,_=u.taper===!1?0:u.taper===!0?Math.max(n,w):u.taper,h=Math.pow(n*r,2),p=[],$=[],C=e.slice(0,10).reduce((O,T)=>{let q=T.pressure;if(i){let re=Cl(1,T.distance/n),_e=Cl(1,1-re);q=Cl(1,O+(_e-O)*(re*Jg))}return(O+q)/2},e[0].pressure),k=Zg(n,s,e[e.length-1].pressure,o),I,P=e[0].vector,N=e[0].point,U=N,V=N,A=U,j=!1;for(let O=0;O<e.length;O++){let{pressure:T}=e[O],{point:q,vector:re,distance:_e,runningLength:ge}=e[O];if(O<e.length-1&&w-ge<3)continue;if(s){if(i){let dn=Cl(1,_e/n),dr=Cl(1,1-dn);T=Cl(1,C+(dr-C)*(dn*Jg))}k=Zg(n,s,T,o)}else k=n/2;I===void 0&&(I=k);let Ye=ge<v?f(ge/v):1,ut=w-ge<_?g((w-ge)/_):1;k=Math.max(.01,k*Math.min(Ye,ut));let xt=(O<e.length-1?e[O+1]:e[O]).vector,yt=O<e.length-1?Kg(re,xt):1,fn=Kg(re,P)<0&&!j,vn=yt!==null&&yt<0;if(fn||vn){let dn=ns(la(P),k);for(let dr=1/13,Wn=0;Wn<=1;Wn+=dr)V=ua(Or(q,dn),q,aa*Wn),p.push(V),A=ua(ss(q,dn),q,aa*-Wn),$.push(A);N=V,U=A,vn&&(j=!0);continue}if(j=!1,O===e.length-1){let dn=ns(la(re),k);p.push(Or(q,dn)),$.push(ss(q,dn));continue}let fr=ns(la(xp(xt,re,yt)),k);V=Or(q,fr),(O<=1||qg(N,V)>h)&&(p.push(V),N=V),A=ss(q,fr),(O<=1||qg(U,A)>h)&&($.push(A),U=A),C=T,P=re}let B=e[0].point.slice(0,2),ie=e.length>1?e[e.length-1].point.slice(0,2):ss(e[0].point,[1,1]),b=[],X=[];if(e.length===1){if(!(v||_)||a){let O=Qg(B,xm(la(Or(B,ie))),-(I||k)),T=[];for(let q=1/13,re=q;re<=1;re+=q)T.push(ua(O,B,aa*2*re));return T}}else{if(!(v||_&&e.length===1))if(c)for(let T=1/13,q=T;q<=1;q+=T){let re=ua($[0],B,aa*q);b.push(re)}else{let T=Or(p[0],$[0]),q=ns(T,.5),re=ns(T,.51);b.push(Or(B,q),Or(B,re),ss(B,re),ss(B,q))}let O=la(X4(e[e.length-1].vector));if(_||v&&e.length===1)X.push(ie);else if(d){let T=Qg(ie,O,k);for(let q=1/29,re=q;re<1;re+=q)X.push(ua(T,ie,aa*3*re))}else X.push(ss(ie,ns(O,k)),ss(ie,ns(O,k*.99)),Or(ie,ns(O,k*.99)),Or(ie,ns(O,k)))}return p.concat(X,$.reverse(),b)}function lP(e,t={}){var n;let{streamline:r=.5,size:s=16,last:i=!1}=t;if(e.length===0)return[];let o=.15+(1-r)*.85,l=Array.isArray(e[0])?e:e.map(({x:g,y:w,pressure:v=.5})=>[g,w,v]);if(l.length===2){let g=l[1];l=l.slice(0,-1);for(let w=1;w<5;w++)l.push(xp(l[0],g,w/4))}l.length===1&&(l=[...l,[...ss(l[0],[1,1]),...l[0].slice(2)]]);let u=[{point:[l[0][0],l[0][1]],pressure:l[0][2]>=0?l[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],a=!1,c=0,f=u[0],d=l.length-1;for(let g=1;g<l.length;g++){let w=i&&g===d?l[g].slice(0,2):xp(f.point,l[g],o);if(tP(f.point,w))continue;let v=sP(w,f.point);if(c+=v,g<d&&!a){if(c<s)continue;a=!0}f={point:w,pressure:l[g][2]>=0?l[g][2]:.5,vector:xm(Or(f.point,w)),distance:v,runningLength:c},u.push(f)}return u[0].vector=((n=u[1])==null?void 0:n.vector)||[0,0],u}function uP(e,t={}){return oP(lP(e,t),t)}class aP extends de{constructor(t,n,r){super(),this.x=t,this.y=n,this.pressure=r}}class Uu extends de{constructor(t,n,r,s,i,o,l,u,a){super(),this.size=t,this.thinning=n,this.smoothing=r,this.streamline=s,this.easing=i,this.simulatePressure=o,this.start=l,this.end=u,this.last=a}}const cP=uP;function fP(){return new Uu(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)}function Em(e){return nn((t,n)=>n(t),fP(),e)}function Mm(e,t){return new Uu(e,t.thinning,t.smoothing,t.streamline,t.easing,t.simulatePressure,t.start,t.end,t.last)}function Tm(e,t){return new Uu(t.size,e,t.smoothing,t.streamline,t.easing,t.simulatePressure,t.start,t.end,t.last)}function Im(e,t){return new Uu(t.size,t.thinning,e,t.streamline,t.easing,t.simulatePressure,t.start,t.end,t.last)}function Pm(e,t){return new Uu(t.size,t.thinning,t.smoothing,e,t.easing,t.simulatePressure,t.start,t.end,t.last)}function Dm(e,t){return new Uu(t.size,t.thinning,t.smoothing,t.streamline,e,t.simulatePressure,t.start,t.end,t.last)}function Nm(e){return new aP(e.x,e.y,void 0)}function Vm(e,t){return fe(n=>new M(n[0],n[1]),cP(Array.from(fe(n=>n,e)),t))}function _w(e,t){let n,r,s,i,o;switch(te(e)||te(z(e))||te(z(z(e)))?n=1:(n=0,r=K(e),s=K(z(e)),i=K(z(z(e))),o=z(z(z(e)))),n){case 0:{const u=((a,c)=>{e:for(;;){const f=a,d=c;let g,w,v,_;switch(te(f)||te(z(f))?g=1:(g=0,w=K(f),v=K(z(f)),_=z(z(f))),g){case 0:{a=xe(v,_),c=h=>{let p,$,C;return d(_t([w,(p=($=w,C=v,new M($.x+C.x,$.y+C.y)),new M(p.x/2,p.y/2))],h))};continue e}default:return d(R())}}})(_t([s,i],o),a=>a);return Q(m(()=>E(S(["M",D(r)]),m(()=>E(S(["Q",u]),m(()=>t?S(["Z",R()]):Fe()))))))}default:return R()}}class Yg extends de{constructor(t){super(),this.path=t}}class Om extends de{constructor(t){super(),this.id=t}}class dP extends de{constructor(t,n,r,s){super(),this.p0=t,this.p1=n,this.p2=r,this.p3=s}}let zo=class extends de{constructor(t,n,r,s,i,o,l,u,a){super(),this.paths=t,this.perfectFreehand=n,this.perfectFreehandStroke=r,this.perfectFreehandCubic=s,this.cubicBeziers=i,this.currentId=o|0,this.showPath=l,this.error=u,this.maxIteraions=a|0}},Sa=class extends de{constructor(t,n,r,s){super(),this.oekaki=t,this.previewPath=n,this.redoUndo=r,this.dragState=s}};class Ml extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["AddPath","ToggleShowPath","ChangeError","ChangeMaxIterations","UpdateCubic","ClearPath"]}}class Xg extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PreviewPath","EndPreview"]}}class tc extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Redo","Undo","Store"]}}let Pn=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["DragMsg","DragOutMsg","ModelMsg","RedoUndoMsg","KeyboardEventMsg","PreviewMsg"]}};const pP=Yh(Jh(Y([["ctrl z",new Pn(3,[new tc(1,[])])],["ctrl y",new Pn(3,[new tc(0,[0])])]])));function Ep(e,t){return he(n=>new dP(J(0,n),J(1,n),J(2,n),J(3,n)),iM(t.maxIteraions,Ur(e),t.error))}function Rm(e){const t=Em(Y([n=>Mm(8,n),n=>Tm(.5,n),n=>Pm(.5,n),n=>Im(.5,n),n=>Dm(r=>r,n)]));return Q(Vm(fe(Nm,e),t))}function hP(e){return _w(Rm(e),!0)}function wP(e,t){const n=new Om(au(t.currentId)),r=Rm(e.path),s=Ep(r,t),i=_w(r,!0),o=Pt(n,e,t.paths),l=Pt(n,Ep(e.path,t),t.cubicBeziers),u=Pt(n,r,t.perfectFreehand),a=Pt(n,s,t.perfectFreehandCubic);return new zo(o,u,Pt(n,i,t.perfectFreehandStroke),a,l,t.currentId+1,t.showPath,t.error,t.maxIteraions)}function $P(e){return new zo(e.paths,e.perfectFreehand,e.perfectFreehandStroke,e.perfectFreehandCubic,js((t,n)=>Ep(n.path,e),e.paths),e.currentId,e.showPath,e.error,e.maxIteraions)}function gP(){let e;const t=Lt({Compare:Me}),n=Lt({Compare:Me}),r=Lt({Compare:Me}),s=Lt({Compare:Me});return e=new zo(t,r,Lt({Compare:Me}),s,n,0,!0,10,15),[new Sa(e,void 0,L_(e),void 0),ne()]}function yP(e,t){let n;switch(e.tag){case 1:return[new zo(t.paths,t.perfectFreehand,t.perfectFreehandStroke,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,!t.showPath,t.error,t.maxIteraions),ne()];case 2:return[new zo(t.paths,t.perfectFreehand,t.perfectFreehandStroke,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,t.showPath,e.fields[0],t.maxIteraions),ne()];case 3:return[new zo(t.paths,t.perfectFreehand,t.perfectFreehandStroke,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,t.showPath,t.error,e.fields[0]),ne()];case 4:return[$P(t),ne()];case 5:return[(n=Lt({Compare:Me}),new zo(Lt({Compare:Me}),t.perfectFreehand,n,t.perfectFreehandCubic,t.cubicBeziers,t.currentId,t.showPath,t.error,t.maxIteraions)),ne()];default:return[wP(e.fields[0],t),ne()]}}function vP(e,t){return e.tag===1?[void 0,ne()]:[hP(e.fields[0].path),ne()]}function _P(e,t){switch(e.tag){case 1:return od(t);case 2:return tp(e.fields[0],t);default:return ow(e.fields[0],t)}}function mP(e,t){switch(e.tag){case 2:return Y([new Pn(5,[new Xg(1,[])]),new Pn(2,[new Ml(0,[new Yg(Q(fe(n=>n.position,e.fields[0].all)))])])]);case 1:return D(new Pn(5,[new Xg(0,[new Yg(Q(fe(n=>n.position,e.fields[0].all)))])]));default:return R()}}function CP(e,t){switch(e.tag){case 1:return[t,en(he(n=>D(r=>{r(n)}),mP(e.fields[0])))];case 2:{const n=yP(e.fields[0],t.oekaki),r=n[0];return[new Sa(r,t.previewPath,t.redoUndo,t.dragState),en(Y([D(s=>{s(new Pn(3,[new tc(2,[r])]))}),n[1]]))]}case 5:{const n=vP(e.fields[0]);return[new Sa(t.oekaki,n[0],t.redoUndo,t.dragState),n[1]]}case 3:{const n=e.fields[0];Te(L("%O"))(n);const r=_P(n,t.redoUndo);if(r!=null){const s=r;return[new Sa(s.current,t.previewPath,s,t.dragState),ne()]}else return[t,ne()]}case 4:return[t,en(fe(n=>D(r=>{r(n)}),K1(pP,e.fields[0])))];default:{const n=rd(e.fields[0],t.dragState);return[new Sa(t.oekaki,t.previewPath,t.redoUndo,n[0]),en(he(r=>D(s=>{s(new Pn(1,[r]))}),n[1]))]}}}function ey(e){return he(t=>[t[0],he(nd,t[1])],e)}function SP(e,t){const n=e.oekaki,r=Q(m(()=>E(S(H.createElement("button",{children:"*",onClick:s=>{t(new Pn(2,[new Ml(1,[])]))}})),m(()=>E(S(H.createElement("button",{children:"clear",onClick:s=>{t(new Pn(2,[new Ml(5,[])]))}})),m(()=>E(S(H.createElement("span",{children:"maxIterations:"})),m(()=>E(S(H.createElement("input",{type:"number",value:n.maxIteraions,onChange:s=>{const i=s.target.valueAsNumber;i!=null&&!Number.isNaN(i)&&t(new Pn(2,[new Ml(3,[V1(i)])]))}})),m(()=>E(S(H.createElement("span",{children:"error:"})),m(()=>E(S(H.createElement("input",{type:"number",value:n.error,onChange:s=>{const i=s.target.valueAsNumber;i!=null&&!Number.isNaN(i)&&t(new Pn(2,[new Ml(2,[V1(i)])]))}})),m(()=>E(S(H.createElement("button",{children:"update",onClick:s=>{t(new Pn(2,[new Ml(4,[])]))}})),m(()=>E(S(H.createElement("button",{children:"undo",onClick:s=>{t(new Pn(3,[new tc(1,[])]))}})),m(()=>E(Ut(s=>{const i=s[0]|0;return S(H.createElement("button",{children:`undo ${i}`,onClick:o=>{t(new Pn(3,[new tc(0,[i])]))}}))},jv(F_(e.redoUndo.redoData))),m(()=>{let s;return S(H.createElement("svg",tt(Y([["width",1e3],["height",1e3],["className",Se(" ",["pointer-events-none"])],(s=Q(m(()=>E(S(H.createElement("rect",tt(Q(m(()=>E(S(["width",1e3]),m(()=>E(S(["height",1e3]),m(()=>E(S(["fill","black"]),m(()=>Pl(e.dragState,void 0,i=>{t(new Pn(0,[i]))})))))))))))),m(()=>E(Ut(i=>S(H.createElement("path",{d:Yo(ey(i[1])),stroke:"none",fill:"white"})),n.perfectFreehandStroke),m(()=>{const i=e.previewPath;return i!=null?S(H.createElement("path",{d:Yo(ey(i)),stroke:"none",fill:"white"})):Fe()})))))),["children",Re.Children.toArray(Array.from(s))])]))))}))))))))))))))))))));return H.createElement("div",{children:Re.Children.toArray(Array.from(r))})}function kP(e){return D([D("keydown"),S_((t,n)=>{n(new Pn(4,[t]))})])}class xP extends de{constructor(t,n){super(),this.path=t,this.cached=n}}const EP=Em(Y([e=>Mm(8,e),e=>Tm(.5,e),e=>Pm(.5,e),e=>Im(.5,e),e=>Dm(t=>t,e)]));function MP(e){return Q(Vm(fe(Nm,e),EP))}function TP(e){return _w(MP(e),!0)}function IP(e){return new xP(e,TP(e.pathData))}class PP extends de{constructor(t){super(),this.pathMap=t}}class DP extends de{constructor(t,n,r,s){super(),this.data=t,this.id=n,this.pos=r,this.size=s}}class NP extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["OekakiTarget","CurrentTarget"]}}class VP extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["EditOekaki","DefaultMode"]}}let Mp=class extends de{constructor(t,n,r){super(),this.oekakiMap=t,this.mode=n,this.dragState=r}},zm=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["OekakiMsg","DragMsg","DragOutMsg"]}};function OP(){return[new Mp(Lt({Compare:Me}),new VP(1,[]),void 0),ne()]}function RP(e,t){return new PP(Pt(new Om(J3()),IP(e.fields[0]),t.pathMap))}function zP(e,t){return new DP(RP(e.fields[0],t.data),t.id,t.pos,t.size)}function FP(e,t){switch(e.tag){case 0:return[new Mp(xr(e.fields[0][0],n=>oe(r=>zP(e.fields[0][1],r),n),t.oekakiMap),t.mode,t.dragState),ne()];case 2:return[t,ne()];default:{const n=rd(e.fields[0],t.dragState);return[new Mp(t.oekakiMap,t.mode,n[0]),Bn(r=>new zm(2,[r]),en(fe(r=>D(s=>{s(r)}),n[1])))]}}}function LP(e){return H.createElement("path",{d:Yo(fe(t=>[t[0],he(nd,t[1])],e.cached))})}function GP(e){return Q(m(()=>Ut(t=>S(LP(t[1])),di(e.pathMap))))}function AP(e,t){let n,r;return H.createElement("svg",tt(Y([["width",1e3],["height",1e3],(n=Y([H.createElement("rect",tt(Q(m(()=>E(Pl(e.dragState,new NP(1,[]),s=>{t(new zm(1,[s]))}),m(()=>E(S(["width",1e3]),m(()=>E(S(["height",1e3]),m(()=>E(S(["stroke","green"]),m(()=>S(["fill","white"]))))))))))))),H.createElement("g",tt(Y([["className",Se(" ",["pointer-events-none"])],(r=Q(m(()=>Ut(s=>{let i;return S(H.createElement("g",tt(D((i=Q(m(()=>GP(s[1].data))),["children",Re.Children.toArray(Array.from(i))])))))},di(e.oekakiMap)))),["children",Re.Children.toArray(Array.from(r))])])))]),["children",Re.Children.toArray(Array.from(n))])])))}class y extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Success","Failure"]}}class W extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["Parser"]}}class Kt extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Tree","Message","Empty"]}}function BP(e,t){return e.fields[0]([t,void 0])}function x(e,t,n){return e.fields[0]([t,n])}function io(e,t,n){return new y(1,[[new Kt(1,[e]),t,n]])}function UP(e,t){return new y(1,[[new Kt(2,[]),e,t]])}class Fm extends de{constructor(t,n,r,s,i){super(),this.next=t,this.pos=n,this.length=r,this.skip=s,this.take=i}}function bP(e){return[[e,0],new Fm(t=>{const n=t[0],r=t[1]|0;return n.length>r?[n[r],[n,r+1]]:void 0},t=>t[1],t=>t[0].length,(t,n)=>[n[0],n[1]+t],(t,n)=>{const r=n[0],s=n[1]|0;return r.length>s+t-1?[r.slice(s,s+t-1+1),[r,s+t]]:void 0})]}function bu(e){return[[e,0],new Fm(t=>{const n=t[0],r=t[1]|0;return n.length>r?[J(r,n),[n,r+1]]:void 0},t=>t[1],t=>t[0].length,(t,n)=>[n[0],n[1]+t],(t,n)=>{const r=n[0],s=n[1]|0;return r.length>s+t-1?[r.slice(s,s+t-1+1),[r,s+t]]:void 0})]}function pd(e,t){return new W(n=>{const r=n[1],s=(i=>{const o=i[0],l=i[1],u=l.next(o);if(u!=null){const a=u[1],c=u[0];return t(c)?new y(0,[[c,void 0,[a,l]]]):io(e,void 0,[o,l])}else return io("eof",void 0,[o,l])})(n[0]);return s.tag===1?new y(1,[[s.fields[0][0],r,s.fields[0][2]]]):new y(0,[[s.fields[0][0],r,s.fields[0][2]]])})}function mw(e){return new W(t=>{const n=t[1],r=(s=>{const i=s[0],o=s[1],l=o.next(i);if(l!=null){const u=l[1],a=l[0];return e(a)?new y(0,[[a,void 0,[u,o]]]):io("pcharf",void 0,[i,o])}else return io("eof",void 0,[i,o])})(t[0]);return r.tag===1?new y(1,[[r.fields[0][0],n,r.fields[0][2]]]):new y(0,[[r.fields[0][0],n,r.fields[0][2]]])})}function Lm(e){return new W(t=>{const n=t[1],r=(s=>{const i=s[0],o=s[1],l=o.next(i);if(l!=null){const u=l[1],a=e(l[0]);return a==null?io("choose",void 0,[i,o]):new y(0,[[G(a),void 0,[u,o]]])}else return io("eof",void 0,[i,o])})(t[0]);return r.tag===1?new y(1,[[r.fields[0][0],n,r.fields[0][2]]]):new y(0,[[r.fields[0][0],n,r.fields[0][2]]])})}function jP(e,t){return new W(n=>{const r=n[1],s=(i=>{const o=i[0],l=i[1],u=l.take(e,o);if(u!=null){const a=u[1],c=u[0];return t(c)?new y(0,[[c,void 0,[a,l]]]):io("pcharsfn",void 0,[o,l])}else return UP(void 0,[o,l])})(n[0]);return s.tag===1?new y(1,[[s.fields[0][0],r,s.fields[0][2]]]):new y(0,[[s.fields[0][0],r,s.fields[0][2]]])})}function Cw(){return new W(e=>{const t=e[1],n=(r=>{const s=r[0],i=r[1];return i.next(s)==null?new y(0,[[void 0,void 0,[s,i]]]):io("here is not eof",void 0,[s,i])})(e[0]);return n.tag===1?new y(1,[[n.fields[0][0],t,n.fields[0][2]]]):new y(0,[[n.fields[0][0],t,n.fields[0][2]]])})}function ze(e){return pd(`char: ${e}`,t=>ee(e,t))}function mr(e){return jP(e.length,t=>e===t)}function Sw(){return pd("anyChar",e=>!0)}function HP(e){return pd(`any of ${e}`,t=>_x(t,e,{Equals:ee,GetHashCode:mn}))}function Gm(e,t){return BP(e,bP(t))}function el(e,t){return new W(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new y(1,[[r.fields[0][0],r.fields[0][1],r.fields[0][2]]]);{const s=r.fields[0][0];return new y(0,[[s,e(s,r.fields[0][1]),r.fields[0][2]]])}})}function WP(e,t){return new W(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new y(1,[[r.fields[0][0],r.fields[0][1],r.fields[0][2]]]);{const s=r.fields[0][2],i=r.fields[0][0],o=r.fields[0][1];return e(i,o)?new y(0,[[i,o,s]]):new y(1,[[new Kt(1,["userState not satisfies"]),o,s]])}})}function ZP(e){return new W(t=>{const n=x(e,t[0],t[1]);if(n.tag===1)return new y(1,[[n.fields[0][0],n.fields[0][1],n.fields[0][2]]]);{const r=n.fields[0][1];return new y(0,[[[n.fields[0][0],r],r,n.fields[0][2]]])}})}function Am(e){return new W(t=>{const n=x(e,t[0],t[1]);return n.tag===1?new y(0,[[void 0,n.fields[0][1],n.fields[0][2]]]):new y(0,[[ht(n.fields[0][0]),n.fields[0][1],n.fields[0][2]]])})}function $n(e){const t=(n,r)=>{e:for(;;){const s=n,i=r,o=s[0],l=s[1],u=x(e,o,l);if(u.tag===1)return new y(0,[[i(R()),l,o]]);n=[u.fields[0][2],u.fields[0][1]],r=a=>i(xe(u.fields[0][0],a));continue e}};return new W(n=>t(n,r=>r))}function Su(e){const t=(n,r)=>{e:for(;;){const s=n,i=r,o=s[0],l=s[1],u=x(e,o,l);if(u.tag===1)return new y(0,[[i(R()),l,o]]);n=[u.fields[0][2],u.fields[0][1]],r=a=>i(xe(u.fields[0][0],a));continue e}};return new W(n=>{const r=x(e,n[0],n[1]);return r.tag===1?new y(1,[[new Kt(0,[["some",D(r.fields[0][0])]]),r.fields[0][1],r.fields[0][2]]]):t([r.fields[0][2],r.fields[0][1]],s=>xe(r.fields[0][0],s))})}function ye(e,t){return new W(n=>{const r=x(t,n[0],n[1]);return r.tag===1?new y(1,[r.fields[0]]):new y(0,[[e(r.fields[0][0]),r.fields[0][1],r.fields[0][2]]])})}function $i(e,t){return new W(n=>{const r=x(t,n[0],n[1]);return r.tag===1?new y(1,[[e(r.fields[0][0]),r.fields[0][1],r.fields[0][2]]]):new y(0,[r.fields[0]])})}function KP(e,t){return new W(n=>{const r=x(t,n[0],n[1]);if(r.tag===1){const s=r.fields[0][2],i=r.fields[0][1];return new y(1,[[e([r.fields[0][0],i,s]),i,s]])}else return new y(0,[r.fields[0]])})}function Lf(){return new W(e=>new y(0,[[void 0,e[1],e[0]]]))}function si(e){return new W(t=>new y(0,[[e,t[1],t[0]]]))}function ku(){return new W(e=>new y(1,[[new Kt(2,[]),e[1],e[0]]]))}function Oi(e,t){return new W(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=[r.fields[0][2],r.fields[0][1]];return x(e(r.fields[0][0]),s[0],s[1])}})}function qP(e){return new W(t=>{const n=t[0],r=t[1],s=x(e,n,r);return s.tag===1?new y(1,[[s.fields[0][0],r,n]]):new y(0,[[s.fields[0][0],s.fields[0][1],s.fields[0][2]]])})}function or(e,t){return new W(n=>{const r=n[0],s=n[1];return((o,l)=>{e:for(;;){const u=o,a=l;if(te(u))return new y(1,[[new Kt(0,[[e,a(R())]]),s,r]]);{const c=x(K(u),r,s);if(c.tag===1){o=z(u),l=f=>a(xe(c.fields[0][0],f));continue e}else return new y(0,[c.fields[0]])}}})(t,o=>o)})}function Sn(e){return or("chice",e)}function hd(){const e=new ai(new W(t=>{throw new Error("")}));return[new W(t=>x(e.contents,t[0],t[1])),e]}const QP="#C$&$&$$$$$$%-%&%=$$$$$$=$$$$D$$'$$$$$$$$$$$$%$$%$$$$&$:$*;$+$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%$$$$$$$$$$$$$$$%$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%$$$$&%$$$%$&%'$%$&&%$%$$$$$%$$%$$%$&$$$%%$$&'$$$$$$$$$$$$$$$$$$$$$$$$%$$$$$$$$$$$$$$$$$%$$$$$&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$*%$%%$$'$$$$$$$$h$>5'/1(*$$$4$$$$$$$$%$&$$'%$$&$$$%$4$,F$%&&$$$$$$$$$$$$$$$$$$$$$$$($$$$$%%VS$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$(%$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%$$$$$$$$$$$$%$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$I%$)L$$%%$$P$$$%$%$$+>''%.)&%$%%.$$$%C$-8-'%$$$*$$)%%$'%-&%$1$$$$A>%|.$1-D,%$&$%$%9'$,$&$(%2$<&%$$.X8$5.2$C$Y$$$$&+'$%$*-%%-$$2$%$+%%%9$*$$&'%$$&'%%%%$$+$'%$&%%-%%)$$$$$%%$$)'%%9$*$%$%$%%$$&%'%%&&$*'$$*-%&$$-%$$,$&$9$*$%$(%$$&($%$$%$%$2%%%-$$*$)$$%$+%%%9$*$%$(%$$$$$'%%%%$*%$'%$&%%-$$)-$$$)&&$'&%$$$%&%&&&/'%$%&&$&$%$)$1-&)$$($&$+$&$:$3&$&'$&$'*%$&(%%%-*$*$$$%$+$&$:$-$(%$$$$($$%$%%*%*$$%%%-$%0%%,$&$L%$&'$&$&$$$'&$*&%%-,$)$$%$5&;$,$$%*&$'&&$$$+)-%%$/S$%*'$)$+$-%H%$$$($;$$$-$%,$%($$$)%-%'C$&2$$&%)--$$$$$$$$$$%+$G'1$($%(.$G$+$)$%('%HN%'$)$%%%$-))%%'&$&%*&'0$%%)$$$-&$%I$$($%N$$&$'%*$$$'%L$'%D$'%*$$$'%2$\\$'%f%&,7&3-)y%)%$$$4$=$$&n&&+*0$'&.5&%,5%/0$&$%/W%$*+$%.&$&$$$%-)-))$'&$$-)F$X*(%E$$(i-B$&'%&'%$)&'$&%-A%(.O'=)-$&E:%%$%%X$$$*$$$$%+)-%$-)-)*$)%1$%b'$R$$($$($%*'-*-,,&%$A$'%%$&%-O$$%&$$&%+'G++%%&(-&&-A)%,*N%&++&$0$*'$)$%$%$(Ob0$EH]$($$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$,$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$,+)%)%++++)%)%+$$$$$$$$++1%++++++($%'$$$&&$%'$&'%%'$&+(&%&$%'$%$.()%$$$%$$$+$$($,$$'%&$$$.$$$-$($-$$%)&$$$-&$$$0&C30'$&/2%$'$%$&%&$$$%$()$$$$$$'$$'$'$%%%($'$$%$$3F$$'$%'((%'$%$%$*$B%%$$$B+$$$$7%*$$t$A<K)h<.8_q9$,$Y+$$$$$$$$$$$$$$$AO($$B$$$$$$$$$$3$$$$$$$$$$$$$$$$$$$$$$b$$$$C$$S8%)J%C$R$R$$$&%$$$$$$'$$%$)%&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%)$$$$&$$('$%I$$($%[*$$1$:,*$*$*$*$*$*$*$*$C%$$$$&$$$$$,$%$$$$%$$$$$$$$$$($-%'$$$0%$P=$|/=/'$&$$$$$$$$$$$$$$%$$$$$$$$$$%$,'%$(%&$$$%$y%%%%$$}$&$(N$$%'-CG/3B$-A+$2C-J2c&8$&Z,K)%$&3-%7$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$&$-$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$%%i-%)+:,%$$$$$$$$$$$$$&$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$+$$$$%$$$$$$$$$$%$$$$$$$$&$$$$$$$$$$$$$$$$$$$$($($$$$$$$$$$$%$$'$$$M$$$%$*$&$'$:%%$'$&)%$$)W'+%U3%+%-)5)&$$%$-?+%:.%.$@&&$R$%'%%&0$$-'%($$,-($L)%%%%,&$+$$%-%'3$)&$$$$U$$&%%(%$$$;%$%.$%%%$%$$-)%)%),*$*$N$',$%'sF%$%$%$$$%-)/:'T'%I*/(($$-$0$($$$%$%$34$$3c%YK/$$%3*$$$)3$%%$$$$$$$$$$$$$$$$%$$'&&$'$$$$$$$&$$&$$$%'($%$$&$&$$$$$$%-%&%=$$$$$$=$$$$$$$$$%-$P%B&)%)%)%&&%$$$%$$'%-&%%/$=$6$%$2%1E(&'P&,X'4%&$0&$RP$@&T2$>'C',7$+$(I((A$$G'+$(MKKq%-)G'G'K+W.$,9-+)%$$O$%&$%:$$+:%*B+,S6$%((9)&$=($c['%%3%Q$&$%(''$&$@%&'$,*,*@%$@&C+$?%'(*,Y&*9%+6(+5*'/*slZV0V*)G'+-B$M$%$%%q@-$+9.'(y8*7:,$$$X2*'7-2&$P&'%%%$'.$%<*-)&G($+$-'$%$+F$%$,%$S&,%'''$$$-$$$&$7.5$<&&%$$%)$d*$$$'$2$-$)R$&+(-)%%$+%%%9$*$%$($%$%$'%%%&%$)$((%%*&(X&+%&$$'(-%$$$&AS&)$$'%$%%$$+-R&'%'%$%:'%ES&+%$$%&$.-)06N$$$%)$$$*-Y>%&%'$('-%&$O&,$%$CC-,/+%$%+$%$;)$%%%$$$$$$$&,-i+%J&'%%'$$$$$>$-K)$$'+$+$)%&Q0$%&$(@\\,$H$*$)$$$(--6&%A%9$$*$%$%l*$%$I)&$$%$*$$+-))$%$C($%$%$$$$*-6%%%$28+'40$$(.$,*B$-'%A%($-S*(''$$--$*$8(6CC:'n'$$Z*'0c%$$$.%1+M,T&4'+(0&,*-%$%$'-J%_%&&)++%*A'^:e&$7/z,<===*$5==$$%%$%%%'$+'$$$*$.==%$'%+$*$=%$'$($$&*$============?%<$<$)<$<$)<$<$)<$<$)<$<$)$$%UZ'U+$1$%(2($2*$4%*$%$(P&**%-'$$O'-($%,*LEE*$'-'%^$&$'oP$2'$>$%$$%$$-$'$$$$)$'$$$$$$&$%$$%$$$$$$$$$$%$$%'$*$'$'$$$-$4(&$($4W%O'/2%2$2$H-0[@0O',*%1)(+0&0&/|*/7/'[+-)K+A%%q$u$/1%(&&(*,<**,&0*L$ZH-E.%1$A%",JP="1.;=;78;<;6;+;<;#7;8>5>$7<8<1.;=?;>?'9<2?>?<->$;>-':-;#<#$<$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$'#$'#%$#%$#%$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#%$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$'$&>&>&>&>&>(#$#$&>#$@&$;#@>#;#@#@#$#@#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$<#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$?(*#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$@#@&;$;6@?=@(6(;(;(;(@'@';@2<;=;?(;2@;'&'(+;'(';'(2?(&(?('+'?';@2'('(@'('@+'(&?;&@(='(&(&(&(@;@'(@;@'@'@'@(2()'()(')()()'('(;+;&'()@'@'@'@'@'@'@(')(@)@)('@)@'@'(@+'=-?=';(@()@'@'@'@'@'@'@'@(@)(@(@(@(@'@'@+('(;@()@'@'@'@'@'@'@(')(@()@)(@'@'(@+;=@'(@()@'@'@'@'@'@'@(')()(@)@)(@()@'@'(@+?'-@('@'@'@'@'@'@'@'@'@'@)()@)@)(@'@)@+-?=?@()('@'@'@'@'()@(@(@(@'@'(@+@;-?'();'@'@'@'@'@(')()@()@)(@)@'@'(@+@'@()'@'@'(')(@)@)('?@')-'(@+-?'@()@'@'@'@'@'@(@)(@(@)@+@);@'('(@='&(;+;@'@'@'@'@'@'('('@'@&@(@+@'@'?;?;?(?+-?(?(?(7878)'@'@()(;('(@(@?(?@?;?;@')()()()('+;')('(')')'('()()(')+)(?#@#@#@$;&$'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@(;-@'?@#@$@6'?;'.'78@';,'@'@'(@'(;@'(@'@'@(@'()()()(;&;='(@+@-@;6;(2@+@'&'@'('('@'@'@()()@)()(@?@;+'@'@'@'@+-@?'()(@;')()(@()()()(@(+@+@;&;@(*(@()'()()()()'@+;?(?@()')()()('+'()()()()@;')()(@;+@'+'&;$@#@#;@(;()('('(')('@$&$&$&(@(#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$@#@$#$#$@#@$@#@#@#@#$#$@$%$%$%$@$#%>$>$@$#%>$@$#@>$#>@$@$#%>@.26;9:79:79;/02.;9:;5;<78;<;5;.2@2-&@-<78&-<78@&@=@(*(*(@?#?#?$#$#$?#?<#?#?#?#?#?$#$'$?$#<#$?<?$?-,#$,-?@<?<?<?<?<?<?<?<?<?<?7878?<?78?<?<?<?@?@-?-?<?<?<?<?78787878787878-?<78<7878787878<?<7878787878787878787878<7878<78<?<?<?@?@?#@$@#$#$#$#$#$#$#$#$&#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$?#$#$(#$@;-;$@$@$@'@&;@('@'@'@'@'@'@'@'@'@(;9:9:;9:;9:;6;6;9:;9:78787878;&;6;6;7;?;@?@?@?@?@.;?&',7878787878?78787878678?,()6&?,&';?@'@(>&'6';&'@'@'@?-?'?@'?@-?-?-?-?-?'?'@'&'@?@'&;'&;'+'@#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$'(*;(;&#$#$#$#$#$#$#$#$#$#$#$#$#$#$&(',(;@>&>#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$&$#$#$#$#$#$#$#$&>#$#$'#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$#$@#$#$#$@#$'&$'('('(')()?(@-?=?@';@)')(@;+@(';';'(+'(;'()@;'@()'()()();@&+@;'(&'+'@'()()(@'('()@+@;'&'?')()'('('('('('@'&;')();'&)(@'@'@'@'@'@$>&$&>@$')()();)(@+@'@'@'@34'@'@$@$@'('<'@'@'@'@'@'>@'87@'@'@'=?@(;78;@(;657878787878787878;78;5;@;6787878;<6<@;=;@'@'@2@;=;78;<;6;+;<;#7;8>5>$7<8<78;78;'&'&'@'@'@'@'@=<>?=@?<?@2?@'@'@'@'@'@'@'@;@-@?,-?-?@?@?@?(@'@'@(-@'-@',',@'(@'@;'@';,@#$'@+@#@$@'@'@;@'@'@'@'@'@'@'@'@'@;-'?-'@-@'@'@-'-@;'@;@'@-'-@-'(@(@('@'@'@(@(-@;@'-;'-@'?'(@-;@'@;'@-'@-'@;@-@'@#@$@-'(@+@-@'@(6@'@'-'@'(-;@'-@'@)()'(;@-+@()')()(;2;@2@'@+@('()(@+;')'@'(;'@()')()';(;)(+';';@-@'@')()()(;(@'@'@'@'@';@'()(@+@()@'@'@'@'@'@'@(')()@)@)@'@)@')@(@(@')()()(';+;@;('@')()()()(';'@+@')(@)()(;'(@')()()(;'@+@;@'()()()('@+@'@()()(@+-;?@')()(;@#$+-@'@'@'@'@')@)@()(')')(;@+@'@')(@()(';')@'('()'(;(@'()('()(;';@'@'@')(@()(';@+-@;'@(@)()()(@'@'@'(@(@(@('(@+@'@'@')@(@)()('@+@'();@'@-?=?@;'@,@;@'@'@2@'@'@'@+@;@'@(;@'(;?&;?@+@-@'@'@#$-;@'@(')@(&@&;&(@)@'@'@'@'@'@'@'@'@'@'@'@?(;2@?@?@?)(?)2(?(?(?@?(?@-@?@-@#$#$@$#$#@#@#@#@#@#$@$@$@$#$#@#@#@#@$#@#@#@#@#@$#$#$#$#$#$#$@#<$<$#<$<$#<$<$#<$<$#<$<$#$@+?(?(?(?(?;@(@(@(@(@(@(@(@'@(&@+@'?@'(+@=@'@-(@#$(&@+@;@-?-=-@-?-@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@'@<@?@?@?@?@?@?@-?@?@?@?@?@?@?>?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@?@+@'@'@'@'@'@'@'@2@2@(@4@4@";function YP(){const t=[...QP].map(i=>(i.codePointAt(0)??0)-35),n=[...JP].map(i=>(i.codePointAt(0)??0)-35),r=new Uint32Array(t),s=new Uint8Array(n);for(let i=1;i<r.length;++i)r[i]+=r[i-1];return i=>{let o=r.length,l=0;for(;o-l>1;){const u=Math.floor((o+l)/2),a=r[u];if(i<a)o=u;else if(i===a){o=l=u;break}else a<i&&(l=u)}return s[l]}}const XP=14336,eD=YP();function Bm(e,t){if(t>=0&&t<e.length)return e.charCodeAt(t);throw new Error("Index out of range.")}const wd=e=>nD(e,0);function tD(e,t){const n=Bm(e,t);return eD(n)}function nD(e,t){if(1<<tD(e,t)&XP)return!0;const r=Bm(e,t);return 9<=r&&r<=13||r===133||r===160}class rD extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["VarS"]}}class sD extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["TypeName"]}}class Tp extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["TypeVariable","Function"]}toString(){const t=this;if(t.tag===1){const n=t.fields[0][1],r=t.fields[0][0];return r.tag===0?`${r} -> ${n}`:`(${r}) -> ${n}`}else return t.fields[0].fields[0].fields[0]}}class iD extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["TVar"]}}class ty extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["VarName","VarAndType"]}toString(){const t=this;return t.tag===1?`${t.fields[0].fields[0][0].fields[0]} : ${t.fields[0].fields[0][1]}`:t.fields[0].fields[0]}}class jo extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Var","Lambda","Apply","Let"]}toString(){const t=this,n=(r,s)=>{switch(s.tag){case 1:return`\\${s.fields[0][0]} -> ${s.fields[0][1]}`;case 2:{const i=s.fields[0][1],o=s.fields[0][0],l=i.tag===0?je(i):Ge(L("(%O)"))(i),u=o.tag===1?Ge(L("(%O)"))(o):je(o);return Ge(L("%O %O"))(u)(l)}case 3:return`let ${s.fields[0][0]} =
`+T$(r+1,"  ")+n(r+1,s.fields[0][1])+`
`+T$(r,"  ")+n(r,s.fields[0][2]);default:return je(s.fields[0])}};return n(0,t)}}function Um(){return mw(wd)}const oD=fi(Y(["","(",")","-","=",":","\\",";"]),{Compare:wn});function lD(){return KP(e=>{let t;const n=e[2];try{return new Kt(1,[(t=n[0][0][n[0][1]],Ge(L("%O is not allowed for var name"))(t))])}catch{return new Kt(1,["eof is not allowed for var name"])}},mw(e=>!(wd(e)||Kr(e,oD))))}function uD(){return $i(e=>new Kt(1,[Ge(L("%O"))(e)]),ye(e=>{let t;return new rD((t=Ur(e),t.join("")))},Su(lD())))}function aD(){let e,t;return Sn(Y([(e=mr("lambda"),t=Su(Um()),new W(n=>{const r=x(e,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=x(t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[[r.fields[0][0],s.fields[0][1],s.fields[0][2]]])}})),mr(""),mr("\\")]))}function cD(){let e,t;return Su((e=mr("let"),t=Um(),new W(n=>{const r=x(e,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=x(t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[[r.fields[0][0],s.fields[0][1],s.fields[0][2]]])}})))}class Qt extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Let","Lambda","OpenKakko","CloseKakko","NewLine","Equal","Arrow","VarName","Colon","Whitespace"]}}function bm(){return mw(e=>wd(e)&&e!==`
`&&e!=="\r")}function Mi(){return $n(bm())}function fD(){let e,t,n,r,s,i,o,l,u,a,c,f,d,g,w,v;return $n(Sn(Y([ye(_=>new Qt(4,[]),Sn(Y([mr(`\r
`),mr(`
`),mr("\r")]))),ye(_=>new Qt(9,[]),bm()),ye(_=>new Qt(0,[]),(e=cD(),t=Mi(),new W(_=>{const h=x(e,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(t,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(1,[]),(n=aD(),r=Mi(),new W(_=>{const h=x(n,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(r,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(2,[]),(s=ze("("),i=Mi(),new W(_=>{const h=x(s,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(i,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(3,[]),(o=ze(")"),l=Mi(),new W(_=>{const h=x(o,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(l,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(5,[]),(u=ze("="),a=Mi(),new W(_=>{const h=x(u,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(a,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(6,[]),(c=mr("->"),f=Mi(),new W(_=>{const h=x(c,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(f,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(8,[]),(d=mr(":"),g=Mi(),new W(_=>{const h=x(d,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(g,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}}))),ye(_=>new Qt(7,[_]),(w=uD(),v=Mi(),new W(_=>{const h=x(w,_[0],_[1]);if(h.tag===1)return new y(1,[h.fields[0]]);{const p=x(v,h.fields[0][2],h.fields[0][1]);return p.tag===1?new y(1,[p.fields[0]]):new y(0,[[h.fields[0][0],p.fields[0][1],p.fields[0][2]]])}})))])))}function jm(e){du(e,[`
`,`\r
`,`
`],void 0,0);const t=Gm(fD(),e);if(t.tag===1){const n=t.fields[0];return Xe(L("%O"))([n[0],void 0,n[2]])}else return Ur(t.fields[0][0])}function Hm(){return ze(new Qt(2,[]))}function Wm(){return ze(new Qt(3,[]))}function kw(){return Lm(e=>e.tag===7?e.fields[0]:void 0)}const Zm=hd(),dD=Zm[1],Ip=Zm[0];function Km(){return ye(e=>new sD(e),kw())}function pD(){let e,t,n,r,s,i;return ye(o=>new Tp(1,[o]),(e=(t=Sn(Y([ye(o=>new Tp(0,[o]),Km()),(n=(r=Hm(),new W(o=>{const l=x(r,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(Ip,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[u.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),s=Wm(),new W(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))])),i=ze(new Qt(6,[])),new W(o=>{const l=x(t,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),new W(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(Ip,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})))}dD.contents=Sn(Y([pD(),ye(e=>new Tp(0,[e]),Km())]));function hD(){let e,t,n;return ye(r=>new iD(r),(e=(t=kw(),n=ze(new Qt(8,[])),new W(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})),new W(r=>{const s=x(e,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(Ip,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[[s.fields[0][0],i.fields[0][0]],i.fields[0][1],i.fields[0][2]]])}})))}function $d(){return Sn(Y([ye(e=>new ty(1,[e]),hD()),ye(e=>new ty(0,[e]),kw())]))}function wD(){return ze(new Qt(6,[]))}function S0(){return ze(new Qt(4,[]))}function Fo(){return ze(new Qt(9,[]))}const qm=hd(),$D=qm[1],nu=qm[0];function gD(){let e,t;const n=ze(new Qt(1,[])),r=$d();t=new W(i=>{const o=x(n,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(r,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[l.fields[0][0],l.fields[0][1],l.fields[0][2]]])}});const s=wD();return e=new W(i=>{const o=x(t,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(s,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}}),new W(i=>{const o=x(e,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(nu,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}})}function yD(){let e;const t=Hm();e=new W(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(nu,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[i.fields[0][0],i.fields[0][1],i.fields[0][2]]])}});const n=Wm();return new W(r=>{const s=x(e,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})}function ny(){return Sn(Y([ye(e=>new jo(0,[e]),$d()),yD()]))}function vD(){let e,t,n,r;return ye(s=>nn((i,o)=>new jo(2,[[i,o]]),s[0],s[1]),(e=ny(),t=$n((n=$n(Fo()),r=ny(),new W(s=>{const i=x(n,s[0],s[1]);if(i.tag===1)return new y(1,[i.fields[0]]);{const o=x(r,i.fields[0][2],i.fields[0][1]);return o.tag===1?new y(1,[o.fields[0]]):new y(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}}))),new W(s=>{const i=x(e,s[0],s[1]);if(i.tag===1)return new y(1,[i.fields[0]]);{const o=x(t,i.fields[0][2],i.fields[0][1]);return o.tag===1?new y(1,[o.fields[0]]):new y(0,[[[i.fields[0][0],o.fields[0][0]],o.fields[0][1],o.fields[0][2]]])}})))}function _D(){let e,t,n,r,s,i,o,l,u,a,c,f,d,g,w,v,_,h;return ye(p=>{const $=p[0];return[$[0],$[1],p[1]]},(e=ye(p=>p[0],el((p,$)=>ds(p[1]),(t=(n=(r=(s=(i=ze(new Qt(0,[])),o=$d(),new W(p=>{const $=x(i,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(o,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})),l=ze(new Qt(5,[])),new W(p=>{const $=x(s,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(l,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[$.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})),u=Sn(Y([nu,(a=el((p,$)=>ds(p),WP((p,$)=>ds(p)>$,(c=Su((f=$n(Fo()),d=S0(),new W(p=>{const $=x(f,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(d,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}}))),g=$n(Fo()),new W(p=>{const $=x(c,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(g,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})))),new W(p=>{const $=x(a,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(nu,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}}))])),new W(p=>{const $=x(r,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(u,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[[$.fields[0][0],C.fields[0][0]],C.fields[0][1],C.fields[0][2]]])}})),w=Su((v=$n(Fo()),_=S0(),new W(p=>{const $=x(v,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(_,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[C.fields[0][0],C.fields[0][1],C.fields[0][2]]])}}))),new W(p=>{const $=x(n,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(w,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[$.fields[0][0],C.fields[0][1],C.fields[0][2]]])}})),h=$n(Fo()),new W(p=>{const $=x(t,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(h,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[[$.fields[0][0],C.fields[0][0]],C.fields[0][1],C.fields[0][2]]])}})))),new W(p=>{const $=x(e,p[0],p[1]);if($.tag===1)return new y(1,[$.fields[0]]);{const C=x(nu,$.fields[0][2],$.fields[0][1]);return C.tag===1?new y(1,[C.fields[0]]):new y(0,[[[$.fields[0][0],C.fields[0][0]],C.fields[0][1],C.fields[0][2]]])}})))}$D.contents=(()=>{let e,t;const n=$n((e=$n(Fo()),t=S0(),new W(s=>{const i=x(e,s[0],s[1]);if(i.tag===1)return new y(1,[i.fields[0]]);{const o=x(t,i.fields[0][2],i.fields[0][1]);return o.tag===1?new y(1,[o.fields[0]]):new y(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}}))),r=Sn(Y([ye(s=>new jo(3,[s]),_D()),vD(),ye(s=>new jo(1,[s]),gD()),ye(s=>new jo(0,[s]),$d())]));return new W(s=>{const i=x(n,s[0],s[1]);if(i.tag===1)return new y(1,[i.fields[0]]);{const o=x(r,i.fields[0][2],i.fields[0][1]);return o.tag===1?new y(1,[o.fields[0]]):new y(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}})})();function mD(){const e=$n(Sn(Y([Fo(),S0()])));return new W(t=>{const n=x(e,t[0],t[1]);if(n.tag===1)return new y(1,[n.fields[0]]);{const r=x(nu,n.fields[0][2],n.fields[0][1]);return r.tag===1?new y(1,[r.fields[0]]):new y(0,[[r.fields[0][0],r.fields[0][1],r.fields[0][2]]])}})}function Qm(e){let t,n;return x((t=mD(),n=Cw(),new W(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})),bu(e),0)}class Jm extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["Env"]}}let ka=class extends de{constructor(t,n,r){super(),this.env=t,this.stack=n,this.term=r}};class Sl extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Terminal","Continue"]}}function ry(e){return e.tag===1?e.fields[0].fields[0][0]:e.fields[0]}function CD(e){const t=e.term;switch(t.tag){case 1:{const n=ry(t.fields[0][0]),r=e.stack;return te(r)?new Sl(0,[]):new Sl(1,[new ka(new Jm(Pt(n,K(r),e.env.fields[0])),z(r),t.fields[0][1])])}case 2:return new Sl(1,[new ka(e.env,xe([t.fields[0][1],e.env],e.stack),t.fields[0][0])]);case 3:return new Sl(1,[new ka(e.env,e.stack,new jo(2,[[new jo(1,[[t.fields[0][0],t.fields[0][2]]]),t.fields[0][1]]]))]);default:{const n=Zt(ry(t.fields[0]),e.env.fields[0]);return n!=null?new Sl(1,[new ka(n[1],e.stack,n[0])]):new Sl(0,[])}}}function Ym(e){return Gv(t=>oe(n=>{const r=CD(n);return r.tag===1?[n,r.fields[0]]:[n,void 0]},t),new ka(new Jm(Lt({Compare:Me})),R(),e))}const Xm=`
let x = 
 let k = a
 let q = \\b->b
 q
x (\\a->d)`,e2=Qm(jm(Xm));e2.tag===0||(()=>{throw new Error("Match failure")})();const SD=e2.fields[0][0];kx(Ym(SD));let Pp=class extends de{constructor(t,n,r){super(),this.input=t,this.term=n,this.state=r}},t2=class extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["ChangeInput"]}};function kD(){return[new Pp("",void 0,R()),en(D(D(e=>{e(new t2(Xm))})))]}function xD(e,t){const n=e.fields[0],r=Qm(jm(n));if(r.tag===0){const s=r.fields[0][0];return[new Pp(n,s,Hs(Q(Ym(s)))),ne()]}else return[new Pp(n,void 0,R()),ne()]}function ED(e,t){let n;return H.createElement("div",tt(Y([["className",Se(" ",["user-select-all"])],["height",1e3],(n=[H.createElement("textarea",{className:Se(" ",["user-select-all"]),style:{width:200,height:500},value:e.input,onChange:r=>{t(new t2(r.target.value))}}),H.createElement("textarea",{style:{width:200,height:500},value:je(e.term)}),H.createElement("textarea",{style:{width:200,height:500},value:je(oe(r=>r.term,Ov(e.state)))}),H.createElement("textarea",{style:{width:200,height:500},value:Ph(e.state)})],["children",Re.Children.toArray(Array.from(n))])])))}class xu extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["VariableName"]}}class Oa extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["SymbolName"]}}class Ce extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Star","Rect","Symbol","Variable","Pi","Abs","App","Eq","Refl"]}}class Dp extends de{constructor(t){super(),this.preContext=t}}class n2 extends de{constructor(t){super(),this.symbols=t}}class Pe extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Sig","Ctx","Term","JEq"]}}function To(e){const t=n=>{switch(n.tag){case 1:return"";case 2:{const r=n.fields[0][0].fields[0],s=n.fields[0][1];return te(s)?r:`${r}(${Se(", ",he(t,s))})`}case 3:return n.fields[0].fields[0];case 4:{const r=n.fields[0][1],s=t(n.fields[0][0]),i=t(n.fields[0][2]);return r!=null?`(${r.fields[0]}: ${s})  ${i}`:`${s}  ${i}`}case 5:{const r=n.fields[0][1].fields[0],s=n.fields[0][0],i=t(n.fields[0][2]);return s!=null?` ${r}: ${t(s)}. ${i}`:` ${r}. ${i}`}case 6:{const r=n.fields[0][1],s=n.fields[0][2],i=n.fields[0][0],o=t(n.fields[0][3]),l=t(n.fields[0][4]);let u,a,c,f;switch(i!=null&&r!=null&&s!=null?(u=0,a=i,c=s,f=r.fields[0]):u=1,u){case 0:return`App(${t(a)}, ${f}, ${t(c)}, ${o}, ${l})`;default:return`${o} ${l}`}}case 7:{const r=n.fields[0][0],s=t(n.fields[0][1]),i=t(n.fields[0][2]);return r!=null?`Eq(${t(r)}, ${s}, ${i})`:`${s} = ${i}`}case 8:return`refl_(${t(n.fields[0])})`;default:return""}};return t(e)}function Gf(e){return`(${Se(", ",fe(t=>`${t[0].fields[0]}: ${To(t[1])}`,Hv(e.preContext)))})`}function r2(e,t,n){return`${e.fields[0]}: ${Gf(t)}  ${To(n)}`}function nf(e){return`(${Se(", ",fe(t=>r2(t[0],t[1],t[2]),Hv(e.symbols)))})`}function s1(e){switch(e.tag){case 1:return`${nf(e.fields[0][0])}|${Gf(e.fields[0][1])}ctx`;case 2:{const t=e.fields[0][3],n=nf(e.fields[0][0]),r=Gf(e.fields[0][1]),s=To(e.fields[0][2]);return t==null?`${n}|${r}${s}`:`${n}|${r}${s}:${To(t)}`}case 3:return`${nf(e.fields[0][0])}|${Gf(e.fields[0][1])}${To(e.fields[0][2])}${To(e.fields[0][3])}:${To(e.fields[0][4])}`;default:return`${nf(e.fields[0])}sig`}}function s2(e){if(!te(e))return[K(e),z(e)]}function Rl(e,t,n){const r=s=>{let i,o,l,u,a,c,f,d,g,w,v,_,h,p,$,C,k,I,P,N,U,V,A,j,B,ie,b,X,O,T;switch(s.tag){case 3:{ee(e,s.fields[0])?(i=0,s.fields[0]):(i=10,T=s);break}case 2:{i=1,o=s.fields[0][1],l=s.fields[0][0];break}case 4:{ee(e,s.fields[0][1])?(i=2,u=s.fields[0][0],a=s.fields[0][2],c=s.fields[0][1]):(i=3,f=s.fields[0][0],d=s.fields[0][2],g=s.fields[0][1]);break}case 5:{ee(e,s.fields[0][1])?(i=4,w=s.fields[0][0],v=s.fields[0][2],_=s.fields[0][1]):(i=5,h=s.fields[0][0],p=s.fields[0][2],$=s.fields[0][1]);break}case 6:{ee(e,s.fields[0][1])?(i=6,C=s.fields[0][0],k=s.fields[0][2],I=s.fields[0][4],P=s.fields[0][3],N=s.fields[0][1]):(i=7,U=s.fields[0][0],V=s.fields[0][2],A=s.fields[0][4],j=s.fields[0][3],B=s.fields[0][1]);break}case 7:{i=8,ie=s.fields[0][0],b=s.fields[0][1],X=s.fields[0][2];break}case 8:{i=9,O=s.fields[0];break}default:i=10,T=s}switch(i){case 0:return t;case 1:return new Ce(2,[[l,he(r,o)]]);case 2:return new Ce(4,[[r(u),c,a]]);case 3:return new Ce(4,[[r(f),g,r(d)]]);case 4:return new Ce(5,[[oe(r,w),_,v]]);case 5:return new Ce(5,[[oe(r,h),$,r(p)]]);case 6:return new Ce(6,[[oe(r,C),N,k,r(P),r(I)]]);case 7:return new Ce(6,[[oe(r,U),B,oe(r,V),r(j),r(A)]]);case 8:return new Ce(7,[[oe(r,ie),r(b),r(X)]]);case 9:return new Ce(8,[r(O)]);default:return T}};return r(n)}function k0(e,t){const n=r=>{switch(r.tag){case 3:{const s=Zt(r.fields[0],e);return s??new Ce(3,[r.fields[0]])}case 2:return new Ce(2,[[r.fields[0][0],he(n,r.fields[0][1])]]);case 4:if(r.fields[0][1]!=null){const s=r.fields[0][1];return Zt(s,e)!=null?new Ce(4,[[n(r.fields[0][0]),s,r.fields[0][2]]]):new Ce(4,[[n(r.fields[0][0]),s,n(r.fields[0][2])]])}else return new Ce(4,[[n(r.fields[0][0]),r.fields[0][1],n(r.fields[0][2])]]);case 5:return Zt(r.fields[0][1],e)!=null?new Ce(5,[[oe(n,r.fields[0][0]),r.fields[0][1],r.fields[0][2]]]):new Ce(5,[[oe(n,r.fields[0][0]),r.fields[0][1],n(r.fields[0][2])]]);case 6:if(r.fields[0][1]!=null){const s=r.fields[0][1];return Zt(s,e)==null?new Ce(6,[[oe(n,r.fields[0][0]),s,oe(n,r.fields[0][2]),n(r.fields[0][3]),n(r.fields[0][4])]]):new Ce(6,[[oe(n,r.fields[0][0]),s,r.fields[0][2],n(r.fields[0][3]),n(r.fields[0][4])]])}else return new Ce(6,[[oe(n,r.fields[0][0]),r.fields[0][1],oe(n,r.fields[0][2]),n(r.fields[0][3]),n(r.fields[0][4])]]);case 7:return new Ce(7,[[oe(n,r.fields[0][0]),n(r.fields[0][1]),n(r.fields[0][2])]]);case 8:return new Ce(8,[n(r.fields[0])]);default:return r}};return n(t)}function xw(e){return new Dp(e)}function MD(e){return oe(t=>[t[0],xw(t[1])],s2(e.preContext))}function xo(e,t,n){return xw(xe([e,t],n.preContext))}function i2(e,t){return oe(n=>n[1],l0(n=>ee(n[0],e),t.preContext))}new n2(Y([[new Oa("Type"),new Dp(R()),new Ce(1,[])],[new Oa("el"),new Dp(D([new xu("A"),new Ce(2,[[new Oa("Type"),R()]])])),new Ce(0,[])]]));function Np(e,t){return l0(n=>ee(n[0],e),t.symbols)}function o2(e){return new n2(e)}function TD(e){return oe(t=>[t[0],o2(t[1])],s2(e.symbols))}class ue extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Single","And","Or","Label","True","False"]}}function Ze(e,t){return new ue(3,[[e,t]])}function rf(e,t){return new ue(3,[[e,new ue(0,[t])]])}function is(e,t,n){let r,s,i,o,l,u,a,c,f,d,g,w,v,_,h,p;switch(n.tag){case 0:case 1:{r=4;break}case 4:{r=5;break}case 7:{r=7;break}case 2:{r=1,i=n.fields[0][0],o=n.fields[0][1];break}case 6:{n.fields[0][0]!=null&&n.fields[0][1]!=null&&n.fields[0][2]!=null?(r=2,n.fields[0][0],l=n.fields[0][2],u=n.fields[0][4],n.fields[0][3],a=n.fields[0][1]):(r=3,c=n.fields[0][0],f=n.fields[0][2],d=n.fields[0][4],g=n.fields[0][3],w=n.fields[0][1]);break}case 5:{r=6,v=n.fields[0][0],_=n.fields[0][2],h=n.fields[0][1];break}case 8:{r=8,p=n.fields[0];break}default:r=0,s=n.fields[0]}switch(r){case 0:{const $=i2(s,t);return $!=null?[$,"variable"]:[void 0,`variable ${s} is not in context`]}case 1:{const $=Np(i,e);if($!=null){const C=$[1];$[0];const k=$[2],I=ds(C.preContext)|0,P=ds(o)|0;if(I!==P)return[void 0,`length not match: ${I} ${P}`];{const N=nn((U,V)=>{const A=U[0],j=U[1],B=V[0],ie=V[1],b=B[0],X=B[1];if(j!=null){const O=j;return Te(L("%O"))(O),[xe(new ue(0,[new Pe(2,[[e,t,ie,k0(O,X)]])]),A),Pt(b,ie,O)]}else return[xe(new ue(0,[new Pe(2,[[e,t,ie,X]])]),A),Pt(b,ie,Lt({Compare:Me}))]},[R(),void 0],zv(Hs(C.preContext),o));return N[1]!=null?[k0(N[1],k),"9: "]:[k,"9: empty"]}}else return[void 0,`symbol ${i} is not defined`]}case 2:return[Rl(a,u,l),"13: app"];case 3:if((c??is(e,t,d)[0])!=null){const C=f??is(e,t,g)[0];if(C!=null){const k=C;if(k.tag===4){const I=k.fields[0][1],P=k.fields[0][2];let N,U;switch(I!=null?w!=null?(N=1,U=w):(N=1,U=I):w!=null?(N=1,U=w):N=0,N){case 0:return[P,"13: app with type guess"];default:return[Rl(U,d,P),"13: app with type guess"]}}else return[void 0,"type guess failed"]}else return[void 0,`type guess failed ${g}`]}else return[void 0,`type guess failed ${d}`];case 4:return[void 0,"star or rect"];case 5:return[new Ce(1,[]),"pi"];case 6:if(v!=null){const $=v;return[oe(C=>new Ce(4,[[$,h,C]]),is(e,xo(h,$,t),_)[0]),"TODO:"]}else return[void 0,"TODO:"];case 7:return[new Ce(1,[]),"eq"];default:return[new Ce(7,[[void 0,p,p]]),"refl"]}}function ID(e){switch(e.tag){case 1:{const t=e.fields[0][0],n=MD(e.fields[0][1]);return n!=null?(n[0][0],rf("5",new Pe(2,[[t,n[1],n[0][1],new Ce(1,[])]]))):rf("4",new Pe(0,[t]))}case 2:{const t=e.fields[0][3],n=e.fields[0][2],r=e.fields[0][0],s=e.fields[0][1];return new ue(2,[Q(m(()=>{let i,o;return E(S(t!=null?(i=t,i.tag===1?new ue(2,[Q(m(()=>E(S(Ze("6: rect",new ue(0,[new Pe(2,[[r,s,n,new Ce(0,[])]])]))),m(()=>{let l;const u=n;switch(u.tag){case 4:return u.fields[0][1]==null?S(Ze("11",new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,u.fields[0][0],new Ce(0,[])]])]),new ue(0,[new Pe(2,[[r,s,u.fields[0][2],new Ce(1,[])]])])])]))):(l=u.fields[0][1],S(Ze("11",new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,u.fields[0][0],new Ce(0,[])]])]),new ue(0,[new Pe(2,[[r,xo(l,u.fields[0][0],s),u.fields[0][2],new Ce(1,[])]])])])]))));case 7:if(u.fields[0][0]==null){const a=is(r,s,u.fields[0][1])[0];if(a!=null){const c=a;return S(Ze("16: eq with type guess",new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,c,new Ce(1,[])]])]),new ue(0,[new Pe(2,[[r,s,u.fields[0][1],c]])]),new ue(0,[new Pe(2,[[r,s,u.fields[0][2],c]])])])])))}else return S(Ze("a",new ue(5,[])))}else{const a=u.fields[0][0];return S(Ze("16: eq",new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,a,new Ce(1,[])]])]),new ue(0,[new Pe(2,[[r,s,u.fields[0][1],a]])]),new ue(0,[new Pe(2,[[r,s,u.fields[0][2],a]])])])])))}default:return S(Ze("term rect",new ue(5,[])))}}))))]):i.tag===4?n.tag===5?n.fields[0][0]!=null?ee(i.fields[0][0],n.fields[0][0])&&ee(i.fields[0][1],n.fields[0][1])?(n.fields[0][0],new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,i.fields[0][0],new Ce(0,[])]])]),new ue(0,[new Pe(2,[[r,xo(n.fields[0][1],i.fields[0][0],s),n.fields[0][2],i.fields[0][2]]])])])])):new ue(2,[R()]):new ue(2,[R()]):new ue(2,[R()]):i.tag===6?Xe(L("not inmplemented term app")):i.tag===7?i.fields[0][0]!=null?(i.fields[0][0],ee(i.fields[0][1],i.fields[0][2])?(o=i.fields[0][0],n.tag===8?ee(i.fields[0][1],n.fields[0])?Ze("eq",new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,o,new Ce(1,[])]])]),new ue(0,[new Pe(2,[[r,s,i.fields[0][1],o]])])])])):new ue(2,[R()]):new ue(2,[R()])):Ze("term",new ue(5,[]))):Ze("term",new ue(5,[])):Ze("term",new ue(5,[]))):new ue(5,[])),m(()=>{let l,u,a,c,f,d,g,w,v,_,h,p,$,C,k,I,P,N,U,V,A,j,B,ie,b,X,O,T,q;return E((l=n,l.tag===3?S((u=i2(l.fields[0],s),u!=null?(a=u,t!=null?(c=t,ee(a,c)?Ze("variable",new ue(0,[new Pe(1,[[r,s]])])):Ze(`type of ${l.fields[0]} is not match ${a} and ${c}`,new ue(5,[]))):Ze("variable",new ue(0,[new Pe(1,[[r,s]])]))):Ze(`variable ${l.fields[0]} is not in context`,new ue(5,[])))):l.tag===2?S((f=Np(l.fields[0][0],r),f!=null?(d=f[1],f[0],g=f[2],w=new ue(0,[new Pe(1,[[r,s]])]),v=ds(d.preContext)|0,_=ds(l.fields[0][1])|0,v!==_?Ze(`length not match: ${v} ${_}`,new ue(5,[])):(h=nn((re,_e)=>{const ge=re[0],Ye=re[1],ut=_e[0],xt=_e[1],yt=ut[0],fn=ut[1];if(Ye!=null){const vn=Ye;return Te(L("%O"))(vn),[xe(new ue(0,[new Pe(2,[[r,s,xt,k0(vn,fn)]])]),ge),Pt(yt,xt,vn)]}else return[xe(new ue(0,[new Pe(2,[[r,s,xt,fn]])]),ge),Pt(yt,xt,Lt({Compare:Me}))]},[R(),void 0],zv(Hs(d.preContext),l.fields[0][1])),h[1]!=null?(p=k0(h[1],g),!ee(t,p)&&!ee(t,void 0)?Ze(`type not match ${t} and ${p}`,new ue(5,[])):Ze("9: ",new ue(1,[Q(m(()=>E(S(w),m(()=>h[0]))))]))):!ee(t,g)&&!ee(t,void 0)?Ze(`type not match ${t} and ${g}`,new ue(5,[])):Ze("9: empty",w))):Ze(`symbol ${l.fields[0][0]} is not defined`,new ue(5,[])))):l.tag===6?l.fields[0][0]!=null?l.fields[0][1]!=null?l.fields[0][2]!=null?($=l.fields[0][0],C=l.fields[0][2],k=l.fields[0][1],I=Rl(k,l.fields[0][4],C),!ee(I,t)&&!ee(t,void 0)?S(Ze(`13: type not match ${t} and ${I}`,new ue(5,[]))):S(Ze("13: app",new ue(1,[Y([new ue(0,[new Pe(2,[[r,s,$,new Ce(0,[])]])]),new ue(0,[new Pe(2,[[r,xo(k,$,s),$,new Ce(0,[])]])]),new ue(0,[new Pe(2,[[r,s,l.fields[0][3],new Ce(4,[[$,k,C]])]])])])])))):(P=l.fields[0][0]==null?is(r,s,l.fields[0][4])[0]:l.fields[0][0],N=(U=l.fields[0][2]==null?is(r,s,l.fields[0][3])[0]:l.fields[0][2],U!=null?(V=U,V.tag===4?(A=V.fields[0][1],j=V.fields[0][2],B=V.fields[0][0],ee(P,B)||ee(P,void 0)?A!=null?(ie=Rl(A,l.fields[0][4],j),ee(ie,t)||ee(t,void 0)?[[A,B,V,j,ie],"13: app with type guess"]:[void 0,`13: type not match ${ie} ${t}`]):[[A,B,V,j,j],"13: app with type guess"]:[void 0,`type not match ${P} ${B}`]):[void 0,`${V} must be Pi`]):[void 0,`type guess failed ${l.fields[0][3]}`]),b=N[0],b!=null?(X=b[0],O=b[3],T=b[2],q=b[1],S(Ze(`13: app ${b[4]}`,new ue(1,[Q(m(()=>E(S(new ue(0,[new Pe(2,[[r,s,q,new Ce(0,[])]])])),m(()=>E(S(new ue(0,[new Pe(2,[[r,Ls((re,_e)=>xo(re,q,_e),Ia(X),s),O,new Ce(1,[])]])])),m(()=>E(S(new ue(0,[new Pe(2,[[r,s,l.fields[0][3],T]])])),m(()=>S(new ue(0,[new Pe(2,[[r,s,l.fields[0][4],q]])]))))))))))])))):S(Ze(`13: ${N[1]}`,new ue(5,[])))):(P=l.fields[0][0]==null?is(r,s,l.fields[0][4])[0]:l.fields[0][0],N=(U=l.fields[0][2]==null?is(r,s,l.fields[0][3])[0]:l.fields[0][2],U!=null?(V=U,V.tag===4?(A=V.fields[0][1],j=V.fields[0][2],B=V.fields[0][0],ee(P,B)||ee(P,void 0)?A!=null?(ie=Rl(A,l.fields[0][4],j),ee(ie,t)||ee(t,void 0)?[[A,B,V,j,ie],"13: app with type guess"]:[void 0,`13: type not match ${ie} ${t}`]):[[A,B,V,j,j],"13: app with type guess"]:[void 0,`type not match ${P} ${B}`]):[void 0,`${V} must be Pi`]):[void 0,`type guess failed ${l.fields[0][3]}`]),b=N[0],b!=null?(X=b[0],O=b[3],T=b[2],q=b[1],S(Ze(`13: app ${b[4]}`,new ue(1,[Q(m(()=>E(S(new ue(0,[new Pe(2,[[r,s,q,new Ce(0,[])]])])),m(()=>E(S(new ue(0,[new Pe(2,[[r,Ls((re,_e)=>xo(re,q,_e),Ia(X),s),O,new Ce(1,[])]])])),m(()=>E(S(new ue(0,[new Pe(2,[[r,s,l.fields[0][3],T]])])),m(()=>S(new ue(0,[new Pe(2,[[r,s,l.fields[0][4],q]])]))))))))))])))):S(Ze(`13: ${N[1]}`,new ue(5,[])))):(P=l.fields[0][0]==null?is(r,s,l.fields[0][4])[0]:l.fields[0][0],N=(U=l.fields[0][2]==null?is(r,s,l.fields[0][3])[0]:l.fields[0][2],U!=null?(V=U,V.tag===4?(A=V.fields[0][1],j=V.fields[0][2],B=V.fields[0][0],ee(P,B)||ee(P,void 0)?A!=null?(ie=Rl(A,l.fields[0][4],j),ee(ie,t)||ee(t,void 0)?[[A,B,V,j,ie],"13: app with type guess"]:[void 0,`13: type not match ${ie} ${t}`]):[[A,B,V,j,j],"13: app with type guess"]:[void 0,`type not match ${P} ${B}`]):[void 0,`${V} must be Pi`]):[void 0,`type guess failed ${l.fields[0][3]}`]),b=N[0],b!=null?(X=b[0],O=b[3],T=b[2],q=b[1],S(Ze(`13: app ${b[4]}`,new ue(1,[Q(m(()=>E(S(new ue(0,[new Pe(2,[[r,s,q,new Ce(0,[])]])])),m(()=>E(S(new ue(0,[new Pe(2,[[r,Ls((re,_e)=>xo(re,q,_e),Ia(X),s),O,new Ce(1,[])]])])),m(()=>E(S(new ue(0,[new Pe(2,[[r,s,l.fields[0][3],T]])])),m(()=>S(new ue(0,[new Pe(2,[[r,s,l.fields[0][4],q]])]))))))))))])))):S(Ze(`13: ${N[1]}`,new ue(5,[])))):Fe()),m(()=>{let re;return t==null?S((re=is(r,s,n)[0],re!=null?new ue(0,[new Pe(2,[[r,s,n,re]])]):Ze("type guess failed",new ue(5,[])))):S(Ze("not implement dayo",new ue(5,[])))}))}))}))])}case 3:{const t=e.fields[0][3],n=e.fields[0][4];return new ue(2,[Q(m(()=>{let r,s,i;switch(n.tag===7&&ee(n.fields[0][1],n.fields[0][2])?(r=0,s=n.fields[0][0],i=n.fields[0][1],n.fields[0][2]):r=1,r){case 0:{let o,l;switch(t.tag===8&&ee(i,t.fields[0])?(o=0,t.fields[0],l=e.fields[0][2]):o=1,o){case 0:return S(Ze("19",new ue(0,[new Pe(2,[[e.fields[0][0],e.fields[0][1],l,new Ce(7,[[s,i,i]])]])])));default:return S(new ue(5,[]))}}default:throw new Error("Match failure: UemuraLogicalFramework.PreTerm")}}))])}default:{const t=TD(e.fields[0]);if(t!=null){const n=t[1],r=t[0][2],s=t[0][1],i=t[0][0];if(Np(i,n)!=null)return Ze(`${i} is already in signature`,new ue(5,[]));switch(r.tag){case 0:case 1:return rf("1",new Pe(1,[[n,s]]));default:return rf("2",new Pe(2,[[n,s,r,new Ce(1,[])]]))}}else return Ze("3",new ue(4,[]))}}}function PD(e){let t=Lt({Compare:Me});const n=r=>{const s=o=>{switch(o.tag){case 1:{let l;return l=((a,c)=>{e:for(;;){const f=a,d=c;if(te(f))return new Be(0,[d(R())]);{const g=(w=>w.tag===1?new Be(1,[w.fields[0]]):new Be(0,[w.fields[0]]))(K(f));if(g.tag===1)return new Be(1,[g.fields[0]]);a=z(f),c=w=>d(xe(g.fields[0],w));continue e}}})(he(s,o.fields[0]),a=>a),l.tag===1?new Be(1,[new ts([[r,"and"],D(l.fields[0])])]):new Be(0,[new ts([[r,"and"],l.fields[0]])])}case 2:{let l;return l=((a,c)=>{e:for(;;){const f=a,d=c;if(te(f))return new Be(1,[d(R())]);{const g=(w=>w.tag===0?new Be(0,[w.fields[0]]):new Be(1,[w.fields[0]]))(K(f));if(g.tag===1){a=z(f),c=w=>d(xe(g.fields[0],w));continue e}else return new Be(0,[g.fields[0]])}}})(he(s,o.fields[0]),a=>a),l.tag===1?new Be(1,[new ts([[r,void 0],l.fields[0]])]):new Be(0,[new ts([[r,void 0],D(l.fields[0])])])}case 5:return new Be(1,[new ts([[r,void 0],R()])]);case 4:return new Be(0,[new ts([[r,void 0],R()])]);case 3:{const l=o.fields[0][0],u=s(o.fields[0][1]);return u.tag===1?new Be(1,[new ts([[r,l],D(u.fields[0])])]):new Be(0,[new ts([[r,l],D(u.fields[0])])])}default:return n(o.fields[0])}},i=Zt(r,t);if(i!=null){const o=i;return o.tag===1?new Be(1,[new ts([[o.fields[0].fields[0][0][0],`memo: ${o.fields[0].fields[0][0][1]}`],R()])]):new Be(0,[new ts([[o.fields[0].fields[0][0][0],`memo: ${o.fields[0].fields[0][0][1]}`],R()])])}else{const o=s(ID(r));return t=Pt(r,o,t),o}};return n(e)}fi(Y(["|","",">","(",")","-","=",":","\\",";"]),{Compare:wn});class Ee extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Mid","Vdash","Star","Rect","Sig","DoubleArrow","Arrow","Colon","OpenKakko","CloseKakko","Ctx","Comma","Pi","Abs","Refl","App","Eq","Name","Dot","Equals","JEquals","NewLine","WhiteSpace"]}}function l2(){return pd("spaceT",e=>wd(e)&&e!==`
`&&e!=="\r")}function Ra(){return $n(l2())}class Ke extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Char","String","Or"]}}const u2=Y([[new Ee(1,[]),new Ke(2,[Y([new Ke(1,["|-"]),new Ke(0,[""])])])],[new Ee(0,[]),new Ke(0,["|"])],[new Ee(2,[]),new Ke(2,[Y([new Ke(0,["*"]),new Ke(0,[""])])])],[new Ee(3,[]),new Ke(2,[Y([new Ke(1,["rect"]),new Ke(0,[""])])])],[new Ee(4,[]),new Ke(1,["sig"])],[new Ee(5,[]),new Ke(2,[Y([new Ke(1,["=>"]),new Ke(0,[""])])])],[new Ee(6,[]),new Ke(2,[Y([new Ke(1,["->"]),new Ke(0,[""]),new Ke(0,[""])])])],[new Ee(7,[]),new Ke(0,[":"])],[new Ee(8,[]),new Ke(0,["("])],[new Ee(9,[]),new Ke(0,[")"])],[new Ee(10,[]),new Ke(1,["ctx"])],[new Ee(11,[]),new Ke(0,[","])],[new Ee(12,[]),new Ke(2,[Y([new Ke(1,["Pi"]),new Ke(0,[""])])])],[new Ee(13,[]),new Ke(1,["Abs"])],[new Ee(14,[]),new Ke(1,["Refl"])],[new Ee(15,[]),new Ke(1,["App"])],[new Ee(16,[]),new Ke(1,["Eq"])],[new Ee(18,[]),new Ke(0,["."])],[new Ee(19,[]),new Ke(0,["="])],[new Ee(20,[]),new Ke(0,[""])]]);function Vp(){return or("kigoChar",Q(m(()=>Ut(e=>{const t=n=>{switch(n.tag){case 0:return ye(r=>{},ze(n.fields[0]));case 2:return Sn(he(t,n.fields[0]));default:return ku()}};return S(ye(()=>e[0],t(e[1])))},u2))))}function DD(){return or("kigoString",Q(m(()=>Ut(e=>{const t=n=>{switch(n.tag){case 1:return ye(r=>{},mr(n.fields[0]));case 2:return Sn(he(t,n.fields[0]));default:return ku()}};return S(ye(()=>e[0],t(e[1])))},u2))))}function Op(){return ye(e=>new Ee(22,[]),l2())}const a2=hd(),ND=a2[1],c2=a2[0];class So extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["T","N","E"]}}function Rp(){return ye(K,Su(ye(e=>new Ee(21,[]),or("newline",Y([mr(`\r
`),mr("\r"),mr(`
`)])))))}ND.contents=ye(e=>{const t=e[0],n=e[1];switch(n.tag){case 1:return new So(1,[`${t}${n.fields[0]}`]);case 2:return new So(1,[`${t}`]);default:return new So(0,[[`${t}${n.fields[0][0]}`,n.fields[0][1]]])}},(()=>{let e,t,n;const r=Sw(),s=or("pNameStr",Y([ye(i=>new So(0,[["",i]]),Rp()),ye(i=>new So(2,[]),Op()),ye(i=>new So(0,[["",i]]),(e=Vp(),t=Ra(),new W(i=>{const o=x(e,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(t,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}}))),(n=Ra(),new W(i=>{const o=x(c2,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(n,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}})),ye(()=>new So(2,[]),Cw())]));return new W(i=>{const o=x(r,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(s,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}})})());function VD(){return ye(e=>{switch(e.tag){case 1:return D(new Ee(17,[e.fields[0]]));case 2:return R();default:return Y([new Ee(17,[e.fields[0][0]]),e.fields[0][1]])}},c2)}function OD(){let e,t,n,r,s,i,o,l,u,a,c,f,d,g;return $n(or("tokenizer",Y([ye(D,Rp()),ye(D,(e=Vp(),t=Ra(),new W(w=>{const v=x(e,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(t,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}}))),ye(D,Op()),ye(D,(n=(r=DD(),s=qP(Sn(Y([(i=Vp(),o=Lf(),new W(w=>{const v=x(i,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(o,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[_.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),(l=Rp(),u=Lf(),new W(w=>{const v=x(l,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(u,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[_.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),(a=Op(),c=Lf(),new W(w=>{const v=x(a,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(c,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[_.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),Cw()]))),new W(w=>{const v=x(r,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(s,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}})),f=Ra(),new W(w=>{const v=x(n,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(f,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}}))),(d=VD(),g=Ra(),new W(w=>{const v=x(d,w[0],w[1]);if(v.tag===1)return new y(1,[v.fields[0]]);{const _=x(g,v.fields[0][2],v.fields[0][1]);return _.tag===1?new y(1,[_.fields[0]]):new y(0,[[v.fields[0][0],_.fields[0][1],_.fields[0][2]]])}}))])))}function RD(e){const t=Gm(OD(),e);if(t.tag===1){const n=t.fields[0];return Xe(L("%O"))([n[0],void 0,n[2]])}else return Ko(t.fields[0][0])}function f2(e){switch(e.tag){case 15:return"app";case 6:return"";case 7:return":";case 0:return"|";case 1:return"";case 2:return"*";case 3:return"";case 4:return"sig";case 5:return"";case 8:return"(";case 9:return")";case 10:return"ctx";case 11:return",";case 12:return"";case 14:return"refl";case 16:return"eq";case 17:return`"${e.fields[0]}"`;case 18:return".";case 19:return"=";case 20:return"";case 21:return`
`;case 22:return"ws";default:return"abs"}}class gi extends de{constructor(t,n){super(),this.symbolNames=t,this.variableNames=n}}function x0(){return D(co({Compare:Me}))}function d2(e){return Rh(Ov(e),co({Compare:Me}))}function gd(e,t){return xe(Fu(e,d2(t)),t)}function sy(e,t){return Kr(e,d2(t))}function zD(e){return te(e)?R():z(e)}const p2=hd(),FD=p2[1],$t=p2[0];function Oc(){return Lm(e=>e.tag===17?e.fields[0]:void 0)}function vs(e){const t=$i(r=>new Kt(0,[["pBetweenKakko: open kakko not found",D(r)]]),ze(new Ee(8,[]))),n=$i(r=>new Kt(0,[["pBetweenKakko: close kakko not found",D(r)]]),ze(new Ee(9,[])));return new W(r=>{const s=x(new W(i=>{const o=x(t,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(e,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[l.fields[0][0],l.fields[0][1],l.fields[0][2]]])}}),r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})}function Ew(){return el((e,t)=>new gi(t.symbolNames,gd(e,t.variableNames)),Oc())}function Mw(){return e=>el((t,n)=>new gi(n.symbolNames,zD(n.variableNames)),e)}function LD(){let e,t;return ye(n=>{const r=n[0];return[r[0],r[1],n[1]]},Mw()((e=(t=Ew(),new W(n=>{const r=x($t,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=x(t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1],s.fields[0][2]]])}})),new W(n=>{const r=x(e,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=x($t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1],s.fields[0][2]]])}}))))}function GD(){let e,t,n,r,s,i;return vs(ye(o=>{const l=o[0];return[l[0],l[1],o[1]]},Mw()((e=(t=(n=(r=ze(new Ee(11,[])),new W(o=>{const l=x($t,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(r,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),s=Ew(),new W(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})),i=ze(new Ee(11,[])),new W(o=>{const l=x(t,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),new W(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x($t,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})))))}function AD(){let e,t,n,r,s,i;const o=Am((e=Ew(),t=ze(new Ee(7,[])),new W(l=>{const u=x(e,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x(t,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})));return i=new W(l=>{const u=x(o,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x($t,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}}),ye(l=>{const u=l[0];return[u[1],u[0],l[1]]},Mw()((n=(r=or("PiArrow",Y([vs(i),i])),s=ze(new Ee(6,[])),new W(l=>{const u=x(r,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x(s,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})),new W(l=>{const u=x(n,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x($t,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}}))))}function BD(){return ye(e=>new Ce(4,[[e[0],oe(t=>new xu(t),e[1]),e[2]]]),or("Pi",Y([LD(),GD(),AD()])))}function UD(){let e,t,n,r,s,i;return ye(o=>{const l=o[0];return new Ce(5,[[l[0],new xu(l[1]),o[1]]])},vs((e=(t=(n=Am((r=ze(new Ee(11,[])),new W(o=>{const l=x($t,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(r,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))),s=Oc(),new W(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}})),i=ze(new Ee(11,[])),new W(o=>{const l=x(t,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})),new W(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x($t,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}}))))}function bD(){let e,t,n,r,s;return ye(i=>{const o=i[0];return new Ce(7,[[o[0],o[1],i[1]]])},vs((e=(t=(n=(r=ze(new Ee(11,[])),new W(i=>{const o=x($t,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(r,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}})),new W(i=>{const o=x(n,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x($t,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}})),s=ze(new Ee(11,[])),new W(i=>{const o=x(t,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x(s,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[o.fields[0][0],l.fields[0][1],l.fields[0][2]]])}})),new W(i=>{const o=x(e,i[0],i[1]);if(o.tag===1)return new y(1,[o.fields[0]]);{const l=x($t,o.fields[0][2],o.fields[0][1]);return l.tag===1?new y(1,[l.fields[0]]):new y(0,[[[o.fields[0][0],l.fields[0][0]],l.fields[0][1],l.fields[0][2]]])}}))))}function jD(){let e,t;return or("symbol",Y([ye(n=>xe(n[0],n[1]),vs((e=$n((t=ze(new Ee(11,[])),new W(n=>{const r=x(t,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=x($t,r.fields[0][2],r.fields[0][1]);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[[s.fields[0][0],s.fields[0][1],s.fields[0][2]]])}}))),new W(n=>{const r=x($t,n[0],n[1]);if(r.tag===1)return new y(1,[r.fields[0]]);{const s=x(e,r.fields[0][2],r.fields[0][1]);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[[[r.fields[0][0],s.fields[0][0]],s.fields[0][1],s.fields[0][2]]])}})))),vs(si(R())),si(R())]))}class HD extends ce{constructor(t){super(),this.tag=0,this.fields=[t]}cases(){return["PreTerm"]}}FD.contents=or("term",Y([vs($t),Oi(e=>{let t,n,r,s,i,o,l,u;switch(e.tag){case 12:return BD();case 2:return si(new Ce(0,[]));case 3:return si(new Ce(1,[]));case 13:return UD();case 17:{const a=e.fields[0];return Oi(c=>{let f,d;return or("name",Y([ye(g=>new Ce(4,[[c,void 0,g]]),(f=ze(new Ee(6,[])),new W(g=>{const w=x(f,g[0],g[1]);if(w.tag===1)return new y(1,[w.fields[0]]);{const v=x($t,w.fields[0][2],w.fields[0][1]);return v.tag===1?new y(1,[v.fields[0]]):new y(0,[[v.fields[0][0],v.fields[0][1],v.fields[0][2]]])}}))),ye(g=>new Ce(7,[[void 0,c,g]]),(d=ze(new Ee(19,[])),new W(g=>{const w=x(d,g[0],g[1]);if(w.tag===1)return new y(1,[w.fields[0]]);{const v=x($t,w.fields[0][2],w.fields[0][1]);return v.tag===1?new y(1,[v.fields[0]]):new y(0,[[v.fields[0][0],v.fields[0][1],v.fields[0][2]]])}}))),ye(g=>new Ce(6,[[void 0,void 0,void 0,c,g]]),$t),si(c)]))},Oi(c=>{const f=c[1];return sy(a,f.symbolNames)?ye(d=>new Ce(2,[[new Oa(a),d]]),jD()):sy(a,f.variableNames)?si(new Ce(3,[new xu(a)])):ku()},ZP(Lf())))}case 8:return ye(a=>{const c=a[0];return new Ce(4,[[c[1],new xu(c[0]),a[1]]])},(t=el((a,c)=>new gi(c.symbolNames,gd(a[0],c.variableNames)),(n=(r=(s=(i=Oc(),o=ze(new Ee(7,[])),new W(a=>{const c=x(i,a[0],a[1]);if(c.tag===1)return new y(1,[c.fields[0]]);{const f=x(o,c.fields[0][2],c.fields[0][1]);return f.tag===1?new y(1,[f.fields[0]]):new y(0,[[c.fields[0][0],f.fields[0][1],f.fields[0][2]]])}})),new W(a=>{const c=x(s,a[0],a[1]);if(c.tag===1)return new y(1,[c.fields[0]]);{const f=x($t,c.fields[0][2],c.fields[0][1]);return f.tag===1?new y(1,[f.fields[0]]):new y(0,[[[c.fields[0][0],f.fields[0][0]],f.fields[0][1],f.fields[0][2]]])}})),l=ze(new Ee(9,[])),new W(a=>{const c=x(r,a[0],a[1]);if(c.tag===1)return new y(1,[c.fields[0]]);{const f=x(l,c.fields[0][2],c.fields[0][1]);return f.tag===1?new y(1,[f.fields[0]]):new y(0,[[c.fields[0][0],f.fields[0][1],f.fields[0][2]]])}})),u=ze(new Ee(6,[])),new W(a=>{const c=x(n,a[0],a[1]);if(c.tag===1)return new y(1,[c.fields[0]]);{const f=x(u,c.fields[0][2],c.fields[0][1]);return f.tag===1?new y(1,[f.fields[0]]):new y(0,[[c.fields[0][0],f.fields[0][1],f.fields[0][2]]])}}))),new W(a=>{const c=x(t,a[0],a[1]);if(c.tag===1)return new y(1,[c.fields[0]]);{const f=x($t,c.fields[0][2],c.fields[0][1]);return f.tag===1?new y(1,[f.fields[0]]):new y(0,[[[c.fields[0][0],f.fields[0][0]],f.fields[0][1],f.fields[0][2]]])}})));case 16:return bD();default:return ku()}},Sw())]));function WD(){return Sn(D(ye(e=>new HD(e),$t)))}function iy(){let e,t,n;return $i(r=>new Kt(0,[["pContextElm",D(r)]]),(e=(t=el((r,s)=>new gi(s.symbolNames,gd(r,s.variableNames)),Oc()),n=$i(r=>new Kt(0,[["pContextElm: colon not found",D(r)]]),ze(new Ee(7,[]))),new W(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[s.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})),new W(r=>{const s=x(e,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x($t,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[[s.fields[0][0],i.fields[0][0]],i.fields[0][1],i.fields[0][2]]])}})))}function oy(){let e,t,n,r;return $i(s=>new Kt(0,[["pContextr",D(s)]]),ye(s=>xe(s[0],s[1]),(e=iy(),t=$n((n=ze(new Ee(11,[])),r=iy(),new W(s=>{const i=x(n,s[0],s[1]);if(i.tag===1)return new y(1,[i.fields[0]]);{const o=x(r,i.fields[0][2],i.fields[0][1]);return o.tag===1?new y(1,[o.fields[0]]):new y(0,[[o.fields[0][0],o.fields[0][1],o.fields[0][2]]])}}))),new W(s=>{const i=x(e,s[0],s[1]);if(i.tag===1)return new y(1,[i.fields[0]]);{const o=x(t,i.fields[0][2],i.fields[0][1]);return o.tag===1?new y(1,[o.fields[0]]):new y(0,[[[i.fields[0][0],o.fields[0][0]],o.fields[0][1],o.fields[0][2]]])}}))))}function Tw(){return $i(e=>new Kt(0,[["pContext",D(e)]]),ye(e=>xw(Hs(he(t=>[new xu(t[0]),t[1]],e))),or("context",Y([oy(),vs(oy()),vs(si(R()))]))))}function ly(){let e,t,n,r,s,i,o;return $i(l=>new Kt(0,[["pSignatureElm",D(l)]]),ye(l=>{const u=l[0];return[u[0],u[1],l[1]]},(e=(t=(n=(r=ye(l=>new Oa(l),el((l,u)=>new gi(gd(l,u.symbolNames),u.variableNames),Oc())),s=ze(new Ee(7,[])),new W(l=>{const u=x(r,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x(s,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})),i=Tw(),new W(l=>{const u=x(n,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x(i,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}})),o=ze(new Ee(5,[])),new W(l=>{const u=x(t,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x(o,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[u.fields[0][0],a.fields[0][1],a.fields[0][2]]])}})),new W(l=>{const u=x(e,l[0],l[1]);if(u.tag===1)return new y(1,[u.fields[0]]);{const a=x($t,u.fields[0][2],u.fields[0][1]);return a.tag===1?new y(1,[a.fields[0]]):new y(0,[[[u.fields[0][0],a.fields[0][0]],a.fields[0][1],a.fields[0][2]]])}}))))}function uy(){let e,t,n,r,s,i;return $i(o=>new Kt(0,[["pSignaturer",D(o)]]),ye(o=>xe(o[0],o[1]),(e=ly(),t=$n((n=or("signature splitter",Y([ze(new Ee(11,[])),(r=ze(new Ee(21,[])),s=$n(ze(new Ee(22,[]))),new W(o=>{const l=x(r,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(s,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))])),i=ly(),new W(o=>{const l=x(n,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[u.fields[0][0],u.fields[0][1],u.fields[0][2]]])}}))),new W(o=>{const l=x(e,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(t,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[[l.fields[0][0],u.fields[0][0]],u.fields[0][1],u.fields[0][2]]])}}))))}function zp(){return ye(o2,ye(Hs,or("signature",Y([uy(),vs(uy()),vs(si(R()))]))))}function ZD(){return Oi(e=>{const t=$n(HP([new Ee(21,[]),new Ee(22,[])])),n=Sn(Y([Oi(r=>{let s,i;switch(r.tag){case 1:return ye(o=>new Pe(0,[e]),ze(new Ee(4,[])));case 0:return Oi(o=>{let l,u;return Sn(Y([(l=ze(new Ee(10,[])),u=si(new Pe(1,[[e,o]])),new W(a=>{const c=x(l,a[0],a[1]);if(c.tag===1)return new y(1,[c.fields[0]]);{const f=x(u,c.fields[0][2],c.fields[0][1]);return f.tag===1?new y(1,[f.fields[0]]):new y(0,[[f.fields[0][0],f.fields[0][1],f.fields[0][2]]])}})),Oi(a=>{let c,f,d,g,w;return Sn(Y([ye(v=>new Pe(2,[[e,o,a,v]]),(c=ze(new Ee(7,[])),new W(v=>{const _=x(c,v[0],v[1]);if(_.tag===1)return new y(1,[_.fields[0]]);{const h=x($t,_.fields[0][2],_.fields[0][1]);return h.tag===1?new y(1,[h.fields[0]]):new y(0,[[h.fields[0][0],h.fields[0][1],h.fields[0][2]]])}}))),ye(v=>new Pe(3,[[e,o,a,v[0],v[1]]]),(f=(d=(g=ze(new Ee(20,[])),new W(v=>{const _=x(g,v[0],v[1]);if(_.tag===1)return new y(1,[_.fields[0]]);{const h=x($t,_.fields[0][2],_.fields[0][1]);return h.tag===1?new y(1,[h.fields[0]]):new y(0,[[h.fields[0][0],h.fields[0][1],h.fields[0][2]]])}})),w=ze(new Ee(7,[])),new W(v=>{const _=x(d,v[0],v[1]);if(_.tag===1)return new y(1,[_.fields[0]]);{const h=x(w,_.fields[0][2],_.fields[0][1]);return h.tag===1?new y(1,[h.fields[0]]):new y(0,[[_.fields[0][0],h.fields[0][1],h.fields[0][2]]])}})),new W(v=>{const _=x(f,v[0],v[1]);if(_.tag===1)return new y(1,[_.fields[0]]);{const h=x($t,_.fields[0][2],_.fields[0][1]);return h.tag===1?new y(1,[h.fields[0]]):new y(0,[[[_.fields[0][0],h.fields[0][0]],h.fields[0][1],h.fields[0][2]]])}})))]))},$t)]))},(s=Tw(),i=ze(new Ee(1,[])),new W(o=>{const l=x(s,o[0],o[1]);if(l.tag===1)return new y(1,[l.fields[0]]);{const u=x(i,l.fields[0][2],l.fields[0][1]);return u.tag===1?new y(1,[u.fields[0]]):new y(0,[[l.fields[0][0],u.fields[0][1],u.fields[0][2]]])}})));default:return ku()}},Sw()),Oi(r=>ku(),zp())]));return new W(r=>{const s=x(t,r[0],r[1]);if(s.tag===1)return new y(1,[s.fields[0]]);{const i=x(n,s.fields[0][2],s.fields[0][1]);return i.tag===1?new y(1,[i.fields[0]]):new y(0,[[i.fields[0][0],i.fields[0][1],i.fields[0][2]]])}})},zp())}function KD(e,t){return x($t,bu(t),e)}function qD(e,t){return x(Tw(),bu(t),e)}function QD(e,t){return x(zp(),bu(t),e)}function JD(e){return x(ZD(),bu(e),new gi(x0(),x0()))}function YD(e,t){return x(WD(),bu(t),e)}class Af extends de{constructor(t,n,r){super(),this.symbolNames=t,this.variableNames=n,this.preterm=r}}let Tl=class extends de{constructor(t,n,r,s,i,o,l,u,a,c){super(),this.input=t,this.state=n,this.tokens=r,this.parsed=s,this.preterm=i,this.context=o,this.signature=l,this.judgement=u,this.judgementResult=a,this.judgementResultTree=c}};class i1 extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ChangeSymbolNames","ChangeVariableNames","ChangePreTerm"]}}let Bi=class extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["InputMsg","Update","SetJudgementTree","ErrorMsg"]}};function XD(){return[new Tl(new Af("","",""),new gi(x0(),x0()),[],void 0,void 0,new Be(1,[new Kt(2,[])]),new Be(1,[new Kt(2,[])]),new Be(1,[new Kt(2,[])]),void 0,void 0),ne()]}function e5(e,t){let n,r,s;switch(e.tag){case 1:{const i=t.tokens,o=t.state;let l;const u=YD(o,i);l=u.tag===0?u.fields[0][0]:void 0;let a;const c=KD(o,i);a=c.tag===0?c.fields[0][0]:void 0;let f;const d=qD(o,i);f=d.tag===1?new Be(1,[d.fields[0][0]]):new Be(0,[d.fields[0][0]]);let g;const w=QD(o,i);if(w.tag===1){const p=w.fields[0][2][0][0],$=p.slice(w.fields[0][2][0][1],p.length);Te(L("%O"))($),g=new Be(1,[w.fields[0][0]])}else g=new Be(0,[w.fields[0][0]]);let v;const _=JD(i);if(_.tag===1){const p=_.fields[0][2][0][1]|0,$=Nt(f2,_.fields[0][2][0][0]);lt($,p,"["+J(p,$)+"]"),v=new Be(1,[new Kt(0,[[Se(" ",$),D(_.fields[0][0])]])])}else v=new Be(0,[_.fields[0][0]]);const h=v.tag===0?eI(p=>z_($=>[$,!0],p),PD(v.fields[0])):void 0;return[new Tl(t.input,t.state,t.tokens,l,a,f,g,v,h,oe(p=>p.tag===1?new Be(1,[cg(p.fields[0])]):new Be(0,[cg(p.fields[0])]),h)),ne()]}case 2:return[new Tl(t.input,t.state,t.tokens,t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,new Be(0,[Y3(e.fields[0])])),ne()];case 3:return Te(L("%O"))(e.fields[0]),[t,ne()];default:{const i=e.fields[0];switch(i.tag){case 0:{const o=i.fields[0];return[new Tl((n=t.input,new Af(o,n.variableNames,n.preterm)),new gi(D(Ya(du(o,[" "],void 0,0),{Compare:wn})),t.state.variableNames),t.tokens,t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,t.judgementResultTree),D(l=>{l(new Bi(1,[]))})]}case 1:{const o=i.fields[0];return[new Tl((r=t.input,new Af(r.symbolNames,o,r.preterm)),new gi(t.state.symbolNames,D(Ya(du(o,[" "],void 0,0),{Compare:wn}))),t.tokens,t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,t.judgementResultTree),D(l=>{l(new Bi(1,[]))})]}default:{const o=i.fields[0];return[new Tl((s=t.input,new Af(s.symbolNames,s.variableNames,o)),t.state,Ur(RD(o)),t.parsed,t.preterm,t.context,t.signature,t.judgement,t.judgementResult,t.judgementResultTree),D(l=>{l(new Bi(1,[]))})]}}}}}function t5(e,t){try{return e5(e,t)}catch(n){return[t,D(r=>{r(new Bi(3,[n]))})]}}function n5(e,t){let n;return H.createElement("div",tt(Y([["style",{userSelect:"text"}],["height",1e3],["width",1e4],(n=Q(m(()=>E(S(H.createElement("textarea",{value:e.input.symbolNames,onChange:r=>{t(new Bi(0,[new i1(0,[r.target.value])]))}})),m(()=>E(S(H.createElement("textarea",{value:e.input.variableNames,onChange:r=>{t(new Bi(0,[new i1(1,[r.target.value])]))}})),m(()=>E(S(H.createElement("textarea",{value:e.input.preterm,style:{width:1e4,height:300},onChange:r=>{t(new Bi(0,[new i1(2,[r.target.value])]))}})),m(()=>E(S(H.createElement("pre",{children:Se(" ",Nt(f2,e.tokens))})),m(()=>E(S(H.createElement("pre",{children:je(e.parsed)})),m(()=>E(S(H.createElement("pre",{children:je(e.preterm)})),m(()=>{let r;return E(S((r=Q(m(()=>{let s;const i=e.context;return i.tag===0?fe(o=>{const l=D(H.createElement("span",{children:je(o)}));return H.createElement("ul",{children:Re.Children.toArray(Array.from(l))})},i.fields[0].preContext):S((s=D(je(i.fields[0])),H.createElement("p",{children:Re.Children.toArray(Array.from(s))})))})),H.createElement("ol",{children:Re.Children.toArray(Array.from(r))}))),m(()=>{let s;return E(S((s=Q(m(()=>{let i;const o=e.signature;return o.tag===0?fe(l=>{const u=D(H.createElement("span",{children:r2(l[0],l[1],l[2])}));return H.createElement("ul",{children:Re.Children.toArray(Array.from(u))})},Hs(o.fields[0].symbols)):S((i=D(je(o.fields[0])),H.createElement("p",{children:Re.Children.toArray(Array.from(i))})))})),H.createElement("ol",{children:Re.Children.toArray(Array.from(s))}))),m(()=>{let i,o;return E((i=e.judgement,i.tag===0?S(H.createElement("span",{children:s1(i.fields[0])})):S((o=D(je(i.fields[0])),H.createElement("p",{children:Re.Children.toArray(Array.from(o))})))),m(()=>{let l;const u=e.judgementResultTree;if(u==null)return Fe();{const a=u;if(a.tag===1){const c=f=>{let d,g;const w=f.current,v=w[1];if(v!=null){const _=v;return D((d=D((g=Q(m(()=>E(S(H.createElement("span",{style:{color:"orange"},children:_})),m(()=>E(S(H.createElement("span",{style:{color:"red"},children:s1(w[0])})),m(()=>fe(h=>{let p;return H.createElement("li",tt(D((p=c(h),["children",Re.Children.toArray(Array.from(p))]))))},jd(f)))))))),H.createElement("li",{children:Re.Children.toArray(Array.from(g))}))),H.createElement("ul",{children:Re.Children.toArray(Array.from(d))})))}else return Q(m(()=>Ut(_=>{const h=c(_);return te(h)?Fe():S(H.createElement("li",{children:Re.Children.toArray(Array.from(h))}))},jd(f))))};return c(a.fields[0])}else{const c=f=>{let d;const g=f.current,w=g[0][0],v=g[1];return H.createElement("ul",tt(D((d=Q(m(()=>{let _,h,p;return E((_=g[0][1],_!=null?(h=_,S(H.createElement("li",tt(Y([["onClick",$=>{Te(L("clicked!")),t(new Bi(2,[new al([[w,h],!v],f.redoData,f.undoData)]))}],(p=[H.createElement("span",{style:{color:"blue"},children:h}),H.createElement("span",{children:s1(w)})],["children",Re.Children.toArray(Array.from(p))])]))))):Fe()),m(()=>v?fe($=>{let C;return H.createElement("li",tt(D((C=[c($)],["children",Re.Children.toArray(Array.from(C))]))))},jd(f)):Fe()))})),["children",Re.Children.toArray(Array.from(d))]))))};return S(H.createElement("div",tt(Y([["style",{color:"green"}],(l=[c(a.fields[0])],["children",Re.Children.toArray(Array.from(l))])]))))}}}))}))}))})))))))))))))),["children",Re.Children.toArray(Array.from(n))])])))}var h2={exports:{}},Ir={},w2={exports:{}},$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,q){var re=T.length;T.push(q);e:for(;0<re;){var _e=re-1>>>1,ge=T[_e];if(0<s(ge,q))T[_e]=q,T[re]=ge,re=_e;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var q=T[0],re=T.pop();if(re!==q){T[0]=re;e:for(var _e=0,ge=T.length,Ye=ge>>>1;_e<Ye;){var ut=2*(_e+1)-1,xt=T[ut],yt=ut+1,fn=T[yt];if(0>s(xt,re))yt<ge&&0>s(fn,xt)?(T[_e]=fn,T[yt]=re,_e=yt):(T[_e]=xt,T[ut]=re,_e=ut);else if(yt<ge&&0>s(fn,re))T[_e]=fn,T[yt]=re,_e=yt;else break e}}return q}function s(T,q){var re=T.sortIndex-q.sortIndex;return re!==0?re:T.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],a=[],c=1,f=null,d=3,g=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(T){for(var q=n(a);q!==null;){if(q.callback===null)r(a);else if(q.startTime<=T)r(a),q.sortIndex=q.expirationTime,t(u,q);else break;q=n(a)}}function C(T){if(v=!1,$(T),!w)if(n(u)!==null)w=!0,X(k);else{var q=n(a);q!==null&&O(C,q.startTime-T)}}function k(T,q){w=!1,v&&(v=!1,h(N),N=-1),g=!0;var re=d;try{for($(q),f=n(u);f!==null&&(!(f.expirationTime>q)||T&&!A());){var _e=f.callback;if(typeof _e=="function"){f.callback=null,d=f.priorityLevel;var ge=_e(f.expirationTime<=q);q=e.unstable_now(),typeof ge=="function"?f.callback=ge:f===n(u)&&r(u),$(q)}else r(u);f=n(u)}if(f!==null)var Ye=!0;else{var ut=n(a);ut!==null&&O(C,ut.startTime-q),Ye=!1}return Ye}finally{f=null,d=re,g=!1}}var I=!1,P=null,N=-1,U=5,V=-1;function A(){return!(e.unstable_now()-V<U)}function j(){if(P!==null){var T=e.unstable_now();V=T;var q=!0;try{q=P(!0,T)}finally{q?B():(I=!1,P=null)}}else I=!1}var B;if(typeof p=="function")B=function(){p(j)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,b=ie.port2;ie.port1.onmessage=j,B=function(){b.postMessage(null)}}else B=function(){_(j,0)};function X(T){P=T,I||(I=!0,B())}function O(T,q){N=_(function(){T(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,X(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(d){case 1:case 2:case 3:var q=3;break;default:q=d}var re=d;d=q;try{return T()}finally{d=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,q){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var re=d;d=T;try{return q()}finally{d=re}},e.unstable_scheduleCallback=function(T,q,re){var _e=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?_e+re:_e):re=_e,T){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=re+ge,T={id:c++,callback:q,priorityLevel:T,startTime:re,expirationTime:ge,sortIndex:-1},re>_e?(T.sortIndex=re,t(a,T),n(u)===null&&T===n(a)&&(v?(h(N),N=-1):v=!0,O(C,re-_e))):(T.sortIndex=ge,t(u,T),w||g||(w=!0,X(k))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var q=d;return function(){var re=d;d=q;try{return T.apply(this,arguments)}finally{d=re}}}})($2);w2.exports=$2;var r5=w2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g2=H,Er=r5;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y2=new Set,nc={};function cl(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(nc[e]=t,e=0;e<t.length;e++)y2.add(t[e])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,s5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ay={},cy={};function i5(e){return Fp.call(cy,e)?!0:Fp.call(ay,e)?!1:s5.test(e)?cy[e]=!0:(ay[e]=!0,!1)}function o5(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function l5(e,t,n,r){if(t===null||typeof t>"u"||o5(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hn(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){En[e]=new Hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];En[t]=new Hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){En[e]=new Hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){En[e]=new Hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){En[e]=new Hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){En[e]=new Hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){En[e]=new Hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){En[e]=new Hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){En[e]=new Hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Iw=/[\-:]([a-z])/g;function Pw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Iw,Pw);En[t]=new Hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Iw,Pw);En[t]=new Hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Iw,Pw);En[t]=new Hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){En[e]=new Hn(e,1,!1,e.toLowerCase(),null,!1,!1)});En.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){En[e]=new Hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Dw(e,t,n,r){var s=En.hasOwnProperty(t)?En[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(l5(t,n,s,r)&&(n=null),r||s===null?i5(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ci=g2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sf=Symbol.for("react.element"),zl=Symbol.for("react.portal"),Fl=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),_2=Symbol.for("react.context"),Vw=Symbol.for("react.forward_ref"),Gp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),Ow=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),m2=Symbol.for("react.offscreen"),fy=Symbol.iterator;function ca(e){return e===null||typeof e!="object"?null:(e=fy&&e[fy]||e["@@iterator"],typeof e=="function"?e:null)}var At=Object.assign,o1;function xa(e){if(o1===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);o1=t&&t[1]||""}return`
`+o1+e}var l1=!1;function u1(e,t){if(!e||l1)return"";l1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(a){var r=a}Reflect.construct(e,[],t)}else{try{t.call()}catch(a){r=a}e.call(t.prototype)}else{try{throw Error()}catch(a){r=a}e()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var s=a.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=l);break}}}finally{l1=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xa(e):""}function u5(e){switch(e.tag){case 5:return xa(e.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return e=u1(e.type,!1),e;case 11:return e=u1(e.type.render,!1),e;case 1:return e=u1(e.type,!0),e;default:return""}}function Bp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fl:return"Fragment";case zl:return"Portal";case Lp:return"Profiler";case Nw:return"StrictMode";case Gp:return"Suspense";case Ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _2:return(e.displayName||"Context")+".Consumer";case v2:return(e._context.displayName||"Context")+".Provider";case Vw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ow:return t=e.displayName||null,t!==null?t:Bp(e.type)||"Memo";case Di:t=e._payload,e=e._init;try{return Bp(e(t))}catch{}}return null}function a5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(t);case 8:return t===Nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function oo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function C2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function c5(e){var t=C2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function of(e){e._valueTracker||(e._valueTracker=c5(e))}function S2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=C2(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function E0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Up(e,t){var n=t.checked;return At({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dy(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=oo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function k2(e,t){t=t.checked,t!=null&&Dw(e,"checked",t,!1)}function bp(e,t){k2(e,t);var n=oo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jp(e,t.type,n):t.hasOwnProperty("defaultValue")&&jp(e,t.type,oo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function py(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jp(e,t,n){(t!=="number"||E0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ea=Array.isArray;function ru(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+oo(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Hp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return At({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(se(92));if(Ea(n)){if(1<n.length)throw Error(se(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:oo(n)}}function x2(e,t){var n=oo(t.value),r=oo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function wy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function E2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?E2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lf,M2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(lf=lf||document.createElement("div"),lf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},f5=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(e){f5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),za[t]=za[e]})});function T2(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||za.hasOwnProperty(e)&&za[e]?(""+t).trim():t+"px"}function I2(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=T2(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var d5=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zp(e,t){if(t){if(d5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function Kp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=null;function Rw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qp=null,su=null,iu=null;function $y(e){if(e=Fc(e)){if(typeof Qp!="function")throw Error(se(280));var t=e.stateNode;t&&(t=Cd(t),Qp(e.stateNode,e.type,t))}}function P2(e){su?iu?iu.push(e):iu=[e]:su=e}function D2(){if(su){var e=su,t=iu;if(iu=su=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function N2(e,t){return e(t)}function V2(){}var a1=!1;function O2(e,t,n){if(a1)return e(t,n);a1=!0;try{return N2(e,t,n)}finally{a1=!1,(su!==null||iu!==null)&&(V2(),D2())}}function sc(e,t){var n=e.stateNode;if(n===null)return null;var r=Cd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(se(231,t,typeof n));return n}var Jp=!1;if(yi)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Jp=!1}function p5(e,t,n,r,s,i,o,l,u){var a=Array.prototype.slice.call(arguments,3);try{t.apply(n,a)}catch(c){this.onError(c)}}var Fa=!1,M0=null,T0=!1,Yp=null,h5={onError:function(e){Fa=!0,M0=e}};function w5(e,t,n,r,s,i,o,l,u){Fa=!1,M0=null,p5.apply(h5,arguments)}function $5(e,t,n,r,s,i,o,l,u){if(w5.apply(this,arguments),Fa){if(Fa){var a=M0;Fa=!1,M0=null}else throw Error(se(198));T0||(T0=!0,Yp=a)}}function fl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function R2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gy(e){if(fl(e)!==e)throw Error(se(188))}function g5(e){var t=e.alternate;if(!t){if(t=fl(e),t===null)throw Error(se(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gy(s),e;if(i===r)return gy(s),t;i=i.sibling}throw Error(se(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?e:t}function z2(e){return e=g5(e),e!==null?F2(e):null}function F2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=F2(e);if(t!==null)return t;e=e.sibling}return null}var L2=Er.unstable_scheduleCallback,yy=Er.unstable_cancelCallback,y5=Er.unstable_shouldYield,v5=Er.unstable_requestPaint,Wt=Er.unstable_now,_5=Er.unstable_getCurrentPriorityLevel,zw=Er.unstable_ImmediatePriority,G2=Er.unstable_UserBlockingPriority,I0=Er.unstable_NormalPriority,m5=Er.unstable_LowPriority,A2=Er.unstable_IdlePriority,yd=null,Us=null;function C5(e){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(yd,e,void 0,(e.current.flags&128)===128)}catch{}}var ws=Math.clz32?Math.clz32:x5,S5=Math.log,k5=Math.LN2;function x5(e){return e>>>=0,e===0?32:31-(S5(e)/k5|0)|0}var uf=64,af=4194304;function Ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function P0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Ma(l):(i&=o,i!==0&&(r=Ma(i)))}else o=n&~s,o!==0?r=Ma(o):i!==0&&(r=Ma(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ws(t),s=1<<n,r|=e[n],t&=~s;return r}function E5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M5(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ws(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=E5(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Xp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function B2(){var e=uf;return uf<<=1,!(uf&4194240)&&(uf=64),e}function c1(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ws(t),e[t]=n}function T5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ws(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Fw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ws(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ct=0;function U2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b2,Lw,j2,H2,W2,eh=!1,cf=[],Wi=null,Zi=null,Ki=null,ic=new Map,oc=new Map,Ri=[],I5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vy(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":ic.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oc.delete(t.pointerId)}}function da(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fc(t),t!==null&&Lw(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function P5(e,t,n,r,s){switch(t){case"focusin":return Wi=da(Wi,e,t,n,r,s),!0;case"dragenter":return Zi=da(Zi,e,t,n,r,s),!0;case"mouseover":return Ki=da(Ki,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return ic.set(i,da(ic.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,oc.set(i,da(oc.get(i)||null,e,t,n,r,s)),!0}return!1}function Z2(e){var t=Lo(e.target);if(t!==null){var n=fl(t);if(n!==null){if(t=n.tag,t===13){if(t=R2(n),t!==null){e.blockedOn=t,W2(e.priority,function(){j2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=th(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qp=r,n.target.dispatchEvent(r),qp=null}else return t=Fc(n),t!==null&&Lw(t),e.blockedOn=n,!1;t.shift()}return!0}function _y(e,t,n){Bf(e)&&n.delete(t)}function D5(){eh=!1,Wi!==null&&Bf(Wi)&&(Wi=null),Zi!==null&&Bf(Zi)&&(Zi=null),Ki!==null&&Bf(Ki)&&(Ki=null),ic.forEach(_y),oc.forEach(_y)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,eh||(eh=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,D5)))}function lc(e){function t(s){return pa(s,e)}if(0<cf.length){pa(cf[0],e);for(var n=1;n<cf.length;n++){var r=cf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wi!==null&&pa(Wi,e),Zi!==null&&pa(Zi,e),Ki!==null&&pa(Ki,e),ic.forEach(t),oc.forEach(t),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)Z2(n),n.blockedOn===null&&Ri.shift()}var ou=Ci.ReactCurrentBatchConfig,D0=!0;function N5(e,t,n,r){var s=ct,i=ou.transition;ou.transition=null;try{ct=1,Gw(e,t,n,r)}finally{ct=s,ou.transition=i}}function V5(e,t,n,r){var s=ct,i=ou.transition;ou.transition=null;try{ct=4,Gw(e,t,n,r)}finally{ct=s,ou.transition=i}}function Gw(e,t,n,r){if(D0){var s=th(e,t,n,r);if(s===null)_1(e,t,r,N0,n),vy(e,r);else if(P5(s,e,t,n,r))r.stopPropagation();else if(vy(e,r),t&4&&-1<I5.indexOf(e)){for(;s!==null;){var i=Fc(s);if(i!==null&&b2(i),i=th(e,t,n,r),i===null&&_1(e,t,r,N0,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else _1(e,t,r,null,n)}}var N0=null;function th(e,t,n,r){if(N0=null,e=Rw(r),e=Lo(e),e!==null)if(t=fl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=R2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return N0=e,null}function K2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_5()){case zw:return 1;case G2:return 4;case I0:case m5:return 16;case A2:return 536870912;default:return 16}default:return 16}}var Ui=null,Aw=null,Uf=null;function q2(){if(Uf)return Uf;var e,t=Aw,n=t.length,r,s="value"in Ui?Ui.value:Ui.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Uf=s.slice(e,1<r?1-r:void 0)}function bf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ff(){return!0}function my(){return!1}function Pr(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ff:my,this.isPropagationStopped=my,this}return At(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ff)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ff)},persist:function(){},isPersistent:ff}),t}var ju={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bw=Pr(ju),zc=At({},ju,{view:0,detail:0}),O5=Pr(zc),f1,d1,ha,vd=At({},zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ha&&(ha&&e.type==="mousemove"?(f1=e.screenX-ha.screenX,d1=e.screenY-ha.screenY):d1=f1=0,ha=e),f1)},movementY:function(e){return"movementY"in e?e.movementY:d1}}),Cy=Pr(vd),R5=At({},vd,{dataTransfer:0}),z5=Pr(R5),F5=At({},zc,{relatedTarget:0}),p1=Pr(F5),L5=At({},ju,{animationName:0,elapsedTime:0,pseudoElement:0}),G5=Pr(L5),A5=At({},ju,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),B5=Pr(A5),U5=At({},ju,{data:0}),Sy=Pr(U5),b5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=H5[e])?!!t[e]:!1}function Uw(){return W5}var Z5=At({},zc,{key:function(e){if(e.key){var t=b5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uw,charCode:function(e){return e.type==="keypress"?bf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K5=Pr(Z5),q5=At({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ky=Pr(q5),Q5=At({},zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uw}),J5=Pr(Q5),Y5=At({},ju,{propertyName:0,elapsedTime:0,pseudoElement:0}),X5=Pr(Y5),eN=At({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tN=Pr(eN),nN=[9,13,27,32],bw=yi&&"CompositionEvent"in window,La=null;yi&&"documentMode"in document&&(La=document.documentMode);var rN=yi&&"TextEvent"in window&&!La,Q2=yi&&(!bw||La&&8<La&&11>=La),xy=" ",Ey=!1;function J2(e,t){switch(e){case"keyup":return nN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ll=!1;function sN(e,t){switch(e){case"compositionend":return Y2(t);case"keypress":return t.which!==32?null:(Ey=!0,xy);case"textInput":return e=t.data,e===xy&&Ey?null:e;default:return null}}function iN(e,t){if(Ll)return e==="compositionend"||!bw&&J2(e,t)?(e=q2(),Uf=Aw=Ui=null,Ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Q2&&t.locale!=="ko"?null:t.data;default:return null}}var oN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function My(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oN[e.type]:t==="textarea"}function X2(e,t,n,r){P2(r),t=V0(t,"onChange"),0<t.length&&(n=new Bw("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ga=null,uc=null;function lN(e){cC(e,0)}function _d(e){var t=Bl(e);if(S2(t))return e}function uN(e,t){if(e==="change")return t}var eC=!1;if(yi){var h1;if(yi){var w1="oninput"in document;if(!w1){var Ty=document.createElement("div");Ty.setAttribute("oninput","return;"),w1=typeof Ty.oninput=="function"}h1=w1}else h1=!1;eC=h1&&(!document.documentMode||9<document.documentMode)}function Iy(){Ga&&(Ga.detachEvent("onpropertychange",tC),uc=Ga=null)}function tC(e){if(e.propertyName==="value"&&_d(uc)){var t=[];X2(t,uc,e,Rw(e)),O2(lN,t)}}function aN(e,t,n){e==="focusin"?(Iy(),Ga=t,uc=n,Ga.attachEvent("onpropertychange",tC)):e==="focusout"&&Iy()}function cN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(uc)}function fN(e,t){if(e==="click")return _d(t)}function dN(e,t){if(e==="input"||e==="change")return _d(t)}function pN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _s=typeof Object.is=="function"?Object.is:pN;function ac(e,t){if(_s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Fp.call(t,s)||!_s(e[s],t[s]))return!1}return!0}function Py(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dy(e,t){var n=Py(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Py(n)}}function nC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rC(){for(var e=window,t=E0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=E0(e.document)}return t}function jw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hN(e){var t=rC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nC(n.ownerDocument.documentElement,n)){if(r!==null&&jw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Dy(n,i);var o=Dy(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wN=yi&&"documentMode"in document&&11>=document.documentMode,Gl=null,nh=null,Aa=null,rh=!1;function Ny(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rh||Gl==null||Gl!==E0(r)||(r=Gl,"selectionStart"in r&&jw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Aa&&ac(Aa,r)||(Aa=r,r=V0(nh,"onSelect"),0<r.length&&(t=new Bw("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gl)))}function df(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Al={animationend:df("Animation","AnimationEnd"),animationiteration:df("Animation","AnimationIteration"),animationstart:df("Animation","AnimationStart"),transitionend:df("Transition","TransitionEnd")},$1={},sC={};yi&&(sC=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function md(e){if($1[e])return $1[e];if(!Al[e])return e;var t=Al[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sC)return $1[e]=t[n];return e}var iC=md("animationend"),oC=md("animationiteration"),lC=md("animationstart"),uC=md("transitionend"),aC=new Map,Vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(e,t){aC.set(e,t),cl(t,[e])}for(var g1=0;g1<Vy.length;g1++){var y1=Vy[g1],$N=y1.toLowerCase(),gN=y1[0].toUpperCase()+y1.slice(1);ho($N,"on"+gN)}ho(iC,"onAnimationEnd");ho(oC,"onAnimationIteration");ho(lC,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(uC,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);cl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cl("onBeforeInput",["compositionend","keypress","textInput","paste"]);cl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Oy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$5(r,t,void 0,e),e.currentTarget=null}function cC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,a=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Oy(s,l,a),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,a=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Oy(s,l,a),i=u}}}if(T0)throw e=Yp,T0=!1,Yp=null,e}function Et(e,t){var n=t[uh];n===void 0&&(n=t[uh]=new Set);var r=e+"__bubble";n.has(r)||(fC(t,e,2,!1),n.add(r))}function v1(e,t,n){var r=0;t&&(r|=4),fC(n,e,r,t)}var pf="_reactListening"+Math.random().toString(36).slice(2);function cc(e){if(!e[pf]){e[pf]=!0,y2.forEach(function(n){n!=="selectionchange"&&(yN.has(n)||v1(n,!1,e),v1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pf]||(t[pf]=!0,v1("selectionchange",!1,t))}}function fC(e,t,n,r){switch(K2(t)){case 1:var s=N5;break;case 4:s=V5;break;default:s=Gw}n=s.bind(null,t,n,e),s=void 0,!Jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _1(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Lo(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}O2(function(){var a=i,c=Rw(n),f=[];e:{var d=aC.get(e);if(d!==void 0){var g=Bw,w=e;switch(e){case"keypress":if(bf(n)===0)break e;case"keydown":case"keyup":g=K5;break;case"focusin":w="focus",g=p1;break;case"focusout":w="blur",g=p1;break;case"beforeblur":case"afterblur":g=p1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Cy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=z5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=J5;break;case iC:case oC:case lC:g=G5;break;case uC:g=X5;break;case"scroll":g=O5;break;case"wheel":g=tN;break;case"copy":case"cut":case"paste":g=B5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ky}var v=(t&4)!==0,_=!v&&e==="scroll",h=v?d!==null?d+"Capture":null:d;v=[];for(var p=a,$;p!==null;){$=p;var C=$.stateNode;if($.tag===5&&C!==null&&($=C,h!==null&&(C=sc(p,h),C!=null&&v.push(fc(p,C,$)))),_)break;p=p.return}0<v.length&&(d=new g(d,w,null,n,c),f.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",d&&n!==qp&&(w=n.relatedTarget||n.fromElement)&&(Lo(w)||w[vi]))break e;if((g||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=a,w=w?Lo(w):null,w!==null&&(_=fl(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=a),g!==w)){if(v=Cy,C="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=ky,C="onPointerLeave",h="onPointerEnter",p="pointer"),_=g==null?d:Bl(g),$=w==null?d:Bl(w),d=new v(C,p+"leave",g,n,c),d.target=_,d.relatedTarget=$,C=null,Lo(c)===a&&(v=new v(h,p+"enter",w,n,c),v.target=$,v.relatedTarget=_,C=v),_=C,g&&w)t:{for(v=g,h=w,p=0,$=v;$;$=kl($))p++;for($=0,C=h;C;C=kl(C))$++;for(;0<p-$;)v=kl(v),p--;for(;0<$-p;)h=kl(h),$--;for(;p--;){if(v===h||h!==null&&v===h.alternate)break t;v=kl(v),h=kl(h)}v=null}else v=null;g!==null&&Ry(f,d,g,v,!1),w!==null&&_!==null&&Ry(f,_,w,v,!0)}}e:{if(d=a?Bl(a):window,g=d.nodeName&&d.nodeName.toLowerCase(),g==="select"||g==="input"&&d.type==="file")var k=uN;else if(My(d))if(eC)k=dN;else{k=cN;var I=aN}else(g=d.nodeName)&&g.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(k=fN);if(k&&(k=k(e,a))){X2(f,k,n,c);break e}I&&I(e,d,a),e==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&jp(d,"number",d.value)}switch(I=a?Bl(a):window,e){case"focusin":(My(I)||I.contentEditable==="true")&&(Gl=I,nh=a,Aa=null);break;case"focusout":Aa=nh=Gl=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Ny(f,n,c);break;case"selectionchange":if(wN)break;case"keydown":case"keyup":Ny(f,n,c)}var P;if(bw)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Ll?J2(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Q2&&n.locale!=="ko"&&(Ll||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ll&&(P=q2()):(Ui=c,Aw="value"in Ui?Ui.value:Ui.textContent,Ll=!0)),I=V0(a,N),0<I.length&&(N=new Sy(N,e,null,n,c),f.push({event:N,listeners:I}),P?N.data=P:(P=Y2(n),P!==null&&(N.data=P)))),(P=rN?sN(e,n):iN(e,n))&&(a=V0(a,"onBeforeInput"),0<a.length&&(c=new Sy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:a}),c.data=P))}cC(f,t)})}function fc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function V0(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sc(e,n),i!=null&&r.unshift(fc(e,i,s)),i=sc(e,t),i!=null&&r.push(fc(e,i,s))),e=e.return}return r}function kl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ry(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,a=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&a!==null&&(l=a,s?(u=sc(n,i),u!=null&&o.unshift(fc(n,u,l))):s||(u=sc(n,i),u!=null&&o.push(fc(n,u,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var vN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function zy(e){return(typeof e=="string"?e:""+e).replace(vN,`
`).replace(_N,"")}function hf(e,t,n){if(t=zy(t),zy(e)!==t&&n)throw Error(se(425))}function O0(){}var sh=null,ih=null;function oh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,mN=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,CN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(e){return Fy.resolve(null).then(e).catch(SN)}:lh;function SN(e){setTimeout(function(){throw e})}function m1(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),lc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);lc(t)}function qi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ly(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Hu=Math.random().toString(36).slice(2),Os="__reactFiber$"+Hu,dc="__reactProps$"+Hu,vi="__reactContainer$"+Hu,uh="__reactEvents$"+Hu,kN="__reactListeners$"+Hu,xN="__reactHandles$"+Hu;function Lo(e){var t=e[Os];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[Os]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ly(e);e!==null;){if(n=e[Os])return n;e=Ly(e)}return t}e=n,n=e.parentNode}return null}function Fc(e){return e=e[Os]||e[vi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function Cd(e){return e[dc]||null}var ah=[],Ul=-1;function wo(e){return{current:e}}function Dt(e){0>Ul||(e.current=ah[Ul],ah[Ul]=null,Ul--)}function kt(e,t){Ul++,ah[Ul]=e.current,e.current=t}var lo={},Rn=wo(lo),tr=wo(!1),tl=lo;function Mu(e,t){var n=e.type.contextTypes;if(!n)return lo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function nr(e){return e=e.childContextTypes,e!=null}function R0(){Dt(tr),Dt(Rn)}function Gy(e,t,n){if(Rn.current!==lo)throw Error(se(168));kt(Rn,t),kt(tr,n)}function dC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(se(108,a5(e)||"Unknown",s));return At({},n,r)}function z0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lo,tl=Rn.current,kt(Rn,e),kt(tr,tr.current),!0}function Ay(e,t,n){var r=e.stateNode;if(!r)throw Error(se(169));n?(e=dC(e,t,tl),r.__reactInternalMemoizedMergedChildContext=e,Dt(tr),Dt(Rn),kt(Rn,e)):Dt(tr),kt(tr,n)}var ei=null,Sd=!1,C1=!1;function pC(e){ei===null?ei=[e]:ei.push(e)}function EN(e){Sd=!0,pC(e)}function $o(){if(!C1&&ei!==null){C1=!0;var e=0,t=ct;try{var n=ei;for(ct=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ei=null,Sd=!1}catch(s){throw ei!==null&&(ei=ei.slice(e+1)),L2(zw,$o),s}finally{ct=t,C1=!1}}return null}var bl=[],jl=0,F0=null,L0=0,Gr=[],Ar=0,nl=null,ii=1,oi="";function Eo(e,t){bl[jl++]=L0,bl[jl++]=F0,F0=e,L0=t}function hC(e,t,n){Gr[Ar++]=ii,Gr[Ar++]=oi,Gr[Ar++]=nl,nl=e;var r=ii;e=oi;var s=32-ws(r)-1;r&=~(1<<s),n+=1;var i=32-ws(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ii=1<<32-ws(t)+s|n<<s|r,oi=i+e}else ii=1<<i|n<<s|r,oi=e}function Hw(e){e.return!==null&&(Eo(e,1),hC(e,1,0))}function Ww(e){for(;e===F0;)F0=bl[--jl],bl[jl]=null,L0=bl[--jl],bl[jl]=null;for(;e===nl;)nl=Gr[--Ar],Gr[Ar]=null,oi=Gr[--Ar],Gr[Ar]=null,ii=Gr[--Ar],Gr[Ar]=null}var kr=null,Cr=null,Ot=!1,as=null;function wC(e,t){var n=Hr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function By(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kr=e,Cr=qi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kr=e,Cr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nl!==null?{id:ii,overflow:oi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Hr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kr=e,Cr=null,!0):!1;default:return!1}}function ch(e){return(e.mode&1)!==0&&(e.flags&128)===0}function fh(e){if(Ot){var t=Cr;if(t){var n=t;if(!By(e,t)){if(ch(e))throw Error(se(418));t=qi(n.nextSibling);var r=kr;t&&By(e,t)?wC(r,n):(e.flags=e.flags&-4097|2,Ot=!1,kr=e)}}else{if(ch(e))throw Error(se(418));e.flags=e.flags&-4097|2,Ot=!1,kr=e}}}function Uy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kr=e}function wf(e){if(e!==kr)return!1;if(!Ot)return Uy(e),Ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oh(e.type,e.memoizedProps)),t&&(t=Cr)){if(ch(e))throw $C(),Error(se(418));for(;t;)wC(e,t),t=qi(t.nextSibling)}if(Uy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cr=qi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cr=null}}else Cr=kr?qi(e.stateNode.nextSibling):null;return!0}function $C(){for(var e=Cr;e;)e=qi(e.nextSibling)}function Tu(){Cr=kr=null,Ot=!1}function Zw(e){as===null?as=[e]:as.push(e)}var MN=Ci.ReactCurrentBatchConfig;function os(e,t){if(e&&e.defaultProps){t=At({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var G0=wo(null),A0=null,Hl=null,Kw=null;function qw(){Kw=Hl=A0=null}function Qw(e){var t=G0.current;Dt(G0),e._currentValue=t}function dh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lu(e,t){A0=e,Kw=Hl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(er=!0),e.firstContext=null)}function Jr(e){var t=e._currentValue;if(Kw!==e)if(e={context:e,memoizedValue:t,next:null},Hl===null){if(A0===null)throw Error(se(308));Hl=e,A0.dependencies={lanes:0,firstContext:e}}else Hl=Hl.next=e;return t}var Go=null;function Jw(e){Go===null?Go=[e]:Go.push(e)}function gC(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Jw(t)):(n.next=s.next,s.next=n),t.interleaved=n,_i(e,r)}function _i(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ni=!1;function Yw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_i(e,n)}return s=r.interleaved,s===null?(t.next=t,Jw(r)):(t.next=s.next,s.next=t),r.interleaved=t,_i(e,n)}function jf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fw(e,n)}}function by(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function B0(e,t,n,r){var s=e.updateQueue;Ni=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,a=u.next;u.next=null,o===null?i=a:o.next=a,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=a:l.next=a,c.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,c=a=u=null,l=i;do{var d=l.lane,g=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,v=l;switch(d=t,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(g,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,d=typeof w=="function"?w.call(g,f,d):w,d==null)break e;f=At({},f,d);break e;case 2:Ni=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else g={eventTime:g,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(a=c=g,u=f):c=c.next=g,o|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(u=f),s.baseState=u,s.firstBaseUpdate=a,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sl|=o,e.lanes=o,e.memoizedState=f}}function jy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(se(191,s));s.call(r)}}}var vC=new g2.Component().refs;function ph(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:At({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var kd={isMounted:function(e){return(e=e._reactInternals)?fl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bn(),s=Yi(e),i=ui(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qi(e,i,s),t!==null&&($s(t,e,s,r),jf(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bn(),s=Yi(e),i=ui(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qi(e,i,s),t!==null&&($s(t,e,s,r),jf(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),r=Yi(e),s=ui(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qi(e,s,r),t!==null&&($s(t,e,r,n),jf(t,e,r))}};function Hy(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ac(n,r)||!ac(s,i):!0}function _C(e,t,n){var r=!1,s=lo,i=t.contextType;return typeof i=="object"&&i!==null?i=Jr(i):(s=nr(t)?tl:Rn.current,r=t.contextTypes,i=(r=r!=null)?Mu(e,s):lo),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kd.enqueueReplaceState(t,t.state,null)}function hh(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=vC,Yw(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Jr(i):(i=nr(t)?tl:Rn.current,s.context=Mu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ph(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&kd.enqueueReplaceState(s,s.state,null),B0(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function wa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;l===vC&&(l=s.refs={}),o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,e))}return e}function $f(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zy(e){var t=e._init;return t(e._payload)}function mC(e){function t(h,p){if(e){var $=h.deletions;$===null?(h.deletions=[p],h.flags|=16):$.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function r(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function s(h,p){return h=Xi(h,p),h.index=0,h.sibling=null,h}function i(h,p,$){return h.index=$,e?($=h.alternate,$!==null?($=$.index,$<p?(h.flags|=2,p):$):(h.flags|=2,p)):(h.flags|=1048576,p)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,p,$,C){return p===null||p.tag!==6?(p=I1($,h.mode,C),p.return=h,p):(p=s(p,$),p.return=h,p)}function u(h,p,$,C){var k=$.type;return k===Fl?c(h,p,$.props.children,C,$.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Di&&Zy(k)===p.type)?(C=s(p,$.props),C.ref=wa(h,p,$),C.return=h,C):(C=Qf($.type,$.key,$.props,null,h.mode,C),C.ref=wa(h,p,$),C.return=h,C)}function a(h,p,$,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==$.containerInfo||p.stateNode.implementation!==$.implementation?(p=P1($,h.mode,C),p.return=h,p):(p=s(p,$.children||[]),p.return=h,p)}function c(h,p,$,C,k){return p===null||p.tag!==7?(p=Wo($,h.mode,C,k),p.return=h,p):(p=s(p,$),p.return=h,p)}function f(h,p,$){if(typeof p=="string"&&p!==""||typeof p=="number")return p=I1(""+p,h.mode,$),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sf:return $=Qf(p.type,p.key,p.props,null,h.mode,$),$.ref=wa(h,null,p),$.return=h,$;case zl:return p=P1(p,h.mode,$),p.return=h,p;case Di:var C=p._init;return f(h,C(p._payload),$)}if(Ea(p)||ca(p))return p=Wo(p,h.mode,$,null),p.return=h,p;$f(h,p)}return null}function d(h,p,$,C){var k=p!==null?p.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return k!==null?null:l(h,p,""+$,C);if(typeof $=="object"&&$!==null){switch($.$$typeof){case sf:return $.key===k?u(h,p,$,C):null;case zl:return $.key===k?a(h,p,$,C):null;case Di:return k=$._init,d(h,p,k($._payload),C)}if(Ea($)||ca($))return k!==null?null:c(h,p,$,C,null);$f(h,$)}return null}function g(h,p,$,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return h=h.get($)||null,l(p,h,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case sf:return h=h.get(C.key===null?$:C.key)||null,u(p,h,C,k);case zl:return h=h.get(C.key===null?$:C.key)||null,a(p,h,C,k);case Di:var I=C._init;return g(h,p,$,I(C._payload),k)}if(Ea(C)||ca(C))return h=h.get($)||null,c(p,h,C,k,null);$f(p,C)}return null}function w(h,p,$,C){for(var k=null,I=null,P=p,N=p=0,U=null;P!==null&&N<$.length;N++){P.index>N?(U=P,P=null):U=P.sibling;var V=d(h,P,$[N],C);if(V===null){P===null&&(P=U);break}e&&P&&V.alternate===null&&t(h,P),p=i(V,p,N),I===null?k=V:I.sibling=V,I=V,P=U}if(N===$.length)return n(h,P),Ot&&Eo(h,N),k;if(P===null){for(;N<$.length;N++)P=f(h,$[N],C),P!==null&&(p=i(P,p,N),I===null?k=P:I.sibling=P,I=P);return Ot&&Eo(h,N),k}for(P=r(h,P);N<$.length;N++)U=g(P,h,N,$[N],C),U!==null&&(e&&U.alternate!==null&&P.delete(U.key===null?N:U.key),p=i(U,p,N),I===null?k=U:I.sibling=U,I=U);return e&&P.forEach(function(A){return t(h,A)}),Ot&&Eo(h,N),k}function v(h,p,$,C){var k=ca($);if(typeof k!="function")throw Error(se(150));if($=k.call($),$==null)throw Error(se(151));for(var I=k=null,P=p,N=p=0,U=null,V=$.next();P!==null&&!V.done;N++,V=$.next()){P.index>N?(U=P,P=null):U=P.sibling;var A=d(h,P,V.value,C);if(A===null){P===null&&(P=U);break}e&&P&&A.alternate===null&&t(h,P),p=i(A,p,N),I===null?k=A:I.sibling=A,I=A,P=U}if(V.done)return n(h,P),Ot&&Eo(h,N),k;if(P===null){for(;!V.done;N++,V=$.next())V=f(h,V.value,C),V!==null&&(p=i(V,p,N),I===null?k=V:I.sibling=V,I=V);return Ot&&Eo(h,N),k}for(P=r(h,P);!V.done;N++,V=$.next())V=g(P,h,N,V.value,C),V!==null&&(e&&V.alternate!==null&&P.delete(V.key===null?N:V.key),p=i(V,p,N),I===null?k=V:I.sibling=V,I=V);return e&&P.forEach(function(j){return t(h,j)}),Ot&&Eo(h,N),k}function _(h,p,$,C){if(typeof $=="object"&&$!==null&&$.type===Fl&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case sf:e:{for(var k=$.key,I=p;I!==null;){if(I.key===k){if(k=$.type,k===Fl){if(I.tag===7){n(h,I.sibling),p=s(I,$.props.children),p.return=h,h=p;break e}}else if(I.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Di&&Zy(k)===I.type){n(h,I.sibling),p=s(I,$.props),p.ref=wa(h,I,$),p.return=h,h=p;break e}n(h,I);break}else t(h,I);I=I.sibling}$.type===Fl?(p=Wo($.props.children,h.mode,C,$.key),p.return=h,h=p):(C=Qf($.type,$.key,$.props,null,h.mode,C),C.ref=wa(h,p,$),C.return=h,h=C)}return o(h);case zl:e:{for(I=$.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===$.containerInfo&&p.stateNode.implementation===$.implementation){n(h,p.sibling),p=s(p,$.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=P1($,h.mode,C),p.return=h,h=p}return o(h);case Di:return I=$._init,_(h,p,I($._payload),C)}if(Ea($))return w(h,p,$,C);if(ca($))return v(h,p,$,C);$f(h,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,p!==null&&p.tag===6?(n(h,p.sibling),p=s(p,$),p.return=h,h=p):(n(h,p),p=I1($,h.mode,C),p.return=h,h=p),o(h)):n(h,p)}return _}var Iu=mC(!0),CC=mC(!1),Lc={},bs=wo(Lc),pc=wo(Lc),hc=wo(Lc);function Ao(e){if(e===Lc)throw Error(se(174));return e}function Xw(e,t){switch(kt(hc,t),kt(pc,e),kt(bs,Lc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wp(t,e)}Dt(bs),kt(bs,t)}function Pu(){Dt(bs),Dt(pc),Dt(hc)}function SC(e){Ao(hc.current);var t=Ao(bs.current),n=Wp(t,e.type);t!==n&&(kt(pc,e),kt(bs,n))}function e$(e){pc.current===e&&(Dt(bs),Dt(pc))}var Ft=wo(0);function U0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var S1=[];function t$(){for(var e=0;e<S1.length;e++)S1[e]._workInProgressVersionPrimary=null;S1.length=0}var Hf=Ci.ReactCurrentDispatcher,k1=Ci.ReactCurrentBatchConfig,rl=0,Gt=null,an=null,hn=null,b0=!1,Ba=!1,wc=0,TN=0;function Mn(){throw Error(se(321))}function n$(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_s(e[n],t[n]))return!1;return!0}function r$(e,t,n,r,s,i){if(rl=i,Gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hf.current=e===null||e.memoizedState===null?NN:VN,e=n(r,s),Ba){i=0;do{if(Ba=!1,wc=0,25<=i)throw Error(se(301));i+=1,hn=an=null,t.updateQueue=null,Hf.current=ON,e=n(r,s)}while(Ba)}if(Hf.current=j0,t=an!==null&&an.next!==null,rl=0,hn=an=Gt=null,b0=!1,t)throw Error(se(300));return e}function s$(){var e=wc!==0;return wc=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Gt.memoizedState=hn=e:hn=hn.next=e,hn}function Yr(){if(an===null){var e=Gt.alternate;e=e!==null?e.memoizedState:null}else e=an.next;var t=hn===null?Gt.memoizedState:hn.next;if(t!==null)hn=t,an=e;else{if(e===null)throw Error(se(310));an=e,e={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},hn===null?Gt.memoizedState=hn=e:hn=hn.next=e}return hn}function $c(e,t){return typeof t=="function"?t(e):t}function x1(e){var t=Yr(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=an,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,a=i;do{var c=a.lane;if((rl&c)===c)u!==null&&(u=u.next={lane:0,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null}),r=a.hasEagerState?a.eagerState:e(r,a.action);else{var f={lane:c,action:a.action,hasEagerState:a.hasEagerState,eagerState:a.eagerState,next:null};u===null?(l=u=f,o=r):u=u.next=f,Gt.lanes|=c,sl|=c}a=a.next}while(a!==null&&a!==i);u===null?o=r:u.next=l,_s(r,t.memoizedState)||(er=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,Gt.lanes|=i,sl|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function E1(e){var t=Yr(),n=t.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);_s(i,t.memoizedState)||(er=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function kC(){}function xC(e,t){var n=Gt,r=Yr(),s=t(),i=!_s(r.memoizedState,s);if(i&&(r.memoizedState=s,er=!0),r=r.queue,i$(TC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,gc(9,MC.bind(null,n,r,s,t),void 0,null),yn===null)throw Error(se(349));rl&30||EC(n,t,s)}return s}function EC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function MC(e,t,n,r){t.value=n,t.getSnapshot=r,IC(t)&&PC(e)}function TC(e,t,n){return n(function(){IC(t)&&PC(e)})}function IC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_s(e,n)}catch{return!0}}function PC(e){var t=_i(e,1);t!==null&&$s(t,e,1,-1)}function Ky(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$c,lastRenderedState:e},t.queue=e,e=e.dispatch=DN.bind(null,Gt,e),[t.memoizedState,e]}function gc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Gt.updateQueue,t===null?(t={lastEffect:null,stores:null},Gt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function DC(){return Yr().memoizedState}function Wf(e,t,n,r){var s=Ps();Gt.flags|=e,s.memoizedState=gc(1|t,n,void 0,r===void 0?null:r)}function xd(e,t,n,r){var s=Yr();r=r===void 0?null:r;var i=void 0;if(an!==null){var o=an.memoizedState;if(i=o.destroy,r!==null&&n$(r,o.deps)){s.memoizedState=gc(t,n,i,r);return}}Gt.flags|=e,s.memoizedState=gc(1|t,n,i,r)}function qy(e,t){return Wf(8390656,8,e,t)}function i$(e,t){return xd(2048,8,e,t)}function NC(e,t){return xd(4,2,e,t)}function VC(e,t){return xd(4,4,e,t)}function OC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RC(e,t,n){return n=n!=null?n.concat([e]):null,xd(4,4,OC.bind(null,t,e),n)}function o$(){}function zC(e,t){var n=Yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n$(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function FC(e,t){var n=Yr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n$(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LC(e,t,n){return rl&21?(_s(n,t)||(n=B2(),Gt.lanes|=n,sl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,er=!0),e.memoizedState=n)}function IN(e,t){var n=ct;ct=n!==0&&4>n?n:4,e(!0);var r=k1.transition;k1.transition={};try{e(!1),t()}finally{ct=n,k1.transition=r}}function GC(){return Yr().memoizedState}function PN(e,t,n){var r=Yi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},AC(e))BC(t,n);else if(n=gC(e,t,n,r),n!==null){var s=bn();$s(n,e,r,s),UC(n,t,r)}}function DN(e,t,n){var r=Yi(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(AC(e))BC(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,_s(l,o)){var u=t.interleaved;u===null?(s.next=s,Jw(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=gC(e,t,s,r),n!==null&&(s=bn(),$s(n,e,r,s),UC(n,t,r))}}function AC(e){var t=e.alternate;return e===Gt||t!==null&&t===Gt}function BC(e,t){Ba=b0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function UC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fw(e,n)}}var j0={readContext:Jr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},NN={readContext:Jr,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:Jr,useEffect:qy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wf(4194308,4,OC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wf(4,2,e,t)},useMemo:function(e,t){var n=Ps();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ps();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=PN.bind(null,Gt,e),[r.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:Ky,useDebugValue:o$,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=Ky(!1),t=e[0];return e=IN.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Gt,s=Ps();if(Ot){if(n===void 0)throw Error(se(407));n=n()}else{if(n=t(),yn===null)throw Error(se(349));rl&30||EC(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,qy(TC.bind(null,r,i,e),[e]),r.flags|=2048,gc(9,MC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ps(),t=yn.identifierPrefix;if(Ot){var n=oi,r=ii;n=(r&~(1<<32-ws(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=TN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},VN={readContext:Jr,useCallback:zC,useContext:Jr,useEffect:i$,useImperativeHandle:RC,useInsertionEffect:NC,useLayoutEffect:VC,useMemo:FC,useReducer:x1,useRef:DC,useState:function(){return x1($c)},useDebugValue:o$,useDeferredValue:function(e){var t=Yr();return LC(t,an.memoizedState,e)},useTransition:function(){var e=x1($c)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:kC,useSyncExternalStore:xC,useId:GC,unstable_isNewReconciler:!1},ON={readContext:Jr,useCallback:zC,useContext:Jr,useEffect:i$,useImperativeHandle:RC,useInsertionEffect:NC,useLayoutEffect:VC,useMemo:FC,useReducer:E1,useRef:DC,useState:function(){return E1($c)},useDebugValue:o$,useDeferredValue:function(e){var t=Yr();return an===null?t.memoizedState=e:LC(t,an.memoizedState,e)},useTransition:function(){var e=E1($c)[0],t=Yr().memoizedState;return[e,t]},useMutableSource:kC,useSyncExternalStore:xC,useId:GC,unstable_isNewReconciler:!1};function Du(e,t){try{var n="",r=t;do n+=u5(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function M1(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function bC(e,t,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){W0||(W0=!0,xh=r),wh(e,t)},n}function jC(e,t,n){n=ui(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){wh(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){wh(e,t),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=qN.bind(null,e,t,n),t.then(e,e))}function Jy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ui(-1,1),t.tag=2,Qi(n,t,1))),n.lanes|=1),e)}var zN=Ci.ReactCurrentOwner,er=!1;function An(e,t,n,r){t.child=e===null?CC(t,null,n,r):Iu(t,e.child,n,r)}function Xy(e,t,n,r,s){n=n.render;var i=t.ref;return lu(t,s),r=r$(e,t,n,r,i,s),n=s$(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mi(e,t,s)):(Ot&&n&&Hw(t),t.flags|=1,An(e,t,r,s),t.child)}function ev(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!h$(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,HC(e,t,i,r,s)):(e=Qf(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ac,n(o,r)&&e.ref===t.ref)return mi(e,t,s)}return t.flags|=1,e=Xi(i,r),e.ref=t.ref,e.return=t,t.child=e}function HC(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ac(i,r)&&e.ref===t.ref)if(er=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(er=!0);else return t.lanes=e.lanes,mi(e,t,s)}return $h(e,t,n,r,s)}function WC(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Zl,vr),vr|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,kt(Zl,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,kt(Zl,vr),vr|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,kt(Zl,vr),vr|=r;return An(e,t,s,n),t.child}function ZC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $h(e,t,n,r,s){var i=nr(n)?tl:Rn.current;return i=Mu(t,i),lu(t,s),n=r$(e,t,n,r,i,s),r=s$(),e!==null&&!er?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mi(e,t,s)):(Ot&&r&&Hw(t),t.flags|=1,An(e,t,n,s),t.child)}function tv(e,t,n,r,s){if(nr(n)){var i=!0;z0(t)}else i=!1;if(lu(t,s),t.stateNode===null)Zf(e,t),_C(t,n,r),hh(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var u=o.context,a=n.contextType;typeof a=="object"&&a!==null?a=Jr(a):(a=nr(n)?tl:Rn.current,a=Mu(t,a));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==a)&&Wy(t,o,r,a),Ni=!1;var d=t.memoizedState;o.state=d,B0(t,r,o,s),u=t.memoizedState,l!==r||d!==u||tr.current||Ni?(typeof c=="function"&&(ph(t,n,c,r),u=t.memoizedState),(l=Ni||Hy(t,n,l,r,d,u,a))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,yC(e,t),l=t.memoizedProps,a=t.type===t.elementType?l:os(t.type,l),o.props=a,f=t.pendingProps,d=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Jr(u):(u=nr(n)?tl:Rn.current,u=Mu(t,u));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||d!==u)&&Wy(t,o,r,u),Ni=!1,d=t.memoizedState,o.state=d,B0(t,r,o,s);var w=t.memoizedState;l!==f||d!==w||tr.current||Ni?(typeof g=="function"&&(ph(t,n,g,r),w=t.memoizedState),(a=Ni||Hy(t,n,a,r,d,w,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=u,r=a):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return gh(e,t,n,r,i,s)}function gh(e,t,n,r,s,i){ZC(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ay(t,n,!1),mi(e,t,i);r=t.stateNode,zN.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Iu(t,e.child,null,i),t.child=Iu(t,null,l,i)):An(e,t,l,i),t.memoizedState=r.state,s&&Ay(t,n,!0),t.child}function KC(e){var t=e.stateNode;t.pendingContext?Gy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gy(e,t.context,!1),Xw(e,t.containerInfo)}function nv(e,t,n,r,s){return Tu(),Zw(s),t.flags|=256,An(e,t,n,r),t.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function vh(e){return{baseLanes:e,cachePool:null,transitions:null}}function qC(e,t,n){var r=t.pendingProps,s=Ft.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),kt(Ft,s&1),e===null)return fh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Td(o,r,0,null),e=Wo(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vh(n),t.memoizedState=yh,e):l$(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return FN(e,t,o,r,l,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Xi(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Xi(l,i):(i=Wo(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?vh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=yh,r}return i=e.child,e=i.sibling,r=Xi(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function l$(e,t){return t=Td({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gf(e,t,n,r){return r!==null&&Zw(r),Iu(t,e.child,null,n),e=l$(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FN(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=M1(Error(se(422))),gf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Td({mode:"visible",children:r.children},s,0,null),i=Wo(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Iu(t,e.child,null,o),t.child.memoizedState=vh(o),t.memoizedState=yh,i);if(!(t.mode&1))return gf(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(se(419)),r=M1(i,r,void 0),gf(e,t,o,r)}if(l=(o&e.childLanes)!==0,er||l){if(r=yn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_i(e,s),$s(r,e,s,-1))}return p$(),r=M1(Error(se(421))),gf(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QN.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Cr=qi(s.nextSibling),kr=t,Ot=!0,as=null,e!==null&&(Gr[Ar++]=ii,Gr[Ar++]=oi,Gr[Ar++]=nl,ii=e.id,oi=e.overflow,nl=t),t=l$(t,r.children),t.flags|=4096,t)}function rv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dh(e.return,t,n)}function T1(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QC(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(An(e,t,r.children,n),r=Ft.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rv(e,n,t);else if(e.tag===19)rv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(kt(Ft,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&U0(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),T1(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&U0(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}T1(t,!0,n,null,i);break;case"together":T1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,n=Xi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function LN(e,t,n){switch(t.tag){case 3:KC(t),Tu();break;case 5:SC(t);break;case 1:nr(t.type)&&z0(t);break;case 4:Xw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;kt(G0,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(kt(Ft,Ft.current&1),t.flags|=128,null):n&t.child.childLanes?qC(e,t,n):(kt(Ft,Ft.current&1),e=mi(e,t,n),e!==null?e.sibling:null);kt(Ft,Ft.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return QC(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),kt(Ft,Ft.current),r)break;return null;case 22:case 23:return t.lanes=0,WC(e,t,n)}return mi(e,t,n)}var JC,_h,YC,XC;JC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_h=function(){};YC=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ao(bs.current);var i=null;switch(n){case"input":s=Up(e,s),r=Up(e,r),i=[];break;case"select":s=At({},s,{value:void 0}),r=At({},r,{value:void 0}),i=[];break;case"textarea":s=Hp(e,s),r=Hp(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=O0)}Zp(n,r);var o;n=null;for(a in s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&s[a]!=null)if(a==="style"){var l=s[a];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(nc.hasOwnProperty(a)?i||(i=[]):(i=i||[]).push(a,null));for(a in r){var u=r[a];if(l=s!=null?s[a]:void 0,r.hasOwnProperty(a)&&u!==l&&(u!=null||l!=null))if(a==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(a,n)),n=u;else a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(a,u)):a==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(a,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(nc.hasOwnProperty(a)?(u!=null&&a==="onScroll"&&Et("scroll",e),i||l===u||(i=[])):(i=i||[]).push(a,u))}n&&(i=i||[]).push("style",n);var a=i;(t.updateQueue=a)&&(t.flags|=4)}};XC=function(e,t,n,r){n!==r&&(t.flags|=4)};function $a(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function GN(e,t,n){var r=t.pendingProps;switch(Ww(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return nr(t.type)&&R0(),Tn(t),null;case 3:return r=t.stateNode,Pu(),Dt(tr),Dt(Rn),t$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,as!==null&&(Th(as),as=null))),_h(e,t),Tn(t),null;case 5:e$(t);var s=Ao(hc.current);if(n=t.type,e!==null&&t.stateNode!=null)YC(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(se(166));return Tn(t),null}if(e=Ao(bs.current),wf(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Os]=t,r[dc]=i,e=(t.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(s=0;s<Ta.length;s++)Et(Ta[s],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":dy(r,i),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Et("invalid",r);break;case"textarea":hy(r,i),Et("invalid",r)}Zp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&hf(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&hf(r.textContent,l,e),s=["children",""+l]):nc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Et("scroll",r)}switch(n){case"input":of(r),py(r,i,!0);break;case"textarea":of(r),wy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=O0)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=E2(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Os]=t,e[dc]=r,JC(e,t,!1,!1),t.stateNode=e;e:{switch(o=Kp(n,r),n){case"dialog":Et("cancel",e),Et("close",e),s=r;break;case"iframe":case"object":case"embed":Et("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ta.length;s++)Et(Ta[s],e);s=r;break;case"source":Et("error",e),s=r;break;case"img":case"image":case"link":Et("error",e),Et("load",e),s=r;break;case"details":Et("toggle",e),s=r;break;case"input":dy(e,r),s=Up(e,r),Et("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=At({},r,{value:void 0}),Et("invalid",e);break;case"textarea":hy(e,r),s=Hp(e,r),Et("invalid",e);break;default:s=r}Zp(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?I2(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&M2(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&rc(e,u):typeof u=="number"&&rc(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(nc.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Et("scroll",e):u!=null&&Dw(e,i,u,o))}switch(n){case"input":of(e),py(e,r,!1);break;case"textarea":of(e),wy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+oo(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ru(e,!!r.multiple,i,!1):r.defaultValue!=null&&ru(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=O0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)XC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(se(166));if(n=Ao(hc.current),Ao(bs.current),wf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Os]=t,(i=r.nodeValue!==n)&&(e=kr,e!==null))switch(e.tag){case 3:hf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hf(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Os]=t,t.stateNode=r}return Tn(t),null;case 13:if(Dt(Ft),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&Cr!==null&&t.mode&1&&!(t.flags&128))$C(),Tu(),t.flags|=98560,i=!1;else if(i=wf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[Os]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),i=!1}else as!==null&&(Th(as),as=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ft.current&1?cn===0&&(cn=3):p$())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return Pu(),_h(e,t),e===null&&cc(t.stateNode.containerInfo),Tn(t),null;case 10:return Qw(t.type._context),Tn(t),null;case 17:return nr(t.type)&&R0(),Tn(t),null;case 19:if(Dt(Ft),i=t.memoizedState,i===null)return Tn(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)$a(i,!1);else{if(cn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=U0(e),o!==null){for(t.flags|=128,$a(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return kt(Ft,Ft.current&1|2),t.child}e=e.sibling}i.tail!==null&&Wt()>Nu&&(t.flags|=128,r=!0,$a(i,!1),t.lanes=4194304)}else{if(!r)if(e=U0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),$a(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ot)return Tn(t),null}else 2*Wt()-i.renderingStartTime>Nu&&n!==1073741824&&(t.flags|=128,r=!0,$a(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Wt(),t.sibling=null,n=Ft.current,kt(Ft,r?n&1|2:n&1),t):(Tn(t),null);case 22:case 23:return d$(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vr&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function AN(e,t){switch(Ww(t),t.tag){case 1:return nr(t.type)&&R0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pu(),Dt(tr),Dt(Rn),t$(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e$(t),null;case 13:if(Dt(Ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Dt(Ft),null;case 4:return Pu(),null;case 10:return Qw(t.type._context),null;case 22:case 23:return d$(),null;case 24:return null;default:return null}}var yf=!1,Dn=!1,BN=typeof WeakSet=="function"?WeakSet:Set,$e=null;function Wl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Bt(e,t,r)}else n.current=null}function mh(e,t,n){try{n()}catch(r){Bt(e,t,r)}}var sv=!1;function UN(e,t){if(sh=D0,e=rC(),jw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,a=0,c=0,f=e,d=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)d=f,f=g;for(;;){if(f===e)break t;if(d===n&&++a===s&&(l=o),d===i&&++c===r&&(u=o),(g=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=g}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ih={focusedElem:e,selectionRange:n},D0=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:os(t.type,v),_);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var $=t.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(C){Bt(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return w=sv,sv=!1,w}function Ua(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mh(t,n,i)}s=s.next}while(s!==r)}}function Ed(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ch(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function eS(e){var t=e.alternate;t!==null&&(e.alternate=null,eS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Os],delete t[dc],delete t[uh],delete t[kN],delete t[xN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tS(e){return e.tag===5||e.tag===3||e.tag===4}function iv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=O0));else if(r!==4&&(e=e.child,e!==null))for(Sh(e,t,n),e=e.sibling;e!==null;)Sh(e,t,n),e=e.sibling}function kh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(kh(e,t,n),e=e.sibling;e!==null;)kh(e,t,n),e=e.sibling}var _n=null,us=!1;function Ti(e,t,n){for(n=n.child;n!==null;)nS(e,t,n),n=n.sibling}function nS(e,t,n){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Dn||Wl(n,t);case 6:var r=_n,s=us;_n=null,Ti(e,t,n),_n=r,us=s,_n!==null&&(us?(e=_n,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(us?(e=_n,n=n.stateNode,e.nodeType===8?m1(e.parentNode,n):e.nodeType===1&&m1(e,n),lc(e)):m1(_n,n.stateNode));break;case 4:r=_n,s=us,_n=n.stateNode.containerInfo,us=!0,Ti(e,t,n),_n=r,us=s;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mh(n,t,o),s=s.next}while(s!==r)}Ti(e,t,n);break;case 1:if(!Dn&&(Wl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Bt(n,t,l)}Ti(e,t,n);break;case 21:Ti(e,t,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,Ti(e,t,n),Dn=r):Ti(e,t,n);break;default:Ti(e,t,n)}}function ov(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BN),t.forEach(function(r){var s=JN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function es(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:_n=l.stateNode,us=!1;break e;case 3:_n=l.stateNode.containerInfo,us=!0;break e;case 4:_n=l.stateNode.containerInfo,us=!0;break e}l=l.return}if(_n===null)throw Error(se(160));nS(i,o,s),_n=null,us=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(a){Bt(s,t,a)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rS(t,e),t=t.sibling}function rS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(es(t,e),Is(e),r&4){try{Ua(3,e,e.return),Ed(3,e)}catch(v){Bt(e,e.return,v)}try{Ua(5,e,e.return)}catch(v){Bt(e,e.return,v)}}break;case 1:es(t,e),Is(e),r&512&&n!==null&&Wl(n,n.return);break;case 5:if(es(t,e),Is(e),r&512&&n!==null&&Wl(n,n.return),e.flags&32){var s=e.stateNode;try{rc(s,"")}catch(v){Bt(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&k2(s,i),Kp(l,o);var a=Kp(l,i);for(o=0;o<u.length;o+=2){var c=u[o],f=u[o+1];c==="style"?I2(s,f):c==="dangerouslySetInnerHTML"?M2(s,f):c==="children"?rc(s,f):Dw(s,c,f,a)}switch(l){case"input":bp(s,i);break;case"textarea":x2(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?ru(s,!!i.multiple,g,!1):d!==!!i.multiple&&(i.defaultValue!=null?ru(s,!!i.multiple,i.defaultValue,!0):ru(s,!!i.multiple,i.multiple?[]:"",!1))}s[dc]=i}catch(v){Bt(e,e.return,v)}}break;case 6:if(es(t,e),Is(e),r&4){if(e.stateNode===null)throw Error(se(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Bt(e,e.return,v)}}break;case 3:if(es(t,e),Is(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lc(t.containerInfo)}catch(v){Bt(e,e.return,v)}break;case 4:es(t,e),Is(e);break;case 13:es(t,e),Is(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(c$=Wt())),r&4&&ov(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Dn=(a=Dn)||c,es(t,e),Dn=a):es(t,e),Is(e),r&8192){if(a=e.memoizedState!==null,(e.stateNode.isHidden=a)&&!c&&e.mode&1)for($e=e,c=e.child;c!==null;){for(f=$e=c;$e!==null;){switch(d=$e,g=d.child,d.tag){case 0:case 11:case 14:case 15:Ua(4,d,d.return);break;case 1:Wl(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Bt(r,n,v)}}break;case 5:Wl(d,d.return);break;case 22:if(d.memoizedState!==null){uv(f);continue}}g!==null?(g.return=d,$e=g):uv(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,a?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=T2("display",o))}catch(v){Bt(e,e.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=a?"":f.memoizedProps}catch(v){Bt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:es(t,e),Is(e),r&4&&ov(e);break;case 21:break;default:es(t,e),Is(e)}}function Is(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(tS(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(rc(s,""),r.flags&=-33);var i=iv(e);kh(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=iv(e);Sh(e,l,o);break;default:throw Error(se(161))}}catch(u){Bt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bN(e,t,n){$e=e,sS(e)}function sS(e,t,n){for(var r=(e.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||yf;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Dn;l=yf;var a=Dn;if(yf=o,(Dn=u)&&!a)for($e=s;$e!==null;)o=$e,u=o.child,o.tag===22&&o.memoizedState!==null?av(s):u!==null?(u.return=o,$e=u):av(s);for(;i!==null;)$e=i,sS(i),i=i.sibling;$e=s,yf=l,Dn=a}lv(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):lv(e)}}function lv(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dn||Ed(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:os(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jy(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}jy(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var a=t.alternate;if(a!==null){var c=a.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&lc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Dn||t.flags&512&&Ch(t)}catch(d){Bt(t,t.return,d)}}if(t===e){$e=null;break}if(n=t.sibling,n!==null){n.return=t.return,$e=n;break}$e=t.return}}function uv(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$e=n;break}$e=t.return}}function av(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ed(4,t)}catch(u){Bt(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Bt(t,s,u)}}var i=t.return;try{Ch(t)}catch(u){Bt(t,i,u)}break;case 5:var o=t.return;try{Ch(t)}catch(u){Bt(t,o,u)}}}catch(u){Bt(t,t.return,u)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var jN=Math.ceil,H0=Ci.ReactCurrentDispatcher,u$=Ci.ReactCurrentOwner,qr=Ci.ReactCurrentBatchConfig,Qe=0,yn=null,Yt=null,kn=0,vr=0,Zl=wo(0),cn=0,yc=null,sl=0,Md=0,a$=0,ba=null,Yn=null,c$=0,Nu=1/0,Ys=null,W0=!1,xh=null,Ji=null,vf=!1,bi=null,Z0=0,ja=0,Eh=null,Kf=-1,qf=0;function bn(){return Qe&6?Wt():Kf!==-1?Kf:Kf=Wt()}function Yi(e){return e.mode&1?Qe&2&&kn!==0?kn&-kn:MN.transition!==null?(qf===0&&(qf=B2()),qf):(e=ct,e!==0||(e=window.event,e=e===void 0?16:K2(e.type)),e):1}function $s(e,t,n,r){if(50<ja)throw ja=0,Eh=null,Error(se(185));Rc(e,n,r),(!(Qe&2)||e!==yn)&&(e===yn&&(!(Qe&2)&&(Md|=n),cn===4&&zi(e,kn)),rr(e,r),n===1&&Qe===0&&!(t.mode&1)&&(Nu=Wt()+500,Sd&&$o()))}function rr(e,t){var n=e.callbackNode;M5(e,t);var r=P0(e,e===yn?kn:0);if(r===0)n!==null&&yy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yy(n),t===1)e.tag===0?EN(cv.bind(null,e)):pC(cv.bind(null,e)),CN(function(){!(Qe&6)&&$o()}),n=null;else{switch(U2(r)){case 1:n=zw;break;case 4:n=G2;break;case 16:n=I0;break;case 536870912:n=A2;break;default:n=I0}n=dS(n,iS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iS(e,t){if(Kf=-1,qf=0,Qe&6)throw Error(se(327));var n=e.callbackNode;if(uu()&&e.callbackNode!==n)return null;var r=P0(e,e===yn?kn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=K0(e,r);else{t=r;var s=Qe;Qe|=2;var i=lS();(yn!==e||kn!==t)&&(Ys=null,Nu=Wt()+500,Ho(e,t));do try{ZN();break}catch(l){oS(e,l)}while(!0);qw(),H0.current=i,Qe=s,Yt!==null?t=0:(yn=null,kn=0,t=cn)}if(t!==0){if(t===2&&(s=Xp(e),s!==0&&(r=s,t=Mh(e,s))),t===1)throw n=yc,Ho(e,0),zi(e,r),rr(e,Wt()),n;if(t===6)zi(e,r);else{if(s=e.current.alternate,!(r&30)&&!HN(s)&&(t=K0(e,r),t===2&&(i=Xp(e),i!==0&&(r=i,t=Mh(e,i))),t===1))throw n=yc,Ho(e,0),zi(e,r),rr(e,Wt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(se(345));case 2:Mo(e,Yn,Ys);break;case 3:if(zi(e,r),(r&130023424)===r&&(t=c$+500-Wt(),10<t)){if(P0(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){bn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=lh(Mo.bind(null,e,Yn,Ys),t);break}Mo(e,Yn,Ys);break;case 4:if(zi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ws(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jN(r/1960))-r,10<r){e.timeoutHandle=lh(Mo.bind(null,e,Yn,Ys),r);break}Mo(e,Yn,Ys);break;case 5:Mo(e,Yn,Ys);break;default:throw Error(se(329))}}}return rr(e,Wt()),e.callbackNode===n?iS.bind(null,e):null}function Mh(e,t){var n=ba;return e.current.memoizedState.isDehydrated&&(Ho(e,t).flags|=256),e=K0(e,t),e!==2&&(t=Yn,Yn=n,t!==null&&Th(t)),e}function Th(e){Yn===null?Yn=e:Yn.push.apply(Yn,e)}function HN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!_s(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zi(e,t){for(t&=~a$,t&=~Md,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ws(t),r=1<<n;e[n]=-1,t&=~r}}function cv(e){if(Qe&6)throw Error(se(327));uu();var t=P0(e,0);if(!(t&1))return rr(e,Wt()),null;var n=K0(e,t);if(e.tag!==0&&n===2){var r=Xp(e);r!==0&&(t=r,n=Mh(e,r))}if(n===1)throw n=yc,Ho(e,0),zi(e,t),rr(e,Wt()),n;if(n===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Mo(e,Yn,Ys),rr(e,Wt()),null}function f$(e,t){var n=Qe;Qe|=1;try{return e(t)}finally{Qe=n,Qe===0&&(Nu=Wt()+500,Sd&&$o())}}function il(e){bi!==null&&bi.tag===0&&!(Qe&6)&&uu();var t=Qe;Qe|=1;var n=qr.transition,r=ct;try{if(qr.transition=null,ct=1,e)return e()}finally{ct=r,qr.transition=n,Qe=t,!(Qe&6)&&$o()}}function d$(){vr=Zl.current,Dt(Zl)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mN(n)),Yt!==null)for(n=Yt.return;n!==null;){var r=n;switch(Ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&R0();break;case 3:Pu(),Dt(tr),Dt(Rn),t$();break;case 5:e$(r);break;case 4:Pu();break;case 13:Dt(Ft);break;case 19:Dt(Ft);break;case 10:Qw(r.type._context);break;case 22:case 23:d$()}n=n.return}if(yn=e,Yt=e=Xi(e.current,null),kn=vr=t,cn=0,yc=null,a$=Md=sl=0,Yn=ba=null,Go!==null){for(t=0;t<Go.length;t++)if(n=Go[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Go=null}return e}function oS(e,t){do{var n=Yt;try{if(qw(),Hf.current=j0,b0){for(var r=Gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}b0=!1}if(rl=0,hn=an=Gt=null,Ba=!1,wc=0,u$.current=null,n===null||n.return===null){cn=1,yc=t,Yt=null;break}e:{var i=e,o=n.return,l=n,u=t;if(t=kn,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var a=u,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Jy(o);if(g!==null){g.flags&=-257,Yy(g,o,l,i,t),g.mode&1&&Qy(i,a,t),t=g,u=a;var w=t.updateQueue;if(w===null){var v=new Set;v.add(u),t.updateQueue=v}else w.add(u);break e}else{if(!(t&1)){Qy(i,a,t),p$();break e}u=Error(se(426))}}else if(Ot&&l.mode&1){var _=Jy(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Yy(_,o,l,i,t),Zw(Du(u,l));break e}}i=u=Du(u,l),cn!==4&&(cn=2),ba===null?ba=[i]:ba.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=bC(i,u,t);by(i,h);break e;case 1:l=u;var p=i.type,$=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ji===null||!Ji.has($)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=jC(i,l,t);by(i,C);break e}}i=i.return}while(i!==null)}aS(n)}catch(k){t=k,Yt===n&&n!==null&&(Yt=n=n.return);continue}break}while(!0)}function lS(){var e=H0.current;return H0.current=j0,e===null?j0:e}function p$(){(cn===0||cn===3||cn===2)&&(cn=4),yn===null||!(sl&268435455)&&!(Md&268435455)||zi(yn,kn)}function K0(e,t){var n=Qe;Qe|=2;var r=lS();(yn!==e||kn!==t)&&(Ys=null,Ho(e,t));do try{WN();break}catch(s){oS(e,s)}while(!0);if(qw(),Qe=n,H0.current=r,Yt!==null)throw Error(se(261));return yn=null,kn=0,cn}function WN(){for(;Yt!==null;)uS(Yt)}function ZN(){for(;Yt!==null&&!y5();)uS(Yt)}function uS(e){var t=fS(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?aS(e):Yt=t,u$.current=null}function aS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=AN(n,t),n!==null){n.flags&=32767,Yt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{cn=6,Yt=null;return}}else if(n=GN(n,t,vr),n!==null){Yt=n;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);cn===0&&(cn=5)}function Mo(e,t,n){var r=ct,s=qr.transition;try{qr.transition=null,ct=1,KN(e,t,n,r)}finally{qr.transition=s,ct=r}return null}function KN(e,t,n,r){do uu();while(bi!==null);if(Qe&6)throw Error(se(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(T5(e,i),e===yn&&(Yt=yn=null,kn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vf||(vf=!0,dS(I0,function(){return uu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var o=ct;ct=1;var l=Qe;Qe|=4,u$.current=null,UN(e,n),rS(n,e),hN(ih),D0=!!sh,ih=sh=null,e.current=n,bN(n),v5(),Qe=l,ct=o,qr.transition=i}else e.current=n;if(vf&&(vf=!1,bi=e,Z0=s),i=e.pendingLanes,i===0&&(Ji=null),C5(n.stateNode),rr(e,Wt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(W0)throw W0=!1,e=xh,xh=null,e;return Z0&1&&e.tag!==0&&uu(),i=e.pendingLanes,i&1?e===Eh?ja++:(ja=0,Eh=e):ja=0,$o(),null}function uu(){if(bi!==null){var e=U2(Z0),t=qr.transition,n=ct;try{if(qr.transition=null,ct=16>e?16:e,bi===null)var r=!1;else{if(e=bi,bi=null,Z0=0,Qe&6)throw Error(se(331));var s=Qe;for(Qe|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var a=l[u];for($e=a;$e!==null;){var c=$e;switch(c.tag){case 0:case 11:case 15:Ua(8,c,i)}var f=c.child;if(f!==null)f.return=c,$e=f;else for(;$e!==null;){c=$e;var d=c.sibling,g=c.return;if(eS(c),c===a){$e=null;break}if(d!==null){d.return=g,$e=d;break}$e=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ua(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,$e=h;break e}$e=i.return}}var p=e.current;for($e=p;$e!==null;){o=$e;var $=o.child;if(o.subtreeFlags&2064&&$!==null)$.return=o,$e=$;else e:for(o=p;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ed(9,l)}}catch(k){Bt(l,l.return,k)}if(l===o){$e=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,$e=C;break e}$e=l.return}}if(Qe=s,$o(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(yd,e)}catch{}r=!0}return r}finally{ct=n,qr.transition=t}}return!1}function fv(e,t,n){t=Du(n,t),t=bC(e,t,1),e=Qi(e,t,1),t=bn(),e!==null&&(Rc(e,1,t),rr(e,t))}function Bt(e,t,n){if(e.tag===3)fv(e,e,n);else for(;t!==null;){if(t.tag===3){fv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){e=Du(n,e),e=jC(t,e,1),t=Qi(t,e,1),e=bn(),t!==null&&(Rc(t,1,e),rr(t,e));break}}t=t.return}}function qN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&n,yn===e&&(kn&n)===n&&(cn===4||cn===3&&(kn&130023424)===kn&&500>Wt()-c$?Ho(e,0):a$|=n),rr(e,t)}function cS(e,t){t===0&&(e.mode&1?(t=af,af<<=1,!(af&130023424)&&(af=4194304)):t=1);var n=bn();e=_i(e,t),e!==null&&(Rc(e,t,n),rr(e,n))}function QN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cS(e,n)}function JN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(t),cS(e,n)}var fS;fS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tr.current)er=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return er=!1,LN(e,t,n);er=!!(e.flags&131072)}else er=!1,Ot&&t.flags&1048576&&hC(t,L0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Zf(e,t),e=t.pendingProps;var s=Mu(t,Rn.current);lu(t,n),s=r$(null,t,r,e,s,n);var i=s$();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nr(r)?(i=!0,z0(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yw(t),s.updater=kd,t.stateNode=s,s._reactInternals=t,hh(t,r,e,n),t=gh(null,t,r,!0,i,n)):(t.tag=0,Ot&&i&&Hw(t),An(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Zf(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=XN(r),e=os(r,e),s){case 0:t=$h(null,t,r,e,n);break e;case 1:t=tv(null,t,r,e,n);break e;case 11:t=Xy(null,t,r,e,n);break e;case 14:t=ev(null,t,r,os(r.type,e),n);break e}throw Error(se(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:os(r,s),$h(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:os(r,s),tv(e,t,r,s,n);case 3:e:{if(KC(t),e===null)throw Error(se(387));r=t.pendingProps,i=t.memoizedState,s=i.element,yC(e,t),B0(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Du(Error(se(423)),t),t=nv(e,t,r,n,s);break e}else if(r!==s){s=Du(Error(se(424)),t),t=nv(e,t,r,n,s);break e}else for(Cr=qi(t.stateNode.containerInfo.firstChild),kr=t,Ot=!0,as=null,n=CC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tu(),r===s){t=mi(e,t,n);break e}An(e,t,r,n)}t=t.child}return t;case 5:return SC(t),e===null&&fh(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,oh(r,s)?o=null:i!==null&&oh(r,i)&&(t.flags|=32),ZC(e,t),An(e,t,o,n),t.child;case 6:return e===null&&fh(t),null;case 13:return qC(e,t,n);case 4:return Xw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Iu(t,null,r,n):An(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:os(r,s),Xy(e,t,r,s,n);case 7:return An(e,t,t.pendingProps,n),t.child;case 8:return An(e,t,t.pendingProps.children,n),t.child;case 12:return An(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,kt(G0,r._currentValue),r._currentValue=o,i!==null)if(_s(i.value,o)){if(i.children===s.children&&!tr.current){t=mi(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=ui(-1,n&-n),u.tag=2;var a=i.updateQueue;if(a!==null){a=a.shared;var c=a.pending;c===null?u.next=u:(u.next=c.next,c.next=u),a.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),dh(i.return,n,t),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dh(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}An(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,lu(t,n),s=Jr(s),r=r(s),t.flags|=1,An(e,t,r,n),t.child;case 14:return r=t.type,s=os(r,t.pendingProps),s=os(r.type,s),ev(e,t,r,s,n);case 15:return HC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:os(r,s),Zf(e,t),t.tag=1,nr(r)?(e=!0,z0(t)):e=!1,lu(t,n),_C(t,r,s),hh(t,r,s,n),gh(null,t,r,!0,e,n);case 19:return QC(e,t,n);case 22:return WC(e,t,n)}throw Error(se(156,t.tag))};function dS(e,t){return L2(e,t)}function YN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(e,t,n,r){return new YN(e,t,n,r)}function h$(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XN(e){if(typeof e=="function")return h$(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vw)return 11;if(e===Ow)return 14}return 2}function Xi(e,t){var n=e.alternate;return n===null?(n=Hr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qf(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")h$(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fl:return Wo(n.children,s,i,t);case Nw:o=8,s|=8;break;case Lp:return e=Hr(12,n,t,s|2),e.elementType=Lp,e.lanes=i,e;case Gp:return e=Hr(13,n,t,s),e.elementType=Gp,e.lanes=i,e;case Ap:return e=Hr(19,n,t,s),e.elementType=Ap,e.lanes=i,e;case m2:return Td(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case v2:o=10;break e;case _2:o=9;break e;case Vw:o=11;break e;case Ow:o=14;break e;case Di:o=16,r=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=Hr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Wo(e,t,n,r){return e=Hr(7,e,r,t),e.lanes=n,e}function Td(e,t,n,r){return e=Hr(22,e,r,t),e.elementType=m2,e.lanes=n,e.stateNode={isHidden:!1},e}function I1(e,t,n){return e=Hr(6,e,null,t),e.lanes=n,e}function P1(e,t,n){return t=Hr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e7(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c1(0),this.expirationTimes=c1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c1(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function w$(e,t,n,r,s,i,o,l,u){return e=new e7(e,t,n,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Hr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yw(i),e}function t7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function pS(e){if(!e)return lo;e=e._reactInternals;e:{if(fl(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var n=e.type;if(nr(n))return dC(e,n,t)}return t}function hS(e,t,n,r,s,i,o,l,u){return e=w$(n,r,!0,e,s,i,o,l,u),e.context=pS(null),n=e.current,r=bn(),s=Yi(n),i=ui(r,s),i.callback=t??null,Qi(n,i,s),e.current.lanes=s,Rc(e,s,r),rr(e,r),e}function Id(e,t,n,r){var s=t.current,i=bn(),o=Yi(s);return n=pS(n),t.context===null?t.context=n:t.pendingContext=n,t=ui(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qi(s,t,o),e!==null&&($s(e,s,o,i),jf(e,s,o)),o}function q0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $$(e,t){dv(e,t),(e=e.alternate)&&dv(e,t)}function n7(){return null}var wS=typeof reportError=="function"?reportError:function(e){console.error(e)};function g$(e){this._internalRoot=e}Pd.prototype.render=g$.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));Id(e,t,null,null)};Pd.prototype.unmount=g$.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;il(function(){Id(null,e,null,null)}),t[vi]=null}};function Pd(e){this._internalRoot=e}Pd.prototype.unstable_scheduleHydration=function(e){if(e){var t=H2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ri.length&&t!==0&&t<Ri[n].priority;n++);Ri.splice(n,0,e),n===0&&Z2(e)}};function y$(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pv(){}function r7(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var a=q0(o);i.call(a)}}var o=hS(t,r,e,0,null,!1,!1,"",pv);return e._reactRootContainer=o,e[vi]=o.current,cc(e.nodeType===8?e.parentNode:e),il(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var a=q0(u);l.call(a)}}var u=w$(e,0,!1,null,null,!1,!1,"",pv);return e._reactRootContainer=u,e[vi]=u.current,cc(e.nodeType===8?e.parentNode:e),il(function(){Id(t,u,n,r)}),u}function Nd(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=q0(o);l.call(u)}}Id(t,o,e,s)}else o=r7(n,t,e,s,r);return q0(o)}b2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ma(t.pendingLanes);n!==0&&(Fw(t,n|1),rr(t,Wt()),!(Qe&6)&&(Nu=Wt()+500,$o()))}break;case 13:il(function(){var r=_i(e,1);if(r!==null){var s=bn();$s(r,e,1,s)}}),$$(e,1)}};Lw=function(e){if(e.tag===13){var t=_i(e,134217728);if(t!==null){var n=bn();$s(t,e,134217728,n)}$$(e,134217728)}};j2=function(e){if(e.tag===13){var t=Yi(e),n=_i(e,t);if(n!==null){var r=bn();$s(n,e,t,r)}$$(e,t)}};H2=function(){return ct};W2=function(e,t){var n=ct;try{return ct=e,t()}finally{ct=n}};Qp=function(e,t,n){switch(t){case"input":if(bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Cd(r);if(!s)throw Error(se(90));S2(r),bp(r,s)}}}break;case"textarea":x2(e,n);break;case"select":t=n.value,t!=null&&ru(e,!!n.multiple,t,!1)}};N2=f$;V2=il;var s7={usingClientEntryPoint:!1,Events:[Fc,Bl,Cd,P2,D2,f$]},ga={findFiberByHostInstance:Lo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i7={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=z2(e),e===null?null:e.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||n7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{yd=_f.inject(i7),Us=_f}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s7;Ir.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y$(t))throw Error(se(200));return t7(e,t,null,n)};Ir.createRoot=function(e,t){if(!y$(e))throw Error(se(299));var n=!1,r="",s=wS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=w$(e,1,!1,null,null,n,!1,r,s),e[vi]=t.current,cc(e.nodeType===8?e.parentNode:e),new g$(t)};Ir.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=z2(t),e=e===null?null:e.stateNode,e};Ir.flushSync=function(e){return il(e)};Ir.hydrate=function(e,t,n){if(!Dd(t))throw Error(se(200));return Nd(null,e,t,!0,n)};Ir.hydrateRoot=function(e,t,n){if(!y$(e))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=wS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=hS(t,null,e,1,n??null,s,!1,i,o),e[vi]=t.current,cc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Pd(t)};Ir.render=function(e,t,n){if(!Dd(t))throw Error(se(200));return Nd(null,e,t,!1,n)};Ir.unmountComponentAtNode=function(e){if(!Dd(e))throw Error(se(40));return e._reactRootContainer?(il(function(){Nd(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0):!1};Ir.unstable_batchedUpdates=f$;Ir.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Dd(n))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return Nd(e,t,n,!1,r)};Ir.version="18.2.0-next-9e3b772b8-20220608";function $S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($S)}catch(e){console.error(e)}}$S(),h2.exports=Ir;var gS=h2.exports,yS,hv=gS;yS=hv.createRoot,hv.hydrateRoot;class o7 extends de{constructor(t,n,r){super(),this.model=t,this.render=n,this.equal=r}}class l7 extends H.Component{constructor(t){super(t)}shouldComponentUpdate(t,n){const r=this;return!r.props.equal(r.props.model,t.model)}render(){return this.props.render()}}function u7(e,t,n,r){const s=new o7(n,()=>t(n,r),e);return H.createElement(l7,s)}const a7=(()=>{try{return Rr(H.version.slice(void 0,2),511,!1,32)>=18}catch{return!1}})();function c7(e,t,n){let r;return v3(cu(a7?(r=yS(document.getElementById(t)),s=>i=>{r.render(e(o=>l=>o===l,rg(n),s,i))}):s=>i=>{gS.render(e(o=>l=>o===l,rg(n),s,i),document.getElementById(t))}),n)}function f7(e,t){return c7((n,r,s,i)=>u7(cu(n),cu(r),s,i),e,t)}class Ii extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["StringDiagramPage","GraphPage","PolyGraphPage","OekakiPage","MultiOekakiPage","InterpreterPage","UemuraLogicalFrameworkPage"]}}function d7(e){switch(e.tag){case 1:return"graph";case 2:return"polygraph";case 3:return"oekaki";case 4:return"multi oekaki";case 5:return"interpreter";case 6:return"ulf";default:return"string diagram"}}const p7=Y([new Ii(1,[]),new Ii(0,[]),new Ii(2,[]),new Ii(3,[]),new Ii(4,[]),new Ii(5,[]),new Ii(6,[])]);class Qs extends de{constructor(t,n,r,s,i,o,l,u){super(),this.stringDiagram=t,this.graph=n,this.polyGraph=r,this.oekaki=s,this.multiOekaki=i,this.interpreter=o,this.uemuraLogicalFramework=l,this.page=u}}class It extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["GraphMsg","StringDiagramMsg","PolyGraphMsg","OekakiMsg","MultiOekakiMsg","InterpreterMsg","UemuraLogicalFrameworkMsg","ChangePage"]}}function h7(){const e=V_(),t=cm(),n=A4(),r=gP(),s=OP(),i=kD(),o=XD();return[new Qs(e[0],t[0],n[0],r[0],s[0],i[0],o[0],new Ii(0,[])),en(Y([Bn(l=>new It(1,[l]),e[1]),Bn(l=>new It(0,[l]),t[1]),Bn(l=>new It(2,[l]),n[1]),Bn(l=>new It(3,[l]),r[1]),Bn(l=>new It(4,[l]),s[1]),Bn(l=>new It(5,[l]),i[1]),Bn(l=>new It(6,[l]),o[1])]))]}function w7(e,t){switch(e.tag){case 1:{const n=O_(e.fields[0],t.stringDiagram);return[new Qs(n[0],t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.page),Bn(r=>new It(1,[r]),n[1])]}case 2:{const n=K4(e.fields[0],t.polyGraph);return[new Qs(t.stringDiagram,t.graph,n[0],t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.page),Bn(r=>new It(2,[r]),n[1])]}case 3:{const n=CP(e.fields[0],t.oekaki);return[new Qs(t.stringDiagram,t.graph,t.polyGraph,n[0],t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.page),Bn(r=>new It(3,[r]),n[1])]}case 4:{const n=FP(e.fields[0],t.multiOekaki);return[new Qs(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,n[0],t.interpreter,t.uemuraLogicalFramework,t.page),Bn(r=>new It(4,[r]),n[1])]}case 5:{const n=xD(e.fields[0],t.interpreter);return[new Qs(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,n[0],t.uemuraLogicalFramework,t.page),Bn(r=>new It(5,[r]),n[1])]}case 6:{const n=t5(e.fields[0],t.uemuraLogicalFramework);return[new Qs(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,n[0],t.page),Bn(r=>new It(6,[r]),n[1])]}case 7:return[new Qs(t.stringDiagram,t.graph,t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,e.fields[0]),ne()];default:{const n=wm(e.fields[0],t.graph);return[new Qs(t.stringDiagram,n[0],t.polyGraph,t.oekaki,t.multiOekaki,t.interpreter,t.uemuraLogicalFramework,t.page),Bn(r=>new It(0,[r]),n[1])]}}}function $7(e,t){const n=Q(m(()=>{let r,s;return E(S((r=D((s=Q(m(()=>fe(i=>H.createElement("button",{children:d7(i),onClick:o=>{t(new It(7,[i]))}}),p7))),H.createElement("ol",{children:Re.Children.toArray(Array.from(s))}))),H.createElement("nav",{children:Re.Children.toArray(Array.from(r))}))),m(()=>{const i=e.page;return i.tag===1?S($m(e.graph,o=>{t(new It(0,[o]))})):i.tag===2?S(J4(e.polyGraph,o=>{t(new It(2,[o]))})):i.tag===3?S(SP(e.oekaki,o=>{t(new It(3,[o]))})):i.tag===4?S(AP(e.multiOekaki,o=>{t(new It(4,[o]))})):i.tag===5?S(ED(e.interpreter,o=>{t(new It(5,[o]))})):i.tag===6?S(n5(e.uemuraLogicalFramework,o=>{t(new It(6,[o]))})):S(R_(e.stringDiagram,o=>{t(new It(1,[o]))}))}))}));return H.createElement("div",{children:Re.Children.toArray(Array.from(n))})}function g7(e,t,n,r){return he(s=>[xe(n,s[0]),i=>s[1](o=>i(r(o)))],t(e))}function y7(e){return Q(m(()=>{switch(e.page.tag){case 1:return he(n=>[xe("graph",n[0]),r=>n[1](s=>{r(new It(0,[s]))})],gm(e.graph));case 2:return he(n=>[xe("polygraph",n[0]),r=>n[1](s=>{r(new It(2,[s]))})],Y4(e.polyGraph));case 3:return g7(e.oekaki,kP,"oekaki",n=>new It(3,[n]));default:return Fe()}}))}const v7=E_(y7,tw(h7,w7,$7));C3(f7("root",v7));
//# sourceMappingURL=index-BYKa7oP2.js.map
